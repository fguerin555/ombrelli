/*! For license information please see main.2539753d.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},122:e=>{e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var S=Array.isArray,E=Object.prototype.hasOwnProperty,C={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!x.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:C.current}}function D(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+k(l,0):o,S(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),R(s,t,i,"",(function(e){return e}))):null!=s&&(D(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",S(e))for(var c=0;c<e.length;c++){var u=o+k(a=e[c],c);l+=R(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=R(a=a.value,t,i,u=o+k(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},P={transition:null},M={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:P,ReactCurrentOwner:C};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!D(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=C.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=D,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.3.1"},219:(e,t,n)=>{var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),g=l(n),m=0;m<s.length;++m){var v=s[m];if(!o[v]&&(!r||!r[v])&&(!g||!g[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(op){}}}}return t}},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,P(E);else{var t=r(u);null!==t&&M(S,t.startTime-e)}}function E(e,n){g=!1,m&&(m=!1,y(D),D=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!R());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&M(S,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,x=!1,_=null,D=-1,T=5,k=-1;function R(){return!(t.unstable_now()-k<T)}function A(){if(null!==_){var e=t.unstable_now();k=e;var n=!0;try{n=_(!0,e)}finally{n?C():(x=!1,_=null)}}else x=!1}if("function"===typeof b)C=function(){b(A)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,N=I.port2;I.port1.onmessage=A,C=function(){N.postMessage(null)}}else C=function(){v(A,0)};function P(e){_=e,x||(x=!0,C())}function M(e,n){D=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,P(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(y(D),D=-1):m=!0,M(S,o-s))):(e.sortIndex=a,n(c,e),g||p||(g=!0,P(E))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},528:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler");Symbol.for("react.provider");var a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case u:case d:case p:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case a:return e;default:return t}}case r:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===s||e===o||e===u||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===h||e.$$typeof===l||e.$$typeof===a||e.$$typeof===c||e.$$typeof===g||void 0!==e.getModuleId)}},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),T=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var j,L=Object.assign;function z(e){if(void 0===j)try{throw Error()}catch(sp){var t=sp.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var B=!1;function F(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Zf){var r=Zf}Reflect.construct(e,[],t)}else{try{t.call()}catch(Zf){r=Zf}e.call(t.prototype)}else{try{throw Error()}catch(Zf){r=Zf}e()}}catch(Zf){if(Zf&&r&&"string"===typeof Zf.stack){for(var i=Zf.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function $(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case E:return"Portal";case _:return"Profiler";case x:return"StrictMode";case R:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case D:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:$(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return $(e(t))}catch(sp){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(pp){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function oe(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var me=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,Ce=null;function xe(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=Si(t),Se(e.stateNode,e.type,t))}}function _e(e){Ee?Ce?Ce.push(e):Ce=[e]:Ee=e}function De(){if(Ee){var e=Ee,t=Ce;if(Ce=Ee=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Te(e,t){return e(t)}function ke(){}var Re=!1;function Ae(e,t,n){if(Re)return e(t,n);Re=!0;try{return Te(e,t,n)}finally{Re=!1,(null!==Ee||null!==Ce)&&(ke(),De())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ne=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(lp){Ne=!1}function Me(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(mp){this.onError(mp)}}var Oe=!1,je=null,Le=!1,ze=null,Be={onError:function(e){Oe=!0,je=e}};function Fe(e,t,n,r,i,o,s,a,l){Oe=!1,je=null,Me.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(o(188))}function Ve(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return He(i),e;if(s===r)return He(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Ke=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,Je=i.unstable_UserBlockingPriority,et=i.unstable_NormalPriority,tt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,rt=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/at|0)|0},st=Math.log,at=Math.LN2;var lt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ut(a):0!==(o&=s)&&(r=ut(o))}else 0!==(s=n&~i)?r=ut(s):0!==o&&(r=ut(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,Et,Ct,xt,_t=!1,Dt=[],Tt=null,kt=null,Rt=null,At=new Map,It=new Map,Nt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Ot(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void xt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){Lt(e)&&n.delete(t)}function Bt(){_t=!1,null!==Tt&&Lt(Tt)&&(Tt=null),null!==kt&&Lt(kt)&&(kt=null),null!==Rt&&Lt(Rt)&&(Rt=null),At.forEach(zt),It.forEach(zt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return Ft(t,e)}if(0<Dt.length){Ft(Dt[0],e);for(var n=1;n<Dt.length;n++){var r=Dt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ft(Tt,e),null!==kt&&Ft(kt,e),null!==Rt&&Ft(Rt,e),At.forEach(t),It.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)jt(n),null===n.blockedOn&&Nt.shift()}var $t=w.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var i=yt,o=$t.transition;$t.transition=null;try{yt=1,qt(e,t,n,r)}finally{yt=i,$t.transition=o}}function Wt(e,t,n,r){var i=yt,o=$t.transition;$t.transition=null;try{yt=4,qt(e,t,n,r)}finally{yt=i,$t.transition=o}}function qt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Vr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Ot(Tt,e,t,n,r,i),!0;case"dragenter":return kt=Ot(kt,e,t,n,r,i),!0;case"mouseover":return Rt=Ot(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Ot(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,It.set(o,Ot(It.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Qt(e,t,n,r))&&Vr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=yi(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case Je:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Kt=null,Xt=null,Zt=null;function Jt(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var on,sn,an,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(ln),un=L({},ln,{view:0,detail:0}),dn=rn(un),hn=L({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(on=e.screenX-an.screenX,sn=e.screenY-an.screenY):sn=on=0,an=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=rn(hn),pn=rn(L({},hn,{dataTransfer:0})),gn=rn(L({},un,{relatedTarget:0})),mn=rn(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=rn(vn),bn=rn(L({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function xn(){return Cn}var _n=L({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dn=rn(_n),Tn=rn(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=rn(L({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Rn=rn(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=rn(An),Nn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var On=u&&"TextEvent"in window&&!Mn,jn=u&&(!Pn||Mn&&8<Mn&&11>=Mn),Ln=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Vn(e,t,n,r){_e(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,qn=null;function Gn(e){zr(e,0)}function Qn(e){if(G(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Kn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Zn="function"===typeof Jn.oninput}Xn=Zn}else Xn=!1;Kn=Xn&&(!document.documentMode||9<document.documentMode)}function er(){Wn&&(Wn.detachEvent("onpropertychange",tr),qn=Wn=null)}function tr(e){if("value"===e.propertyName&&Qn(qn)){var t=[];Vn(t,qn,e,we(e)),Ae(Gn,t)}}function nr(e,t,n){"focusin"===e?(er(),qn=n,(Wn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(qn)}function ir(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ar(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var s=cr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,vr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ar(vr,r)||(vr=r,0<(r=qr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Cr={};function xr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Er[e]=n[t];return e}u&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var _r=xr("animationend"),Dr=xr("animationiteration"),Tr=xr("animationstart"),Rr=xr("transitionend"),Ar=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Ar.set(e,t),l(t,[e])}for(var Pr=0;Pr<Ir.length;Pr++){var Mr=Ir[Pr];Nr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Nr(_r,"onAnimationEnd"),Nr(Dr,"onAnimationIteration"),Nr(Tr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Rr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Fe.apply(this,arguments),Oe){if(!Oe)throw Error(o(198));var u=je;Oe=!1,je=null,Le||(Le=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,a,c),o=l}}}if(Le)throw e=ze,Le=!1,ze=null,e}function Br(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[Ur]){e[Ur]=!0,s.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Fr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var i=Vt;break;case 4:i=Wt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Ae((function(){var r=o,i=we(n),s=[];e:{var a=Ar.get(e);if(void 0!==a){var l=cn,c=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=Dn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=kn;break;case _r:case Dr:case Tr:l=mn;break;case Rr:l=Rn;break;case"scroll":l=dn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Ie(p,h))&&u.push(Wr(p,g,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(g,p+"leave",l,n,i)).target=d,a.relatedTarget=f,g=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,g=h;g;g=Gr(g))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==d&&Qr(s,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Yn;else if(Hn(a))if(Kn)m=or;else{m=rr;var v=nr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=ir);switch(m&&(m=m(e,r))?Vn(s,m,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,mr=r,vr=null);break;case"focusout":vr=mr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(s,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(s,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=Jt()):(Xt="value"in(Kt=i)?Kt.value:Kt.textContent,Un=!0)),0<(v=qr(r,b)).length&&(b=new bn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Fn(n))&&(b.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(zn=!0,Ln);case"textInput":return(e=t.data)===Ln&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Pn&&Bn(e,t)?(e=Jt(),Zt=Xt=Kt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}zr(s,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ie(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Ie(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ie(n,o))&&s.unshift(Wr(n,l,a)):i||null!=(l=Ie(n,o))&&s.push(Wr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Kr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Si(e){return e[fi]||null}var Ei=[],Ci=-1;function xi(e){return{current:e}}function _i(e){0>Ci||(e.current=Ei[Ci],Ei[Ci]=null,Ci--)}function Di(e,t){Ci++,Ei[Ci]=e.current,e.current=t}var Ti={},ki=xi(Ti),Ri=xi(!1),Ai=Ti;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){_i(Ri),_i(ki)}function Mi(e,t,n){if(ki.current!==Ti)throw Error(o(168));Di(ki,t),Di(Ri,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return L({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=ki.current,Di(ki,e),Di(Ri,Ri.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Oi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,_i(Ri),_i(ki),Di(ki,e)):_i(Ri),Di(Ri,n)}var zi=null,Bi=!1,Fi=!1;function Ui(e){null===zi?zi=[e]:zi.push(e)}function $i(){if(!Fi&&null!==zi){Fi=!0;var e=0,t=yt;try{var n=zi;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zi=null,Bi=!1}catch(op){throw null!==zi&&(zi=zi.slice(e+1)),qe(Ze,$i),op}finally{yt=t,Fi=!1}}return null}var Hi=[],Vi=0,Wi=null,qi=0,Gi=[],Qi=0,Yi=null,Ki=1,Xi="";function Zi(e,t){Hi[Vi++]=qi,Hi[Vi++]=Wi,Wi=e,qi=t}function Ji(e,t,n){Gi[Qi++]=Ki,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=Ki;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var o=32-ot(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ki=1<<32-ot(t)+i|n<<i|r,Xi=o+e}else Ki=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Zi(e,1),Ji(e,1,0))}function to(e){for(;e===Wi;)Wi=Hi[--Vi],Hi[Vi]=null,qi=Hi[--Vi],Hi[Vi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Ki=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ki,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case E:return(t=zc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function g(i,o,a,l){for(var c=null,u=null,d=o,g=o=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,a[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===a.length)return n(i,d),io&&Zi(i,g),c;if(null===d){for(;g<a.length;g++)null!==(d=h(i,a[g],l))&&(o=s(d,o,g),null===u?c=d:u.sibling=d,u=d);return io&&Zi(i,g),c}for(d=r(i,d);g<a.length;g++)null!==(m=p(d,i,g,a[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=s(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),io&&Zi(i,g),c}function m(i,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),a=s(b,a,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),io&&Zi(i,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(a=s(y,a,m),null===d?u=y:d.sibling=y,d=y);return io&&Zi(i,m),u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=s(y,a,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Zi(i,m),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===C&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case S:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===C){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&bo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=vo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===C?((o=Oc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Mc(s.type,s.key,s.props,null,r.mode,l)).ref=vo(r,o,s),l.return=r,r=l)}return a(r);case E:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=zc(s,r.mode,l)).return=r,r=o}return a(r);case N:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return g(r,o,s,l);if(O(s))return m(r,o,s,l);yo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Lc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var So=wo(!0),Eo=wo(!1),Co=xi(null),xo=null,_o=null,Do=null;function To(){Do=_o=xo=null}function ko(e){var t=Co.current;_i(Co),e._currentValue=t}function Ro(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ao(e,t){xo=e,Do=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(Do!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===xo)throw Error(o(308));_o=e,xo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var No=null;function Po(e){null===No?No=[e]:No.push(e)}function Mo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Po(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oo(e,r)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var jo=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&kl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oo(e,n)}return null===(i=r.interleaved)?(t.next=t,Po(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oo(e,n)}function Uo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function $o(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,r){var i=e.updateQueue;jo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:jo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);jl|=s,e.lanes=s,e.memoizedState=d}}function Vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Wo={},qo=xi(Wo),Go=xi(Wo),Qo=xi(Wo);function Yo(e){if(e===Wo)throw Error(o(174));return e}function Ko(e,t){switch(Di(Qo,t),Di(Go,e),Di(qo,Wo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(qo),Di(qo,t)}function Xo(){_i(qo),_i(Go),_i(Qo)}function Zo(e){Yo(Qo.current);var t=Yo(qo.current),n=le(t,e.type);t!==n&&(Di(Go,e),Di(qo,n))}function Jo(e){Go.current===e&&(_i(qo),_i(Go))}var es=xi(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=w.ReactCurrentDispatcher,os=w.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,fs=0;function ps(){throw Error(o(321))}function gs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Js:ea,e=n(r,i),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(ds)}if(is.current=Zs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(o(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function ws(e,t){return"function"===typeof t?t(e):t}function Ss(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=d,jl|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,sr(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,jl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Es(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);sr(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Cs(){}function xs(e,t){var n=as,r=bs(),i=t(),s=!sr(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,js(Ts.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Is(9,Ds.bind(null,n,r,i,t),void 0,null),null===Rl)throw Error(o(349));0!==(30&ss)||_s(n,t,i)}return i}function _s(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ds(e,t,n,r){t.value=n,t.getSnapshot=r,ks(t)&&Rs(e)}function Ts(e,t,n){return n((function(){ks(t)&&Rs(e)}))}function ks(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Rs(e){var t=Oo(e,1);null!==t&&nc(t,e,1,-1)}function As(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,as,e),[t.memoizedState,e]}function Is(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ns(){return bs().memoizedState}function Ps(e,t,n,r){var i=ys();as.flags|=e,i.memoizedState=Is(1|t,n,void 0,void 0===r?null:r)}function Ms(e,t,n,r){var i=bs();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&gs(r,s.deps))return void(i.memoizedState=Is(t,n,o,r))}as.flags|=e,i.memoizedState=Is(1|t,n,o,r)}function Os(e,t){return Ps(8390656,8,e,t)}function js(e,t){return Ms(2048,8,e,t)}function Ls(e,t){return Ms(4,2,e,t)}function zs(e,t){return Ms(4,4,e,t)}function Bs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ms(4,4,Bs.bind(null,t,e),n)}function Us(){}function $s(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(sr(n,t)||(n=pt(),as.lanes|=n,jl|=n,e.baseState=!0),t)}function Ws(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{yt=n,os.transition=r}}function qs(){return bs().memoizedState}function Gs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Ks(t,n);else if(null!==(n=Mo(e,t,n,r))){nc(n,e,r,ec()),Xs(n,t,r)}}function Qs(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Ks(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,sr(a,s)){var l=t.interleaved;return null===l?(i.next=i,Po(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(Zf){}null!==(n=Mo(e,t,i,r))&&(nc(n,e,r,i=ec()),Xs(n,t,r))}}function Ys(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ks(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Zs={readContext:Io,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Js={readContext:Io,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:Os,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ps(4194308,4,Bs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:As,useDebugValue:Us,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=As(!1),t=e[0];return e=Ws.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=ys();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Rl)throw Error(o(349));0!==(30&ss)||_s(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Os(Ts.bind(null,r,s,e),[e]),r.flags|=2048,Is(9,Ds.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Rl.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Ki&~(1<<32-ot(Ki)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Io,useCallback:$s,useContext:Io,useEffect:js,useImperativeHandle:Fs,useInsertionEffect:Ls,useLayoutEffect:zs,useMemo:Hs,useReducer:Ss,useRef:Ns,useState:function(){return Ss(ws)},useDebugValue:Us,useDeferredValue:function(e){return Vs(bs(),ls.memoizedState,e)},useTransition:function(){return[Ss(ws)[0],bs().memoizedState]},useMutableSource:Cs,useSyncExternalStore:xs,useId:qs,unstable_isNewReconciler:!1},ta={readContext:Io,useCallback:$s,useContext:Io,useEffect:js,useImperativeHandle:Fs,useInsertionEffect:Ls,useLayoutEffect:zs,useMemo:Hs,useReducer:Es,useRef:Ns,useState:function(){return Es(ws)},useDebugValue:Us,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Vs(t,ls.memoizedState,e)},useTransition:function(){return[Es(ws)[0],bs().memoizedState]},useMutableSource:Cs,useSyncExternalStore:xs,useId:qs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Bo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Fo(e,o,i))&&(nc(t,e,i,r),Uo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Bo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Fo(e,o,i))&&(nc(t,e,i,r),Uo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Bo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fo(e,i,r))&&(nc(t,e,r,n),Uo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!ar(n,r)||!ar(i,o))}function sa(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=Ni(t)?Ai:ki.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=Ni(t)?Ai:ki.current,i.context=Ii(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(ip){i="\nError generating stack: "+ip.message+"\n"+ip.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(sp){setTimeout((function(){throw sp}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Bo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Wl=r),da(0,t)},n}function pa(e,t,n){(n=Bo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bo(-1,1)).tag=2,Fo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?Eo(t,null,n,r):So(t,e.child,n,r)}function Sa(e,t,n,r,i){n=n.render;var o=t.ref;return Ao(t,i),r=ms(e,t,n,r,o,i),n=vs(),null===e||ba?(io&&n&&eo(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Nc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ca(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:ar)(s,r)&&e.ref===t.ref)return Va(e,t,i)}return t.flags|=1,(e=Pc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ca(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ar(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Va(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Da(e,t,n,r,i)}function xa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Di(Pl,Nl),Nl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Di(Pl,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Di(Pl,Nl),Nl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Di(Pl,Nl),Nl|=r;return wa(e,t,i,n),t.child}function _a(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Da(e,t,n,r,i){var o=Ni(n)?Ai:ki.current;return o=Ii(t,o),Ao(t,i),n=ms(e,t,n,r,o,i),r=vs(),null===e||ba?(io&&r&&eo(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function Ta(e,t,n,r,i){if(Ni(n)){var o=!0;ji(t)}else o=!1;if(Ao(t,i),null===t.stateNode)Ha(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Io(c):c=Ii(t,c=Ni(n)?Ai:ki.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),jo=!1;var h=t.memoizedState;s.state=h,Ho(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ri.current||jo?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=jo||oa(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,zo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Io(l):l=Ii(t,l=Ni(n)?Ai:ki.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),jo=!1,h=t.memoizedState,s.state=h,Ho(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ri.current||jo?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=jo||oa(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ka(e,t,n,r,o,i)}function ka(e,t,n,r,i,o){_a(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Li(t,n,!1),Va(e,t,o);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=So(t,e.child,null,o),t.child=So(t,null,a,o)):wa(e,t,a,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ra(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),Ko(e,t.containerInfo)}function Aa(e,t,n,r,i){return po(),go(i),t.flags|=256,wa(e,t,n,r),t.child}var Ia,Na,Pa,Ma,Oa={dehydrated:null,treeContext:null,retryLane:0};function ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Di(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=jc(l,i,0,null),e=Oc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ja(n),t.memoizedState=Oa,e):za(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ba(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(s=Oc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&So(t,e.child,null,a),t.child.memoizedState=ja(a),t.memoizedState=Oa,s);if(0===(1&t.mode))return Ba(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ba(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Rl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Oo(e,i),nc(r,e,i,-1))}return gc(),Ba(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Ki,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Ki=e.id,Xi=e.overflow,Yi=t),t=za(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Pc(r,a):(a=Oc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?ja(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Oa,i}return e=(a=e.child).sibling,i=Pc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function za(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ba(e,t,n,r){return null!==r&&go(r),So(t,e.child,null,n),(e=za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ro(e.return,t,n)}function Ua(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function $a(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fa(e,n,t);else if(19===e.tag)Fa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Di(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ua(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ua(t,!0,n,null,o);break;case"together":Ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Va(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(t),null;case 1:case 17:return Ni(t.type)&&Pi(),qa(t),null;case 3:return r=t.stateNode,Xo(),_i(Ri),_i(ki),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Na(e,t),qa(t),null;case 5:Jo(t);var i=Yo(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Pa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return qa(t),null}if(e=Yo(qo.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Br(Or[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":K(r,s),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Br("invalid",r);break;case"textarea":ie(r,s),Br("invalid",r)}for(var l in ve(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":q(r),J(r,s,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ia(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Br(Or[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":K(e,r),i=Y(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(s in ve(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Br("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":q(e),J(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qa(t),null;case 6:if(e&&null!=t.stateNode)Ma(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Qo.current),Yo(qo.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return qa(t),null;case 13:if(_i(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qa(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ml&&(Ml=3):gc())),null!==t.updateQueue&&(t.flags|=4),qa(t),null);case 4:return Xo(),Na(e,t),null===e&&$r(t.stateNode.containerInfo),qa(t),null;case 10:return ko(t.type._context),qa(t),null;case 19:if(_i(es),null===(s=t.memoizedState))return qa(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Wa(s,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Wa(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Di(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ke()>$l&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return qa(t),null}else 2*Ke()-s.renderingStartTime>$l&&1073741824!==n&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ke(),t.sibling=null,n=es.current,Di(es,r?1&n|2:1&n),t):(qa(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nl)&&(qa(t),6&t.subtreeFlags&&(t.flags|=8192)):qa(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),_i(Ri),_i(ki),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Jo(t),null;case 13:if(_i(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(es),null;case 4:return Xo(),null;case 10:return ko(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ia=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Na=function(){},Pa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo(qo.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ma=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Ka=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Za=null;function Ja(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){xc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(cp){}switch(n.tag){case 5:Ka||Ja(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ka&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ka&&(Ja(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(cp){xc(n,t,cp)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ka=(r=Ka)||null!==n.memoizedState,hl(e,t,n),Ka=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=kc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(s,a,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(Zf){xc(i,t,Zf)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(tp){xc(e,e.return,tp)}try{nl(5,e,e.return)}catch(tp){xc(e,e.return,tp)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&Ja(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&Ja(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(tp){xc(e,e.return,tp)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(i,s),ye(l,a);var u=ye(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?ue(i,h):"children"===d?de(i,h):b(i,d,h,u)}switch(l){case"input":Z(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(tp){xc(e,e.return,tp)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(tp){xc(e,e.return,tp)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(tp){xc(e,e.return,tp)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=Ke())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ka=(u=Ka)||d,gl(t,e),Ka=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Za=e,d=e.child;null!==d;){for(h=Za=d;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Ja(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(tp){xc(r,n,tp)}}break;case 5:Ja(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(h);continue}}null!==p?(p.return=f,Za=p):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",a))}catch(tp){xc(e,e.return,tp)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(tp){xc(e,e.return,tp)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){xc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ya;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ka;a=Ya;var c=Ka;if(Ya=s,(Ka=l)&&!c)for(Za=i;null!==Za;)l=(s=Za).child,22===s.tag&&null!==s.memoizedState?El(i):null!==l?(l.return=s,Za=l):El(i);for(;null!==o;)Za=o,bl(o,t,n),o=o.sibling;Za=i,Ya=a,Ka=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):wl(e)}}function wl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ka||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ka)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Vo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(o(163))}Ka||512&t.flags&&il(t)}catch(np){xc(t,t.return,np)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function El(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){xc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){xc(t,i,l)}}var o=t.return;try{il(t)}catch(l){xc(t,o,l)}break;case 5:var s=t.return;try{il(t)}catch(l){xc(t,s,l)}}}catch(l){xc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Cl,xl=Math.ceil,_l=w.ReactCurrentDispatcher,Dl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,kl=0,Rl=null,Al=null,Il=0,Nl=0,Pl=xi(0),Ml=0,Ol=null,jl=0,Ll=0,zl=0,Bl=null,Fl=null,Ul=0,$l=1/0,Hl=null,Vl=!1,Wl=null,ql=null,Gl=!1,Ql=null,Yl=0,Kl=0,Xl=null,Zl=-1,Jl=0;function ec(){return 0!==(6&kl)?Ke():-1!==Zl?Zl:Zl=Ke()}function tc(e){return 0===(1&e.mode)?1:0!==(2&kl)&&0!==Il?Il&-Il:null!==mo.transition?(0===Jl&&(Jl=pt()),Jl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Kl)throw Kl=0,Xl=null,Error(o(185));mt(e,n,r),0!==(2&kl)&&e===Rl||(e===Rl&&(0===(2&kl)&&(Ll|=n),4===Ml&&ac(e,Il)),rc(e,r),1===n&&0===kl&&0===(1&t.mode)&&($l=Ke()+500,Bi&&$i()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-ot(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ht(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Rl?Il:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Bi=!0,Ui(e)}(lc.bind(null,e)):Ui(lc.bind(null,e)),si((function(){0===(6&kl)&&$i()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=Je;break;case 16:default:n=et;break;case 536870912:n=nt}n=Rc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zl=-1,Jl=0,0!==(6&kl))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=dt(e,e===Rl?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=kl;kl|=2;var s=pc();for(Rl===e&&Il===t||(Hl=null,$l=Ke()+500,hc(e,t));;)try{yc();break}catch(cp){fc(e,cp)}To(),_l.current=s,kl=i,null!==Al?t=0:(Rl=null,Il=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ol,hc(e,0),ac(e,r),rc(e,Ke()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(s=ft(e))&&(r=s,t=oc(e,s))),1===t))throw n=Ol,hc(e,0),ac(e,r),rc(e,Ke()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,Fl,Hl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Ul+500-Ke())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Fl,Hl),t);break}Sc(e,Fl,Hl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ke()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Fl,Hl),r);break}Sc(e,Fl,Hl);break;default:throw Error(o(329))}}}return rc(e,Ke()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Fl,Fl=n,null!==t&&sc(t)),e}function sc(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function ac(e,t){for(t&=~zl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&kl))throw Error(o(327));Ec();var t=dt(e,0);if(0===(1&t))return rc(e,Ke()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ol,hc(e,0),ac(e,t),rc(e,Ke()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Fl,Hl),rc(e,Ke()),null}function cc(e,t){var n=kl;kl|=1;try{return e(t)}finally{0===(kl=n)&&($l=Ke()+500,Bi&&$i())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&kl)&&Ec();var t=kl;kl|=1;var n=Tl.transition,r=yt;try{if(Tl.transition=null,yt=1,e)return e()}finally{yt=r,Tl.transition=n,0===(6&(kl=t))&&$i()}}function dc(){Nl=Pl.current,_i(Pl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Xo(),_i(Ri),_i(ki),rs();break;case 5:Jo(r);break;case 4:Xo();break;case 13:case 19:_i(es);break;case 10:ko(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Rl=e,Al=e=Pc(e.current,null),Il=Nl=t,Ml=0,Ol=null,zl=Ll=jl=0,Fl=Bl=null,null!==No){for(t=0;t<No.length;t++)if(null!==(r=(n=No[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}No=null}return e}function fc(e,t){for(;;){var n=Al;try{if(To(),is.current=Zs,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,Dl.current=null,null===n||null===n.return){Ml=1,Ol=t,Al=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ma(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ga(s,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ga(s,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=ma(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),go(ca(c,l));break e}}s=c=ca(c,l),4!==Ml&&(Ml=2),null===Bl?Bl=[s]:Bl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,$o(s,fa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,$o(s,pa(s,l,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var e=_l.current;return _l.current=Zs,null===e?Zs:e}function gc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Rl||0===(268435455&jl)&&0===(268435455&Ll)||ac(Rl,Il)}function mc(e,t){var n=kl;kl|=2;var r=pc();for(Rl===e&&Il===t||(Hl=null,hc(e,t));;)try{vc();break}catch(op){fc(e,op)}if(To(),kl=n,_l.current=r,null!==Al)throw Error(o(261));return Rl=null,Il=0,Ml}function vc(){for(;null!==Al;)bc(Al)}function yc(){for(;null!==Al&&!Qe();)bc(Al)}function bc(e){var t=Cl(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,null===t?wc(e):Al=t,Dl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Nl)))return void(Al=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ml=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ml&&(Ml=5)}function Sc(e,t,n){var r=yt,i=Tl.transition;try{Tl.transition=null,yt=1,function(e,t,n,r){do{Ec()}while(null!==Ql);if(0!==(6&kl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Rl&&(Al=Rl=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Rc(et,(function(){return Ec(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=yt;yt=1;var l=kl;kl|=4,Dl.current=null,function(e,t){if(ei=Ht,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(kr){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(kr){xc(t,t.return,kr)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}g=tl,tl=!1}(e,n),ml(n,e),fr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ye(),kl=l,yt=a,Tl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Yl=i),s=e.pendingLanes,0===s&&(ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ke()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Wl,Wl=null,e;0!==(1&Yl)&&0!==e.tag&&Ec(),s=e.pendingLanes,0!==(1&s)?e===Xl?Kl++:(Kl=0,Xl=e):Kl=0,$i()}(e,t,n,r)}finally{Tl.transition=i,yt=r}return null}function Ec(){if(null!==Ql){var e=bt(Yl),t=Tl.transition,n=yt;try{if(Tl.transition=null,yt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&kl))throw Error(o(331));var i=kl;for(kl|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var d=Za;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Za=h;else for(;null!==Za;){var f=(d=Za).sibling,p=d.return;if(ol(d),d===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Za=y;break e}Za=s.return}}var b=e.current;for(Za=b;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=b;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){xc(l,l.return,E)}if(l===a){Za=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,Za=S;break e}Za=l.return}}if(kl=i,$i(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(E){}r=!0}return r}finally{yt=n,Tl.transition=t}}return!1}function Cc(e,t,n){e=Fo(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function xc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Fo(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Rl===e&&(Il&n)===n&&(4===Ml||3===Ml&&(130023424&Il)===Il&&500>Ke()-Ul?hc(e,0):zl|=n),rc(e,t)}function Dc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=ec();null!==(e=Oo(e,t))&&(mt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Dc(e,n)}function kc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Dc(e,n)}function Rc(e,t){return qe(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Ac(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Nc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return Oc(n.children,i,s,t);case x:a=8,i|=8;break;case _:return(e=Ic(12,n,t,2|i)).elementType=_,e.lanes=s,e;case R:return(e=Ic(13,n,t,i)).elementType=R,e.lanes=s,e;case A:return(e=Ic(19,n,t,i)).elementType=A,e.lanes=s,e;case P:return jc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case D:a=10;break e;case T:a=9;break e;case k:a=11;break e;case I:a=14;break e;case N:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ic(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Oc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,i,o,s,a,l){return e=new Bc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ic(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Uc(e){if(!e)return Ti;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Oi(e,n,t)}return t}function $c(e,t,n,r,i,o,s,a,l){return(e=Fc(n,r,!0,e,0,o,0,a,l)).context=Uc(null),n=e.current,(o=Bo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Fo(n,o,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fo(i,t,s))&&(nc(e,i,s,o),Uo(e,i,s)),s}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ra(t),po();break;case 5:Zo(t);break;case 1:Ni(t.type)&&ji(t);break;case 4:Ko(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Di(Co,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Di(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?La(e,t,n):(Di(es,1&es.current),null!==(e=Va(e,t,n))?e.sibling:null);Di(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return $a(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Di(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,n)}return Va(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,io&&0!==(1048576&t.flags)&&Ji(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Ii(t,ki.current);Ao(t,n),i=ms(null,t,r,e,i,n);var s=vs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(s=!0,ji(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=ka(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===k)return 11;if(e===I)return 14}return 2}(r),e=na(r,e),i){case 0:t=Da(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=Sa(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Da(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Ra(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,zo(e,t),Ho(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Aa(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Aa(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Eo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Va(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Zo(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),_a(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return La(e,t,n);case 4:return Ko(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=So(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Di(Co,r._currentValue),r._currentValue=a,null!==s)if(sr(s.value,a)){if(s.children===i.children&&!Ri.current){t=Va(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Bo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ro(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ro(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ao(t,n),r=r(i=Io(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Ea(e,t,r,i=na(r.type,i),n);case 15:return Ca(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ha(e,t),t.tag=1,Ni(r)?(e=!0,ji(t)):e=!1,Ao(t,n),sa(t,r,i),la(t,r,i,n),ka(null,t,r,!0,e,n);case 19:return $a(e,t,n);case 22:return xa(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Jc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Vc(s);a.call(e)}}Hc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Vc(s);o.call(e)}}var s=$c(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,$r(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Vc(l);a.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,$r(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Vc(s)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Ke()),0===(6&kl)&&($l=Ke()+500,$i()))}break;case 13:uc((function(){var t=Oo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},St=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Oo(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},Ct=function(){return yt},xt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Se=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(o(90));G(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,ke=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,Si,_e,De,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{rt=ru.inject(nu),it=ru}catch(lp){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,$r(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=$c(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,$r(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},763:(e,t,n)=>{e.exports=n(983)},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},983:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case g:case l:return e;default:return t}}case i:return t}}}function E(e){return S(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||S(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return S(e)===c},t.isContextProvider=function(e){return S(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return S(e)===h},t.isFragment=function(e){return S(e)===o},t.isLazy=function(e){return S(e)===m},t.isMemo=function(e){return S(e)===g},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===a},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=S}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(op){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),o=n.t(i,2),s=n(391),a=n(950),l=n.t(a,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(op){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,a=o.history,l=r.Pop,h=null,m=v();function v(){return(a.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-m;m=e,h&&h({action:l,location:w.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,a.replaceState(c({},a.state,{idx:m}),""));let w={get action(){return l},get location(){return e(o,a)},listen(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(u,y),h=e,()=>{o.removeEventListener(u,y),h=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(w.location,e,t);n&&n(i,e),m=v()+1;let c=f(i,m),u=w.createHref(i);try{a.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;o.location.assign(u)}s&&h&&h({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(w.location,e,t);n&&n(i,e),m=v();let o=f(i,m),c=w.createHref(i);a.replaceState(o,"",c),s&&h&&h({action:l,location:w.location,delta:0})},go:e=>a.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=M(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let o=S(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=P(i);s=I(o[a],e,r)}return s}function S(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(d(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=B([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),S(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:A(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of E(e.path))i(e,t,r);else i(e,t)})),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=E(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const C=/^:[\w-]+$/,x=3,_=2,D=1,T=10,k=-2,R=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(R)&&(r+=k),t&&(r+=_),n.filter((e=>!R(e))).reduce(((e,t)=>e+(C.test(t)?x:""===t?D:T)),r)}function I(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=N({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=N({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:B([o,u.pathname]),pathnameBase:F(B([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=B([o,u.pathnameBase]))}return s}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:o,pathnameBase:s,pattern:e}}function P(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function j(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=j(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function z(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:U(r),hash:$(i)}}(i,o),u=a&&"/"!==a&&a.endsWith("/"),h=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const B=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],W=(new Set(V),["get",...V]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const G=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext(null);const K=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=i.createContext(null);function J(){return null!=i.useContext(K)}function ee(){return J()||d(!1),i.useContext(K).location}function te(e){i.useContext(Y).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=pe(de.UseNavigateStable),n=i.useRef(!1);return te((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},i)))}),[e,t])}():function(){J()||d(!1);let e=i.useContext(G),{basename:t,future:n,navigator:r}=i.useContext(Y),{matches:o}=i.useContext(X),{pathname:s}=ee(),a=JSON.stringify(L(o,n.v7_relativeSplatPath)),l=i.useRef(!1);return te((()=>{l.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=z(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:B([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,a,s,e])}()}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Y),{matches:o}=i.useContext(X),{pathname:s}=ee(),a=JSON.stringify(L(o,r.v7_relativeSplatPath));return i.useMemo((()=>z(e,JSON.parse(a),s,"path"===n)),[e,a,s,n])}function ie(e,t,n,o){J()||d(!1);let{navigator:s,static:a}=i.useContext(Y),{matches:l}=i.useContext(X),c=l[l.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=ee();if(t){var g;let e="string"===typeof t?m(t):t;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||d(!1),f=e}else f=p;let v=f.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!a&&n&&n.matches&&n.matches.length>0?n.matches:b(e,{pathname:y});let S=ce(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:B([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:B([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,o);return t&&S?i.createElement(K.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:r.Pop}},S):S}function oe(){let e=function(){var e;let t=i.useContext(Z),n=fe(de.UseRouteError),r=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const se=i.createElement(oe,null);class ae extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(G);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function ce(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,r,o)=>{let s,d=!1,h=null,f=null;var p;n&&(s=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||se,c&&(u<0&&0===o?(p="route-fallback",!1||ge[p]||(ge[p]=!0),d=!0,f=null):u===o&&(d=!0,f=r.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,o+1)),m=()=>{let t;return t=s?h:d?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(le,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=i.useContext(G);return t||d(!1),t}function fe(e){let t=i.useContext(Q);return t||d(!1),t}function pe(e){let t=function(){let e=i.useContext(X);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const ge={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ve(e){d(!1)}function ye(e){let{basename:t="/",children:n=null,location:o,navigationType:s=r.Pop,navigator:a,static:l=!1,future:c}=e;J()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:u,navigator:a,static:l,future:q({v7_relativeSplatPath:!1},c)})),[u,c,a,l]);"string"===typeof o&&(o=m(o));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=o,b=i.useMemo((()=>{let e=M(f,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:s}}),[u,f,p,g,v,y,s]);return null==b?null:i.createElement(Y.Provider,{value:h},i.createElement(K.Provider,{children:n,value:b}))}function be(e){let{children:t,location:n}=e;return ie(we(t),n)}new Promise((()=>{}));i.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,we(e.props.children,o));e.type!==ve&&d(!1),e.props.index&&e.props.children&&d(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=we(e.props.children,o)),n.push(s)})),n}function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(op){}new Map;const xe=o.startTransition;l.flushSync,o.useId;function _e(e){let{basename:t,children:n,future:r,window:o}=e,s=i.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),v((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:g(t)}),null,a)));let l=s.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=i.useCallback((e=>{d&&xe?xe((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(h)),[l,h]),i.useEffect((()=>me(r)),[r]),i.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const De="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=i.forwardRef((function(e,t){let n,{onClick:r,relative:o,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=Ee(e,Ce),{basename:m}=i.useContext(Y),v=!1;if("string"===typeof u&&Te.test(u)&&(n=u,De))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=M(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(op){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;J()||d(!1);let{basename:r,navigator:o}=i.useContext(Y),{hash:s,pathname:a,search:l}=re(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:B([r,a])),o.createHref({pathname:c,search:l,hash:s})}(u,{relative:o}),b=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:s,relative:a,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=re(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(u)===g(d);c(e,{replace:n,state:o,preventScrollReset:s,relative:a,viewTransition:l})}}),[u,c,d,r,o,n,e,s,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:o,viewTransition:f});return i.createElement("a",Se({},p,{href:n||y,onClick:v||s?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Re,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Re||(Re={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));const Ie={beach_plan:"BeachPlan_beach_plan__sAzGI",dateSelector:"BeachPlan_dateSelector__BMGjG",myButton:"BeachPlan_myButton__gnmD0",viewListButton:"BeachPlan_viewListButton__JYKTp",loadingIndicator:"BeachPlan_loadingIndicator__TL2+E",errorLoading:"BeachPlan_errorLoading__e1Ee3",row:"BeachPlan_row__Psn4E",cell:"BeachPlan_cell__noeaa",cellHalf:"BeachPlan_cellHalf__vMoR0",colorEmpty:"BeachPlan_colorEmpty__NTL4E",colorMatin:"BeachPlan_colorMatin__MIGMc",colorApresMidi:"BeachPlan_colorApresMidi__LdJka",colorJourEntier:"BeachPlan_colorJourEntier__kEfau"},Ne="ReservationModal_modalOverlay__HxKP4",Pe="ReservationModal_modalContent__bq3pn",Me="ReservationModal_serialNumber__Osiof",Oe="ReservationModal_formGroup__yVHYs",je="ReservationModal_assignedCabinInfo__KztBJ",Le="ReservationModal_errorText__YytNx",ze="ReservationModal_formRow__GhXRK",Be="ReservationModal_actionChoiceSection__O8FWU",Fe="ReservationModal_buttonGroupChoice__sjPfR",Ue="ReservationModal_choiceButton__D7w1C",$e="ReservationModal_buttonGroup__Du8kc",He="ReservationModal_deleteButton__sME5q",Ve="ReservationModal_singleDaySection__y9qMi";var We=n(579);const qe=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"",Ge=e=>{if(!e)return"";try{const[t,n,r]=e.split("-");return`${r}/${n}/${t}`}catch(op){return console.warn("Formatage date \xe9chou\xe9 pour:",e),e}},Qe="ABCDEFGHIJKLMNOPQRSTUWXYZ".split(""),Ye=(e,t,n,r)=>!!(e&&t&&n&&r)&&(e<=r&&t>=n),Ke=e=>{var t;let{isOpen:n,onClose:r,cellCode:o,reservationData:s,onSave:a,onDelete:l,isSaving:c,selectedDate:u,allReservations:d}=e;const[h,f]=(0,i.useState)({}),[p,g]=(0,i.useState)(!0),m=(()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`})(),[v,y]=(0,i.useState)("loading"),[b,w]=(0,i.useState)(null),[S,E]=(0,i.useState)(null),[C,x]=(0,i.useState)(""),[_,D]=(0,i.useState)(!1),[T,k]=(0,i.useState)(!1),[R,A]=(0,i.useState)(""),[I,N]=(0,i.useState)(""),[P,M]=(0,i.useState)(""),O=(0,i.useCallback)(((e,t)=>{if(!e||!t||!Array.isArray(d))return null;const n=d.filter((n=>n.cabina&&n.id!==h.id&&Ye(e,t,n.startDate,n.endDate))).map((e=>e.cabina)),r=[...new Set(n)];for(const i of Qe)if(!r.includes(i))return i;return null}),[d,h.id]),j=(0,i.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jour entier",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];f((n=>({id:null,serialNumber:null,nom:"",prenom:"",numBeds:2,registiPoltrona:"",startDate:t?n.startDate:u||m,endDate:t?n.endDate:u||m,condition:e}))),k(!1),A(""),N(""),M(""),D(!1)}),[u,m]);(0,i.useEffect)((()=>{if(n){y("loading"),w(null),E(null),M("");const e=s||{},t=!e.id;g(t);const n=e.condition||"jour entier",r=e.startDate||u||m,i=e.endDate||u||m;f({id:e.id||null,serialNumber:e.serialNumber||null,nom:qe(e.nom||""),prenom:qe(e.prenom||""),numBeds:void 0===e.numBeds?2:Math.min(Math.max(Number(e.numBeds)||0,0),3),registiPoltrona:e.registiPoltrona||"",startDate:r,endDate:i,condition:n});const a=!!e.cabina;k(a),A(e.cabina||""),N("");let l="editExisting";if(!t&&"jour entier"!==n&&u>=r&&u<=i){E(n);const t="matin"===n?"apres-midi":"matin";d.some((n=>n.id!==e.id&&n.cellCode===o&&u>=n.startDate&&u<=n.endDate&&(n.condition===t||"jour entier"===n.condition)))?l="editExisting":(w(t),l="view")}else t?(l="editExisting",j("jour entier",!1)):l="editExisting";y(l);const c=!t&&r!==i&&(u&&u>=r&&u<=i)&&"editExisting"===l;D(c),x(c?n:"")}else y("loading"),f({}),g(!0),w(null),E(null),k(!1),A(""),N(""),M(""),D(!1),x("")}),[s,n,u,m,d,o,j]),(0,i.useEffect)((()=>{if(n)if(T)if(h.startDate&&h.endDate&&h.startDate<=h.endDate){const e=O(h.startDate,h.endDate);e?(A(e),N("")):(A(""),N("Nessuna cabina disponibile."))}else A(""),h.startDate&&h.endDate&&h.startDate>h.endDate?N("Fine prima di inizio."):N("");else A(""),N("")}),[n,T,h.startDate,h.endDate,O]),(0,i.useEffect)((()=>{if(!n||"loading"===v||"view"===v)return void M("");if(M(""),!o||!h.startDate||!h.endDate||!h.condition||!Array.isArray(d)||h.startDate>h.endDate)return;const e=h.id,t=h.startDate,r=h.endDate,i=h.condition,s=d.find((n=>{if(e&&n.id===e)return!1;if(n.cellCode===o&&Ye(t,r,n.startDate,n.endDate)){const e=n.condition;if("jour entier"===i||"jour entier"===e||i===e)return!0}return!1}));if(s){let e=s.condition.replace("apres-midi","pomeriggio").replace("jour entier","giorno intero");const t=Ge(s.startDate),n=Ge(s.endDate);M(`Conflitto: Ombrellone ${o} gi\xe0 prenotato (${e}) ${t===n?`il ${t}`:`dal ${t} al ${n}`} (Cliente: ${s.nom} ${s.prenom}, N\xb0 ${s.serialNumber||"N/A"}). Modificare date o condizione.`)}else M("")}),[n,v,o,h.startDate,h.endDate,h.condition,h.id,d]);const L=e=>{const{name:t,value:n,type:r,checked:i}=e.target;if("requestCabin"===t)return void k(i);if("singleDayCondition"===t)return void x(n);let o=n;if("registiPoltrona"===t){const e=n.toUpperCase();o=["R","P",""].includes(e)?e:h.registiPoltrona}else if("nom"===t||"prenom"===t)o=qe(n);else if("number"===r){const n=e.target.valueAsNumber;o=isNaN(n)?"":n,"numBeds"===t&&"number"===typeof o&&(o=Math.min(Math.max(o,0),3))}f((e=>{const n={...e,[t]:o};if("startDate"===t&&n.endDate&&n.endDate<o&&(n.endDate=o),"endDate"===t&&n.startDate&&o<n.startDate&&(n.startDate=o),"editExisting"===v){const e=n.startDate&&n.endDate&&n.startDate!==n.endDate,t=u&&n.startDate&&n.endDate&&u>=n.startDate&&u<=n.endDate;D(!p&&e&&t)}else D(!1);return n}))};if(!n)return null;const z=c||T&&!R&&!!I||!!P,B="addHalfDay"===v||"editExisting"===v&&s&&s.id&&(h.nom!==qe(s.nom||"")||h.prenom!==qe(s.prenom||""));return(0,We.jsx)("div",{className:Ne,children:(0,We.jsxs)("div",{className:Pe,children:[(0,We.jsxs)("h2",{children:["addHalfDay"===v||p&&"view"!==v?"Nuova Prenotazione":"Modifica Prenotazione"," per ",(0,We.jsx)("strong",{children:o})]}),"view"===v&&b&&(0,We.jsxs)("div",{className:Be,children:[(0,We.jsxs)("p",{children:["Prenotazione esistente per"," ",(0,We.jsx)("strong",{children:"matin"===S?"la Mattina":"il Pomeriggio"}),"."]}),(0,We.jsxs)("p",{children:["L'altra met\xe0 giornata (",(0,We.jsx)("strong",{children:"matin"===b?"Mattina":"Pomeriggio"}),") \xe8 libera il ",Ge(u),"."]}),(0,We.jsx)("p",{children:"Cosa vuoi fare?"}),(0,We.jsxs)("div",{className:Fe,children:[(0,We.jsxs)("button",{onClick:()=>{j(b,!0),y("addHalfDay")},className:Ue,children:["Aggiungi Nuova (","matin"===b?"Mattina":"Pomeriggio",")"]}),(0,We.jsxs)("button",{onClick:()=>{y("editExisting")},className:Ue,children:["Modifica Esistente (","matin"===S?"Mattina":"Pomeriggio",")"]})]}),(0,We.jsx)("button",{type:"button",onClick:r,style:{marginTop:"15px"},children:"Annulla / Esci"})]}),("editExisting"===v||"addHalfDay"===v)&&(0,We.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!h.nom||!h.prenom)return void alert("Cognome e Nome sono obbligatori.");if(!h.startDate||!h.endDate)return void alert("Le date di inizio e fine sono obbligatorie.");if(h.endDate<h.startDate)return void alert("La data di fine non pu\xf2 essere precedente alla data di inizio.");if(""===h.numBeds||isNaN(h.numBeds)||h.numBeds<0||h.numBeds>3)return void alert("Il numero di lettini deve essere compreso tra 0 e 3.");if(T&&!R&&I)return void alert(`Impossibile salvare: ${I}`);if(T&&!R&&!I)return void alert("Attendere l'assegnazione della cabina o deselezionare la richiesta.");if(P)return void alert("Impossibile salvare a causa di un conflitto con un'altra prenotazione.\n"+P);let t={...h,cellCode:o,cabina:T&&R?R:null};"addHalfDay"===v?(console.log("Salvataggio 'addHalfDay', forzando creazione."),delete t.id,delete t.serialNumber):"editExisting"===v&&s&&s.id&&(h.nom!==qe(s.nom||"")||h.prenom!==qe(s.prenom||""))&&(console.log("Salvataggio 'editExisting' con cambio nome/cognome, forzando creazione."),delete t.id,delete t.serialNumber),"editExisting"===v&&_&&C&&C!==h.condition?t={...t,modifySingleDay:!0,targetDate:u,targetDateCondition:C}:t.modifySingleDay=!1,a(t)},children:[h.serialNumber&&"editExisting"===v&&!B&&(0,We.jsxs)("p",{className:Me,children:["N\xb0 Prenotazione: ",(0,We.jsx)("strong",{children:h.serialNumber})]}),(0,We.jsxs)("div",{className:Oe,children:[(0,We.jsx)("label",{htmlFor:"condition",children:"Condizione:"}),(0,We.jsxs)("select",{id:"condition",name:"condition",value:h.condition||"jour entier",onChange:L,required:!0,disabled:"addHalfDay"===v,children:[(0,We.jsx)("option",{value:"jour entier",children:"Giorno Intero"}),(0,We.jsx)("option",{value:"matin",children:"Mattina"}),(0,We.jsx)("option",{value:"apres-midi",children:"Pomeriggio"})]}),"addHalfDay"===v&&(0,We.jsx)("small",{style:{marginLeft:"10px"},children:"(Per la mezza giornata libera)"})]}),P&&(0,We.jsx)("p",{className:Le,style:{color:"red",fontWeight:"bold",marginTop:"-5px",marginBottom:"10px"},children:P}),(0,We.jsxs)("div",{className:ze,children:[(0,We.jsxs)("div",{className:Oe,style:{flex:1},children:[(0,We.jsx)("label",{htmlFor:"nom",children:"Cognome:"}),(0,We.jsx)("input",{id:"nom",name:"nom",value:h.nom||"",onChange:L,required:!0,autoComplete:"family-name",type:"text"})]}),(0,We.jsxs)("div",{className:Oe,style:{flex:1},children:[(0,We.jsx)("label",{htmlFor:"prenom",children:"Nome:"}),(0,We.jsx)("input",{id:"prenom",name:"prenom",value:h.prenom||"",onChange:L,required:!0,autoComplete:"given-name",type:"text"})]})]}),(0,We.jsxs)("div",{className:ze,children:[(0,We.jsxs)("div",{className:Oe,style:{flex:1},children:[(0,We.jsx)("label",{htmlFor:"numBeds",children:"N\xb0 lettini (0-3):"}),(0,We.jsx)("input",{id:"numBeds",name:"numBeds",value:null!==(t=h.numBeds)&&void 0!==t?t:"",onChange:L,required:!0,min:"0",max:"3",type:"number",step:"1"})]}),(0,We.jsxs)("div",{className:Oe,style:{flex:1},children:[(0,We.jsx)("label",{htmlFor:"registiPoltrona",children:"+ Regista (R) / Poltrona (P):"}),(0,We.jsx)("input",{id:"registiPoltrona",name:"registiPoltrona",value:h.registiPoltrona||"",onChange:L,maxLength:"1",placeholder:"R / P",style:{textTransform:"uppercase"},type:"text"})]})]}),(0,We.jsxs)("div",{className:ze,children:[(0,We.jsxs)("div",{className:Oe,style:{flex:1},children:[(0,We.jsx)("label",{htmlFor:"startDate",children:"Primo Giorno:"}),(0,We.jsx)("input",{id:"startDate",name:"startDate",value:h.startDate||"",onChange:L,required:!0,type:"date"})]}),(0,We.jsxs)("div",{className:Oe,style:{flex:1},children:[(0,We.jsx)("label",{htmlFor:"endDate",children:"Ultimo Giorno:"}),(0,We.jsx)("input",{id:"endDate",name:"endDate",value:h.endDate||"",onChange:L,required:!0,min:h.startDate||"",type:"date"})]})]}),(0,We.jsxs)("div",{className:Oe,style:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap",marginTop:"10px"},children:[(0,We.jsx)("label",{htmlFor:"requestCabin",style:{marginBottom:0,marginRight:"5px"},children:"Richiedi Cabina:"}),(0,We.jsx)("input",{type:"checkbox",id:"requestCabin",name:"requestCabin",checked:T,onChange:L,style:{width:"auto",cursor:"pointer",transform:"scale(1.2)"}}),T&&(0,We.jsx)("span",{className:`${je} ${I?Le:""}`,style:{marginLeft:"10px",fontWeight:"bold"},children:R?`Assegnata: ${R}`:I||"Ricerca..."})]}),"editExisting"===v&&_&&(0,We.jsxs)("div",{className:Ve,children:[(0,We.jsxs)("p",{children:["Modifica solo per il giorno"," ",(0,We.jsx)("strong",{children:Ge(u)})]}),(0,We.jsxs)("div",{className:Oe,children:[(0,We.jsx)("label",{htmlFor:"singleDayCondition",children:"Condizione per questo giorno:"}),(0,We.jsxs)("select",{id:"singleDayCondition",name:"singleDayCondition",value:C,onChange:L,children:[(0,We.jsxs)("option",{value:h.condition||"jour entier",children:["-- Mantieni (",h.condition.replace("jour entier","Giorno Intero").replace("matin","Mattina").replace("apres-midi","Pomeriggio"),") --"]}),"jour entier"!==h.condition&&(0,We.jsx)("option",{value:"jour entier",children:"Giorno Intero"}),"matin"!==h.condition&&(0,We.jsx)("option",{value:"matin",children:"Mattina"}),"apres-midi"!==h.condition&&(0,We.jsx)("option",{value:"apres-midi",children:"Pomeriggio"})]})]}),(0,We.jsx)("small",{children:"Selezionando una condizione diversa qui, la prenotazione verr\xe0 divisa."})]}),(0,We.jsxs)("div",{className:$e,children:[(0,We.jsx)("button",{type:"button",onClick:r,disabled:c,children:"Esci"}),"editExisting"===v&&!p&&!B&&(0,We.jsx)("button",{type:"button",className:He,onClick:()=>{h.id?l(h.id):alert("Eliminazione non applicabile per una nuova prenotazione.")},disabled:c||!h.id,children:"Elimina"}),(0,We.jsx)("button",{type:"submit",disabled:z,children:c?"Salvataggio...":"Salva"})]})]}),"loading"===v&&(0,We.jsx)("p",{children:"Caricamento..."})]})})},Xe="ReservationList_listOverlay__C6T+b",Ze="ReservationList_listContainer__y09DT",Je="ReservationList_listHeader__lVxzh",et="ReservationList_closeButton__x8vNO",tt="ReservationList_printButton__RLppi",nt="ReservationList_tableContainer__s5eDQ",rt="ReservationList_reservationTable__dWrkj",it="ReservationList_bookedRow__IKmzg",ot="ReservationList_freeRow__S4j+E",st="ReservationList_afternoonRow__mrVKa",at=e=>{let{reservations:t,selectedDate:n,onClose:r,rows:i,columns:o}=e;const s=(e,r)=>{const i=(Array.isArray(t)?t:[]).filter((t=>t.cellCode===e&&t.startDate&&t.endDate&&n>=t.startDate&&n<=t.endDate));let o=null;return"matin"===r?o=i.find((e=>"matin"===e.condition||"jour entier"===e.condition)):"apres-midi"===r&&(o=i.find((e=>"apres-midi"===e.condition||"jour entier"===e.condition))),o?{nom:o.nom||"",prenom:o.prenom||"",numBeds:void 0!==o.numBeds?o.numBeds:"",cabina:o.cabina||"",registiPoltrona:o.registiPoltrona||"",serialNumber:o.serialNumber||"",conditionSpecific:o.condition}:{nom:"",prenom:"",numBeds:"",cabina:"",registiPoltrona:"",serialNumber:"",conditionSpecific:null}},a=e=>"R"===e?"Regista":"P"===e?"Poltrona":"";return(0,We.jsx)("div",{className:Xe,children:(0,We.jsxs)("div",{className:Ze,children:[(0,We.jsxs)("div",{className:Je,children:[(0,We.jsxs)("h2",{children:["Lista Prenotazioni per il ",(e=>{if(!e)return"";try{const[t,n,r]=e.split("-");return`${r}/${n}/${t}`}catch(op){return console.error("Erreur de formatage de date:",op),e}})(n)]}),(0,We.jsx)("button",{onClick:r,className:et,children:"Chiudi"}),(0,We.jsx)("button",{onClick:()=>window.print(),className:tt,children:"Stampa Lista"})]}),(0,We.jsx)("div",{className:nt,children:(0,We.jsxs)("table",{className:rt,children:[(0,We.jsx)("thead",{children:(0,We.jsxs)("tr",{children:[(0,We.jsx)("th",{children:"Ombrellone"}),(0,We.jsx)("th",{children:"Condizione"}),(0,We.jsx)("th",{children:"Cognome"}),(0,We.jsx)("th",{children:"Nome"}),(0,We.jsx)("th",{children:"Lettini"}),(0,We.jsx)("th",{children:"Extra"}),(0,We.jsx)("th",{children:"Cabina"}),(0,We.jsx)("th",{children:"N\xb0 Pren."})]})}),(0,We.jsx)("tbody",{children:Array.isArray(i)&&Array.isArray(o)&&i.map((e=>o.map((t=>{const n=`${e}${t}`,r=s(n,"matin"),i=s(n,"apres-midi");return r.serialNumber&&i.serialNumber&&r.serialNumber===i.serialNumber&&"jour entier"===r.conditionSpecific?(0,We.jsxs)("tr",{className:it,children:[(0,We.jsx)("td",{children:n}),(0,We.jsx)("td",{children:"Giorno Intero"}),(0,We.jsx)("td",{children:r.nom}),(0,We.jsx)("td",{children:r.prenom}),(0,We.jsx)("td",{children:r.numBeds}),(0,We.jsx)("td",{children:a(r.registiPoltrona)}),(0,We.jsx)("td",{children:r.cabina}),(0,We.jsx)("td",{children:r.serialNumber})]},`${n}-FD`):[(0,We.jsxs)("tr",{className:r.serialNumber?it:ot,children:[(0,We.jsx)("td",{children:n}),(0,We.jsx)("td",{children:"Mattina"}),(0,We.jsx)("td",{children:r.nom}),(0,We.jsx)("td",{children:r.prenom}),(0,We.jsx)("td",{children:r.numBeds}),(0,We.jsx)("td",{children:a(r.registiPoltrona)}),(0,We.jsx)("td",{children:r.cabina}),(0,We.jsx)("td",{children:r.serialNumber})]},`${n}-M`),(0,We.jsxs)("tr",{className:`${i.serialNumber?it:ot} ${st}`,children:[(0,We.jsx)("td",{}),(0,We.jsx)("td",{children:"Pomeriggio"}),(0,We.jsx)("td",{children:i.nom}),(0,We.jsx)("td",{children:i.prenom}),(0,We.jsx)("td",{children:i.numBeds}),(0,We.jsx)("td",{children:a(i.registiPoltrona)}),(0,We.jsx)("td",{children:i.cabina}),(0,We.jsx)("td",{children:i.serialNumber})]},`${n}-A`)]}))))})]})})]})})},lt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ct={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new ut;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ut extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dt=function(e){return function(e){const t=lt(e);return ct.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ht=function(e){try{return ct.decodeString(e,!0)}catch(op){console.error("base64Decode failed: ",op)}return null};function ft(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const pt=()=>{try{return ft().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/ombrelli",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCYzvnN0B92BTXOe5ADkn0Eao0gcqou2-0",REACT_APP_FIREBASE_AUTH_DOMAIN:"ombrelli-e333a.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"ombrelli-e333a",REACT_APP_FIREBASE_STORAGE_BUCKET:"ombrelli-e333a.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"579907100870",REACT_APP_FIREBASE_APP_ID:"1:579907100870:web:babe491cd8d0047767f7c7",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-S7SG3QVTFT"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(op){return}const t=e&&ht(e[1]);return t&&JSON.parse(t)})()}catch(op){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${op}`)}},gt=e=>{const t=(e=>{var t,n;return null===(n=null===(t=pt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},mt=()=>{var e;return null===(e=pt())||void 0===e?void 0:e.config};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function yt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function bt(){return!function(){var e;const t=null===(e=pt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(op){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wt(){try{return"object"===typeof indexedDB}catch(op){return!1}}class St extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,St.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Et.prototype.create)}}class Et{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Ct,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new St(n,o,t)}}const Ct=/\{\$([^}]+)}/g;function xt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(_t(n)&&_t(o)){if(!xt(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _t(e){return null!==e&&"object"===typeof e}function Dt(e){return e&&e._delegate?e._delegate:e}class Tt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const kt="[DEFAULT]";class Rt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new vt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(op){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(op){if(r)return null;throw op}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:kt})}catch(op){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(op){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:At(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt;return this.component?this.component.multipleInstances?e:kt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function At(e){return e===kt?void 0:e}class It{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Rt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Nt=[];var Pt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Pt||(Pt={}));const Mt={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},Ot=Pt.INFO,jt={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},Lt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=jt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...o)};class zt{constructor(e){this.name=e,this._logLevel=Ot,this._logHandler=Lt,this._userLogHandler=null,Nt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Mt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}let Bt,Ft;const Ut=new WeakMap,$t=new WeakMap,Ht=new WeakMap,Vt=new WeakMap,Wt=new WeakMap;let qt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return $t.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ht.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Gt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ft||(Ft=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Kt(this),n),Yt(Ut.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yt(e.apply(Kt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Kt(this),t,...r);return Ht.set(o,t.sort?t.sort():[t]),Yt(o)}}function Qt(e){return"function"===typeof e?Gt(e):(e instanceof IDBTransaction&&function(e){if($t.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));$t.set(e,t)}(e),t=e,(Bt||(Bt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,qt):e);var t}function Yt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Yt(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Ut.set(t,e)})).catch((()=>{})),Wt.set(t,e),t}(e);if(Vt.has(e))return Vt.get(e);const t=Qt(e);return t!==e&&(Vt.set(e,t),Wt.set(t,e)),t}const Kt=e=>Wt.get(e);const Xt=["get","getKey","getAll","getAllKeys","count"],Zt=["put","add","delete","clear"],Jt=new Map;function en(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Jt.get(t))return Jt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Zt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Xt.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Jt.set(t,o),o}qt=(e=>({...e,get:(t,n,r)=>en(t,n)||e.get(t,n,r),has:(t,n)=>!!en(t,n)||e.has(t,n)}))(qt);class tn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const nn="@firebase/app",rn="0.11.5",on=new zt("@firebase/app"),sn="@firebase/app-compat",an="@firebase/analytics-compat",ln="@firebase/analytics",cn="@firebase/app-check-compat",un="@firebase/app-check",dn="@firebase/auth",hn="@firebase/auth-compat",fn="@firebase/database",pn="@firebase/data-connect",gn="@firebase/database-compat",mn="@firebase/functions",vn="@firebase/functions-compat",yn="@firebase/installations",bn="@firebase/installations-compat",wn="@firebase/messaging",Sn="@firebase/messaging-compat",En="@firebase/performance",Cn="@firebase/performance-compat",xn="@firebase/remote-config",_n="@firebase/remote-config-compat",Dn="@firebase/storage",Tn="@firebase/storage-compat",kn="@firebase/firestore",Rn="@firebase/vertexai",An="@firebase/firestore-compat",In="firebase",Nn="[DEFAULT]",Pn={[nn]:"fire-core",[sn]:"fire-core-compat",[ln]:"fire-analytics",[an]:"fire-analytics-compat",[un]:"fire-app-check",[cn]:"fire-app-check-compat",[dn]:"fire-auth",[hn]:"fire-auth-compat",[fn]:"fire-rtdb",[pn]:"fire-data-connect",[gn]:"fire-rtdb-compat",[mn]:"fire-fn",[vn]:"fire-fn-compat",[yn]:"fire-iid",[bn]:"fire-iid-compat",[wn]:"fire-fcm",[Sn]:"fire-fcm-compat",[En]:"fire-perf",[Cn]:"fire-perf-compat",[xn]:"fire-rc",[_n]:"fire-rc-compat",[Dn]:"fire-gcs",[Tn]:"fire-gcs-compat",[kn]:"fire-fst",[An]:"fire-fst-compat",[Rn]:"fire-vertex","fire-js":"fire-js",[In]:"fire-js-all"},Mn=new Map,On=new Map,jn=new Map;function Ln(e,t){try{e.container.addComponent(t)}catch(op){on.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,op)}}function zn(e){const t=e.name;if(jn.has(t))return on.debug(`There were multiple attempts to register component ${t}.`),!1;jn.set(t,e);for(const n of Mn.values())Ln(n,e);for(const n of On.values())Ln(n,e);return!0}function Bn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Fn=new Et("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Un{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Tt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}function $n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Nn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Fn.create("bad-app-name",{appName:String(i)});if(n||(n=mt()),!n)throw Fn.create("no-options");const o=Mn.get(i);if(o){if(xt(n,o.options)&&xt(r,o.config))return o;throw Fn.create("duplicate-app",{appName:i})}const s=new It(i);for(const l of jn.values())s.addComponent(l);const a=new Un(n,r,s);return Mn.set(i,a),a}function Hn(e,t,n){var r;let i=null!==(r=Pn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void on.warn(e.join(" "))}zn(new Tt(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Vn="firebase-heartbeat-store";let Wn=null;function qn(){return Wn||(Wn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Yt(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Yt(s.result),e.oldVersion,e.newVersion,Yt(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Vn)}catch(op){console.warn(op)}}}).catch((e=>{throw Fn.create("idb-open",{originalErrorMessage:e.message})}))),Wn}async function Gn(e,t){try{const n=(await qn()).transaction(Vn,"readwrite"),r=n.objectStore(Vn);await r.put(t,Qn(e)),await n.done}catch(op){if(op instanceof St)on.warn(op.message);else{const t=Fn.create("idb-set",{originalErrorMessage:null===op||void 0===op?void 0:op.message});on.warn(t.message)}}}function Qn(e){return`${e.name}!${e.options.appId}`}class Yn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Xn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Kn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(op){on.warn(op)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Kn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Zn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Zn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=dt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(op){return on.warn(op),""}}}function Kn(){return(new Date).toISOString().substring(0,10)}class Xn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!wt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await qn()).transaction(Vn),n=await t.objectStore(Vn).get(Qn(e));return await t.done,n}catch(op){if(op instanceof St)on.warn(op.message);else{const t=Fn.create("idb-get",{originalErrorMessage:null===op||void 0===op?void 0:op.message});on.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Gn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Gn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Zn(e){return dt(JSON.stringify({version:2,heartbeats:e})).length}var Jn;Jn="",zn(new Tt("platform-logger",(e=>new tn(e)),"PRIVATE")),zn(new Tt("heartbeat",(e=>new Yn(e)),"PRIVATE")),Hn(nn,rn,Jn),Hn(nn,rn,"esm2017"),Hn("fire-js","");Hn("firebase","11.6.1","app");var er,tr,nr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},rr={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(a,a);if(d(e))return t=m(h(e),t),new g(h(t.g),h(t.h));if(d(t))return t=m(e,h(t)),new g(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=s(n)).j(t);d(c)||0<c.l(e);)c=(o=s(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new g(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],s=0;s<i;s++)o[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var s=i+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),g=e.i(o)>>>16,m=65535&e.i(o);n[2*i+2*o]+=f*m,p(n,2*i+2*o),n[2*i+2*o+1]+=l*m,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*g,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*g,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,tr=rr.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=a,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},er=rr.Integer=r}).apply("undefined"!==typeof nr?nr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ir,or,sr,ar,lr,cr,ur,dr,hr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},fr={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof hr&&hr];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var v=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function C(e){i.setTimeout((()=>{throw e}),0)}function x(){var e=R;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new D),(e=>e.reset()));class D{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,k=!1,R=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(I)}};var I=()=>{for(var e;e=x();){try{e.h.call(e.g)}catch(sp){C(sp)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}k=!1};function N(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(sp){}return e}();function O(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{m(t.nodeName);var i=!0;break e}catch(ip){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:j[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,P);var j={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),z=0;function B(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++z,this.da=this.fa=!1}function F(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function U(e){this.src=e,this.g={},this.h=0}function $(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(F(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}U.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=H(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new B(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var V="closure_lm_"+(1e6*Math.random()|0),W={};function q(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)q(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,s(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,l=J(e);if(l||(e[V]=l=new U(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Z;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,s(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Y(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(o=e.g[t],n,r,i))&&(F(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=J(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&K(n))}function K(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])$(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=J(t))?($(n,e),0==n.h&&(n.src=null,t[V]=null)):F(e)}}}function X(e){return e in W?W[e]:W[e]="on"+e}function Z(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&K(e),e=n.call(r,t)}return e}function J(e){return(e=e[V])instanceof U?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){N.call(this),this.i=new U(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;S(t=new P(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ie(s,r,!0,t)&&i}if(i=ie(s=t.g=e,r,!0,t)&&i,i=ie(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(s=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&$(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,N),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)F(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends N{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){N.call(this),this.h=e,this.g={}}d(le,N);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&K(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){P.call(this,"d")}function be(){P.call(this,"c")}d(ye,P),d(be,P);var we={},Se=null;function Ee(){return Se=Se||new ne}function Ce(e){P.call(this,we.La,e)}function xe(e){const t=Ee();re(t,new Ce(t))}function _e(e,t){P.call(this,we.STAT_EVENT,e),this.stat=t}function De(e){const t=Ee();re(t,new _e(t,e))}function Te(e,t){P.call(this,we.Ma,e),this.size=t}function ke(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Re(){this.g=!0}function Ae(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return de(n)}catch(mp){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(Ce,P),we.STAT_EVENT="statevent",d(_e,P),we.Ma="timingevent",d(Te,P),Re.prototype.xa=function(){this.g=!1},Re.prototype.info=function(){};var Ie,Ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Me(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new je}function je(){this.i=null,this.g="",this.h=!1}d(Me,pe),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},Ie=new Me;var Le={},ze={};function Be(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,Fe(e,null)}function Fe(e,t){e.F=Date.now(),He(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),xt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new je,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var s=q(n,i[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),xe(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ue(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function $e(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ze:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?ze:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,Ve(e,e.I)}function Ve(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ke(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||an(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Je(n.h,e)))if(!e.K&&Je(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(Zf){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Yt(n)}nn(n),De(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=ke(c(n.Za,n),6e3));if(1>=Ze(n.h)&&n.ca){try{n.ca()}catch(Zf){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&sn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(We(a),He(a)),r.g=s}else tn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}xe()}catch(Zf){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Vt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Vt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||xe(),We(this);var n=this.g.Z();this.X=n;t:if(Ue(this)){var r=Wt(this.g);e="";var o=r.length,s=4==Vt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),qe(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,De(12),Ge(this),qe(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=$e(this,a),e==ze){4==h&&(this.s=4,De(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,De(15),Ae(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Qe(this,e)}if(Ue(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,De(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),rn(d),d.M=!0,De(11))}}else Ae(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),qe(this)}else Ae(this.i,this.l,a,null),Qe(this,a);4==h&&Ge(this),this.o&&!this.J&&(4==h?an(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=Vt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),Ge(this),qe(this)}}}catch(vp){}},Oe.prototype.cancel=function(){this.J=!0,Ge(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(xe(),De(17)),Ge(this),this.s=2,qe(this)):Ve(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Ke(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ze(e){return e.h?1:e.g?e.g.size:0}function Je(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Ke.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function st(e){return new ot(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),xt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,yt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:mt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var gt=/[#\/\?@]/g,mt=/[#\?:]/g,vt=/[#\?]/g,yt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){St(e),t=_t(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ct(e,t){return St(e),t=_t(e,t),e.g.has(t)}function xt(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(_t(e,t),h(n)),e.h+=n.length)}function _t(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Dt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(ip){}}function Tt(){this.g=new fe}function kt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;s(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(op){throw t.push(r+"type="+encodeURIComponent("_badmap")),op}}function Rt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function It(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Nt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Mt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ot(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function jt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){St(this),this.i=null,e=_t(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)Ct(this,e)&&(t=t.concat(this.g.get(_t(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,Ct(this,e=_t(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},d(Rt,pe),Rt.prototype.g=function(){return new At(this.l,this.j)},Rt.prototype.i=function(e){return function(){return e}}({}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;It(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nt(this):Pt(this),3==this.readyState&&It(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Nt(this))},e.Qa=function(e){this.g&&(this.response=e,Nt(this))},e.ga=function(){this.g&&Nt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(jt,ne);var Lt=/^https?$/i,zt=["POST","PUT"];function Bt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ft(e),$t(e)}function Ft(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Ut(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Vt(e)||2!=e.Z()))if(e.u&&4==Vt(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Vt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var s=String(e.D).match(it)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!Lt.test(s?s.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Vt(e)?e.g.statusText:""}catch(mp){a=""}e.l=a+" ["+e.Z()+"]",Ft(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(op){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Vt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(pp){return null}}function qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qt("baseRetryDelayMs",5e3,e),this.cb=qt("retryDelaySeedMs",1e4,e),this.Wa=qt("forwardChannelMaxRetries",2,e),this.wa=qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ke(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Kt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Jt(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}un(e)}function Yt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Kt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||A(),k||(T(),k=!0),R.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Jt(e,r),e.m&&e.o&&Ot(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Be(n,r,t)}function Jt(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{kt(a,e,"req"+n+"_")}catch(vp){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||A(),k||(T(),k=!0),R.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=ke(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Jt(e,t),e.m&&e.o&&Ot(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,Fe(n,e)}function sn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function an(e,t){var n=null;if(e.g==t){sn(e),rn(e),e.g=null;var r=2}else{if(!Je(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ee(),new Te(r,n)),Xt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Ze(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=ke(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Re;if(i.Image){const r=new Image;r.onload=u(Dt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Dt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Dt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Dt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Re;const n=new AbortController,r=setTimeout((()=>{n.abort(),Dt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Dt(0,0,!0,t):Dt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Dt(0,0,!1,t)}))}(r.toString(),n)}else De(2);e.G=0,e.l&&e.l.sa(t),un(e),Kt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof ot?st(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new ot(null);r&&at(s,r),t&&(s.g=t),o&&lt(s,o),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Jt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new jt(new Rt({eb:n})):new jt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yn(this)}function mn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function yn(e){this.g=e}(e=jt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?ge(this.o):ge(Ie),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(ip){return void Bt(this,ip)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(zt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(ip){Bt(this,ip)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),jt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ut(this):this.bb())},e.bb=function(){Ut(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Vt(this)?this.g.status:-1}catch(lp){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(lp){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){De(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Oe(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),S(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Jt(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Mt(o)))+"&"+t:this.m&&Ot(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Be(i,n,null)):Be(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=ke(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),Yt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),nn(this),De(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},d(mn,ye),d(vn,be),d(yn,fn),yn.prototype.ua=function(){re(this.g,"a")},yn.prototype.ta=function(e){re(this.g,new mn(e))},yn.prototype.sa=function(e){re(this.g,new vn)},yn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,dr=fr.createWebChannelTransport=function(){return new pn},ur=fr.getStatEventTarget=function(){return Ee()},cr=fr.Event=we,lr=fr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ne.NO_ERROR=0,Ne.TIMEOUT=8,Ne.HTTP_ERROR=6,ar=fr.ErrorCode=Ne,Pe.COMPLETE="complete",sr=fr.EventType=Pe,me.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,or=fr.WebChannel=me,fr.FetchXmlHttpFactory=Rt,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,ir=fr.XhrIo=jt}).apply("undefined"!==typeof hr?hr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const pr="@firebase/firestore",gr="4.7.11";class mr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");let vr="11.6.1";const yr=new zt("@firebase/firestore");function br(){return yr.logLevel}function wr(e){if(yr.logLevel<=Pt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Cr);yr.debug(`Firestore (${vr}): ${e}`,...i)}}function Sr(e){if(yr.logLevel<=Pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Cr);yr.error(`Firestore (${vr}): ${e}`,...i)}}function Er(e){if(yr.logLevel<=Pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Cr);yr.warn(`Firestore (${vr}): ${e}`,...i)}}function Cr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(tp){return e}}function xr(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,_r(e,r,n)}function _r(e,t,n){let r=`FIRESTORE (${vr}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Sr(r),new Error(r)}function Dr(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||_r(t,i,r)}function Tr(e,t){return e}const kr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rr extends St{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ir{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(mr.UNAUTHENTICATED)))}shutdown(){}}class Pr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Mr{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Dr(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ar,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{wr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(wr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ar)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(wr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Dr("string"==typeof t.accessToken,31837,{l:t}),new Ir(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Dr(null===e||"string"==typeof e,2055,{h:e}),new mr(e)}}class Or{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jr{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Or(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(mr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Lr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zr{constructor(e,t){var n;this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,null!==(n=e)&&void 0!==n&&void 0!==n.settings&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Dr(void 0===this.o,3512);const n=e=>{null!=e.error&&wr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,wr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{wr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):wr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Lr(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Dr("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Lr(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Br(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Fr(){return new TextEncoder}class Ur{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Br(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function $r(e,t){return e<t?-1:e>t?1:0}function Hr(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return $r(r,i);{const o=Fr(),s=Wr(o.encode(Vr(e,n)),o.encode(Vr(t,n)));return 0!==s?s:$r(r,i)}}n+=r>65535?2:1}return $r(e.length,t.length)}function Vr(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Wr(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return $r(e[n],t[n]);return $r(e.length,t.length)}function qr(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const Gr=-62135596800,Qr=1e6;class Yr{static now(){return Yr.fromMillis(Date.now())}static fromDate(e){return Yr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Qr);return new Yr(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Rr(kr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Rr(kr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Gr)throw new Rr(kr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rr(kr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qr}_compareTo(e){return this.seconds===e.seconds?$r(this.nanoseconds,e.nanoseconds):$r(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Gr;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kr{static fromTimestamp(e){return new Kr(e)}static min(){return new Kr(new Yr(0,0))}static max(){return new Kr(new Yr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xr="__name__";class Zr{constructor(e,t,n){void 0===t?t=0:t>e.length&&xr(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&xr(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Zr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zr?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Zr.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return $r(e.length,t.length)}static compareSegments(e,t){const n=Zr.isNumericId(e),r=Zr.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Zr.extractNumericId(e).compare(Zr.extractNumericId(t)):Hr(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return er.fromString(e.substring(4,e.length-2))}}class Jr extends Zr{construct(e,t,n){return new Jr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Rr(kr.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Jr(e)}static emptyPath(){return new Jr([])}}const ei=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ti extends Zr{construct(e,t,n){return new ti(e,t,n)}static isValidIdentifier(e){return ei.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ti.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Xr}static keyField(){return new ti([Xr])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Rr(kr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Rr(kr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Rr(kr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Rr(kr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ti(t)}static emptyPath(){return new ti([])}}class ni{constructor(e){this.path=e}static fromPath(e){return new ni(Jr.fromString(e))}static fromName(e){return new ni(Jr.fromString(e).popFirst(5))}static empty(){return new ni(Jr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ni(new Jr(e.slice()))}}const ri=-1;class ii{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ii.UNKNOWN_ID=-1;function oi(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Kr.fromTimestamp(1e9===r?new Yr(n+1,0):new Yr(n,r));return new ai(i,ni.empty(),t)}function si(e){return new ai(e.readTime,e.key,ri)}class ai{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ai(Kr.min(),ni.empty(),ri)}static max(){return new ai(Kr.max(),ni.empty(),ri)}}function li(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ni.comparator(e.documentKey,t.documentKey),0!==n?n:$r(e.largestBatchId,t.largestBatchId))}const ci="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ui{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function di(e){if(e.code!==kr.FAILED_PRECONDITION||e.message!==ci)throw e;wr("LocalStore","Unexpectedly lost primary lease")}class hi{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new hi(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof hi?t:hi.resolve(t)}catch(e){return hi.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):hi.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):hi.reject(t)}static resolve(e){return new hi(((t,n)=>{t(e)}))}static reject(e){return new hi(((t,n)=>{n(e)}))}static waitFor(e){return new hi(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=hi.resolve(!1);for(const n of e)t=t.next((e=>e?hi.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new hi(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new hi(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function fi(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pi(e){return"IndexedDbTransactionError"===e.name}class gi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}gi.le=-1;const mi=-1;function vi(e){return null==e}function yi(e){return 0===e&&1/e==-1/0}function bi(e){return"number"==typeof e&&Number.isInteger(e)&&!yi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const wi="\x01";function Si(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ci(t)),t=Ei(e.get(n),t);return Ci(t)}function Ei(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case wi:n+="\x01\x11";break;default:n+=t}}return n}function Ci(e){return e+wi+"\x01"}const xi="remoteDocuments",_i="owner",Di="mutationQueues",Ti="mutations";const ki="documentMutations",Ri="remoteDocumentsV14",Ai="remoteDocumentGlobal",Ii="targets",Ni="targetDocuments",Pi="targetGlobal",Mi="collectionParents",Oi="clientMetadata",ji="bundles",Li="namedQueries",zi="indexConfiguration",Bi="indexState",Fi="indexEntries",Ui="documentOverlays",$i="globals",Hi=[Di,Ti,ki,xi,Ii,_i,Pi,Ni,Oi,Ai,Mi,ji,Li],Vi=[Di,Ti,ki,Ri,Ii,_i,Pi,Ni,Oi,Ai,Mi,ji,Li,Ui],Wi=Vi,qi=[...Wi,zi,Bi,Fi];function Gi(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Yi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ki{constructor(e,t){this.comparator=e,this.root=t||Zi.EMPTY}insert(e,t){return new Ki(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zi.BLACK,null,null))}remove(e){return new Ki(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xi(this.root,e,this.comparator,!0)}}class Xi{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zi{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Zi.RED,this.left=null!=r?r:Zi.EMPTY,this.right=null!=i?i:Zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Zi(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Zi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Zi.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xr(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xr(27949);return e+(this.isRed()?0:1)}}Zi.EMPTY=null,Zi.RED=!0,Zi.BLACK=!1,Zi.EMPTY=new class{constructor(){this.size=0}get key(){throw xr(57766)}get value(){throw xr(16141)}get color(){throw xr(16727)}get left(){throw xr(29726)}get right(){throw xr(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Zi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ji{constructor(e){this.comparator=e,this.data=new Ki(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new eo(this.data.getIterator())}getIteratorFrom(e){return new eo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ji))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ji(this.comparator);return t.data=e,t}}class eo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class to{constructor(e){this.fields=e,e.sort(ti.comparator)}static empty(){return new to([])}unionWith(e){let t=new Ji(ti.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new to(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qr(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class no extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ro{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new no("Invalid base64 string: "+e):e}}(e);return new ro(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ro(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $r(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ro.EMPTY_BYTE_STRING=new ro("");const io=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(e){if(Dr(!!e,39018),"string"==typeof e){let t=0;const n=io.exec(e);if(Dr(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:so(e.seconds),nanos:so(e.nanos)}}function so(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ao(e){return"string"==typeof e?ro.fromBase64String(e):ro.fromUint8Array(e)}const lo="server_timestamp",co="__type__",uo="__previous_value__",ho="__local_write_time__";function fo(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[co])||void 0===n?void 0:n.stringValue)===lo}function po(e){const t=e.mapValue.fields[uo];return fo(t)?po(t):t}function go(e){const t=oo(e.mapValue.fields[ho].timestampValue);return new Yr(t.seconds,t.nanos)}class mo{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}const vo="(default)";class yo{constructor(e,t){this.projectId=e,this.database=t||vo}static empty(){return new yo("","")}get isDefaultDatabase(){return this.database===vo}isEqual(e){return e instanceof yo&&e.projectId===this.projectId&&e.database===this.database}}const bo="__type__",wo="__max__",So={mapValue:{fields:{__type__:{stringValue:wo}}}},Eo="__vector__",Co="value";function xo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fo(e)?4:Uo(e)?9007199254740991:Bo(e)?10:11:xr(28295,{value:e})}function _o(e,t){if(e===t)return!0;const n=xo(e);if(n!==xo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return go(e).isEqual(go(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=oo(e.timestampValue),r=oo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ao(e.bytesValue).isEqual(ao(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return so(e.geoPointValue.latitude)===so(t.geoPointValue.latitude)&&so(e.geoPointValue.longitude)===so(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return so(e.integerValue)===so(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=so(e.doubleValue),r=so(t.doubleValue);return n===r?yi(n)===yi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qr(e.arrayValue.values||[],t.arrayValue.values||[],_o);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Gi(n)!==Gi(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!_o(n[i],r[i])))return!1;return!0}(e,t);default:return xr(52216,{left:e})}}function Do(e,t){return void 0!==(e.values||[]).find((e=>_o(e,t)))}function To(e,t){if(e===t)return 0;const n=xo(e),r=xo(t);if(n!==r)return $r(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $r(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=so(e.integerValue||e.doubleValue),r=so(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ko(e.timestampValue,t.timestampValue);case 4:return ko(go(e),go(t));case 5:return Hr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ao(e),r=ao(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=$r(n[i],r[i]);if(0!==e)return e}return $r(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=$r(so(e.latitude),so(t.latitude));return 0!==n?n:$r(so(e.longitude),so(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ro(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const s=e.fields||{},a=t.fields||{},l=null===(n=s[Co])||void 0===n?void 0:n.arrayValue,c=null===(r=a[Co])||void 0===r?void 0:r.arrayValue,u=$r((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Ro(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===So.mapValue&&t===So.mapValue)return 0;if(e===So.mapValue)return 1;if(t===So.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Hr(r[s],o[s]);if(0!==e)return e;const t=To(n[r[s]],i[o[s]]);if(0!==t)return t}return $r(r.length,o.length)}(e.mapValue,t.mapValue);default:throw xr(23264,{Pe:n})}}function ko(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $r(e,t);const n=oo(e),r=oo(t),i=$r(n.seconds,r.seconds);return 0!==i?i:$r(n.nanos,r.nanos)}function Ro(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=To(n[i],r[i]);if(e)return e}return $r(n.length,r.length)}function Ao(e){return Io(e)}function Io(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=oo(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ao(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ni.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Io(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Io(e.fields[i])}`;return n+"}"}(e.mapValue):xr(61005,{value:e})}function No(e){switch(xo(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=po(e);return t?16+No(t):16;case 5:return 2*e.stringValue.length;case 6:return ao(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+No(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Qi(e.fields,((e,n)=>{t+=e.length+No(n)})),t}(e.mapValue);default:throw xr(13486,{value:e})}}function Po(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Mo(e){return!!e&&"integerValue"in e}function Oo(e){return!!e&&"arrayValue"in e}function jo(e){return!!e&&"nullValue"in e}function Lo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function zo(e){return!!e&&"mapValue"in e}function Bo(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[bo])||void 0===n?void 0:n.stringValue)===Eo}function Fo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Qi(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Fo(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Uo(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===wo}class $o{constructor(e){this.value=e}static empty(){return new $o({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!zo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fo(t)}setAll(e){let t=ti.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Fo(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());zo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _o(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];zo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Qi(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new $o(Fo(this.value))}}function Ho(e){const t=[];return Qi(e.fields,((e,n)=>{const r=new ti([e]);if(zo(n)){const e=Ho(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new to(t)}class Vo{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Vo(e,0,Kr.min(),Kr.min(),Kr.min(),$o.empty(),0)}static newFoundDocument(e,t,n,r){return new Vo(e,1,t,Kr.min(),n,r,0)}static newNoDocument(e,t){return new Vo(e,2,t,Kr.min(),Kr.min(),$o.empty(),0)}static newUnknownDocument(e,t){return new Vo(e,3,t,Kr.min(),Kr.min(),$o.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Kr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$o.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$o.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wo{constructor(e,t){this.position=e,this.inclusive=t}}function qo(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?ni.comparator(ni.fromName(s.referenceValue),n.key):To(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Go(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_o(e.position[n],t.position[n]))return!1;return!0}class Qo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Yo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ko{}class Xo extends Ko{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new os(e,t,n):"array-contains"===t?new cs(e,n):"in"===t?new us(e,n):"not-in"===t?new ds(e,n):"array-contains-any"===t?new hs(e,n):new Xo(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ss(e,n):new as(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(To(t,this.value)):null!==t&&xo(this.value)===xo(t)&&this.matchesComparison(To(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zo extends Ko{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Zo(e,t)}matches(e){return Jo(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Jo(e){return"and"===e.op}function es(e){return ts(e)&&Jo(e)}function ts(e){for(const t of e.filters)if(t instanceof Zo)return!1;return!0}function ns(e){if(e instanceof Xo)return e.field.canonicalString()+e.op.toString()+Ao(e.value);if(es(e))return e.filters.map((e=>ns(e))).join(",");{const t=e.filters.map((e=>ns(e))).join(",");return`${e.op}(${t})`}}function rs(e,t){return e instanceof Xo?function(e,t){return t instanceof Xo&&e.op===t.op&&e.field.isEqual(t.field)&&_o(e.value,t.value)}(e,t):e instanceof Zo?function(e,t){return t instanceof Zo&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&rs(n,t.filters[r])),!0)}(e,t):void xr(19439)}function is(e){return e instanceof Xo?function(e){return`${e.field.canonicalString()} ${e.op} ${Ao(e.value)}`}(e):e instanceof Zo?function(e){return e.op.toString()+" {"+e.getFilters().map(is).join(" ,")+"}"}(e):"Filter"}class os extends Xo{constructor(e,t,n){super(e,t,n),this.key=ni.fromName(n.referenceValue)}matches(e){const t=ni.comparator(e.key,this.key);return this.matchesComparison(t)}}class ss extends Xo{constructor(e,t){super(e,"in",t),this.keys=ls("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class as extends Xo{constructor(e,t){super(e,"not-in",t),this.keys=ls("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ls(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ni.fromName(e.referenceValue)))}class cs extends Xo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Oo(t)&&Do(t.arrayValue,this.value)}}class us extends Xo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Do(this.value.arrayValue,t)}}class ds extends Xo{constructor(e,t){super(e,"not-in",t)}matches(e){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Do(this.value.arrayValue,t)}}class hs extends Xo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Oo(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Do(this.value.arrayValue,e)))}}class fs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Ie=null}}function ps(e){return new fs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function gs(e){const t=Tr(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>ns(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),vi(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ao(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ao(e))).join(",")),t.Ie=e}return t.Ie}function ms(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Yo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!rs(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Go(e.startAt,t.startAt)&&Go(e.endAt,t.endAt)}function vs(e){return ni.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ys{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function bs(e,t,n,r,i,o,s,a){return new ys(e,t,n,r,i,o,s,a)}function ws(e){return new ys(e)}function Ss(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Es(e){return null!==e.collectionGroup}function Cs(e){const t=Tr(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ji(ti.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new Qo(r,n))})),e.has(ti.keyField().canonicalString())||t.Ee.push(new Qo(ti.keyField(),n))}return t.Ee}function xs(e){const t=Tr(e);return t.de||(t.de=_s(t,Cs(e))),t.de}function _s(e,t){if("F"===e.limitType)return ps(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Qo(e.field,t)}));const n=e.endAt?new Wo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Wo(e.startAt.position,e.startAt.inclusive):null;return ps(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ds(e,t){const n=e.filters.concat([t]);return new ys(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ts(e,t,n){return new ys(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ks(e,t){return ms(xs(e),xs(t))&&e.limitType===t.limitType}function Rs(e){return`${gs(xs(e))}|lt:${e.limitType}`}function As(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>is(e))).join(", ")}]`),vi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ao(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ao(e))).join(",")),`Target(${t})`}(xs(e))}; limitType=${e.limitType})`}function Is(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ni.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Cs(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=qo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Cs(e),t))&&!(e.endAt&&!function(e,t,n){const r=qo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Cs(e),t))}(e,t)}function Ns(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ps(e){return(t,n)=>{let r=!1;for(const i of Cs(e)){const e=Ms(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ms(e,t,n){const r=e.field.isKeyField()?ni.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?To(r,i):xr(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return xr(19790,{direction:e.dir})}}class Os{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Yi(this.inner)}size(){return this.innerSize}}const js=new Ki(ni.comparator);function Ls(){return js}const zs=new Ki(ni.comparator);function Bs(){let e=zs;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Fs(e){let t=zs;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Us(){return Hs()}function $s(){return Hs()}function Hs(){return new Os((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Vs=new Ki(ni.comparator),Ws=new Ji(ni.comparator);function qs(){let e=Ws;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Gs=new Ji($r);function Qs(){return Gs}function Ys(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yi(t)?"-0":t}}function Ks(e){return{integerValue:""+e}}function Xs(e,t){return bi(t)?Ks(t):Ys(e,t)}class Zs{constructor(){this._=void 0}}function Js(e,t,n){return e instanceof na?function(e,t){const n={fields:{[co]:{stringValue:lo},[ho]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&fo(t)&&(t=po(t)),t&&(n.fields[uo]=t),{mapValue:n}}(n,t):e instanceof ra?ia(e,t):e instanceof oa?sa(e,t):function(e,t){const n=ta(e,t),r=la(n)+la(e.Re);return Mo(n)&&Mo(e.Re)?Ks(r):Ys(e.serializer,r)}(e,t)}function ea(e,t,n){return e instanceof ra?ia(e,t):e instanceof oa?sa(e,t):n}function ta(e,t){return e instanceof aa?function(e){return Mo(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class na extends Zs{}class ra extends Zs{constructor(e){super(),this.elements=e}}function ia(e,t){const n=ca(t);for(const r of e.elements)n.some((e=>_o(e,r)))||n.push(r);return{arrayValue:{values:n}}}class oa extends Zs{constructor(e){super(),this.elements=e}}function sa(e,t){let n=ca(t);for(const r of e.elements)n=n.filter((e=>!_o(e,r)));return{arrayValue:{values:n}}}class aa extends Zs{constructor(e,t){super(),this.serializer=e,this.Re=t}}function la(e){return so(e.integerValue||e.doubleValue)}function ca(e){return Oo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ua{constructor(e,t){this.field=e,this.transform=t}}class da{constructor(e,t){this.version=e,this.transformResults=t}}class ha{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ha}static exists(e){return new ha(void 0,e)}static updateTime(e){return new ha(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fa(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class pa{}function ga(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new _a(e.key,ha.none()):new wa(e.key,e.data,ha.none());{const n=e.data,r=$o.empty();let i=new Ji(ti.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Sa(e.key,r,new to(i.toArray()),ha.none())}}function ma(e,t,n){e instanceof wa?function(e,t,n){const r=e.value.clone(),i=Ca(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Sa?function(e,t,n){if(!fa(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ca(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ea(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function va(e,t,n,r){return e instanceof wa?function(e,t,n,r){if(!fa(e.precondition,t))return n;const i=e.value.clone(),o=xa(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Sa?function(e,t,n,r){if(!fa(e.precondition,t))return n;const i=xa(e.fieldTransforms,r,t),o=t.data;return o.setAll(Ea(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return fa(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ya(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ta(r.transform,e||null);null!=i&&(null===n&&(n=$o.empty()),n.set(r.field,i))}return n||null}function ba(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qr(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ra&&t instanceof ra||e instanceof oa&&t instanceof oa?qr(e.elements,t.elements,_o):e instanceof aa&&t instanceof aa?_o(e.Re,t.Re):e instanceof na&&t instanceof na}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class wa extends pa{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Sa extends pa{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ea(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ca(e,t,n){const r=new Map;Dr(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,ea(s,a,n[i]))}return r}function xa(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Js(e,o,t))}return r}class _a extends pa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Da extends pa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ta{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ma(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=va(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=va(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=$s();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=ga(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Kr.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),qs())}isEqual(e){return this.batchId===e.batchId&&qr(this.mutations,e.mutations,((e,t)=>ba(e,t)))&&qr(this.baseMutations,e.baseMutations,((e,t)=>ba(e,t)))}}class ka{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Dr(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=Vs;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new ka(e,t,n,r)}}class Ra{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Aa{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ia,Na;function Pa(e){switch(e){case kr.OK:return xr(64938);case kr.CANCELLED:case kr.UNKNOWN:case kr.DEADLINE_EXCEEDED:case kr.RESOURCE_EXHAUSTED:case kr.INTERNAL:case kr.UNAVAILABLE:case kr.UNAUTHENTICATED:return!1;case kr.INVALID_ARGUMENT:case kr.NOT_FOUND:case kr.ALREADY_EXISTS:case kr.PERMISSION_DENIED:case kr.FAILED_PRECONDITION:case kr.ABORTED:case kr.OUT_OF_RANGE:case kr.UNIMPLEMENTED:case kr.DATA_LOSS:return!0;default:return xr(15467,{code:e})}}function Ma(e){if(void 0===e)return Sr("GRPC error has no .code"),kr.UNKNOWN;switch(e){case Ia.OK:return kr.OK;case Ia.CANCELLED:return kr.CANCELLED;case Ia.UNKNOWN:return kr.UNKNOWN;case Ia.DEADLINE_EXCEEDED:return kr.DEADLINE_EXCEEDED;case Ia.RESOURCE_EXHAUSTED:return kr.RESOURCE_EXHAUSTED;case Ia.INTERNAL:return kr.INTERNAL;case Ia.UNAVAILABLE:return kr.UNAVAILABLE;case Ia.UNAUTHENTICATED:return kr.UNAUTHENTICATED;case Ia.INVALID_ARGUMENT:return kr.INVALID_ARGUMENT;case Ia.NOT_FOUND:return kr.NOT_FOUND;case Ia.ALREADY_EXISTS:return kr.ALREADY_EXISTS;case Ia.PERMISSION_DENIED:return kr.PERMISSION_DENIED;case Ia.FAILED_PRECONDITION:return kr.FAILED_PRECONDITION;case Ia.ABORTED:return kr.ABORTED;case Ia.OUT_OF_RANGE:return kr.OUT_OF_RANGE;case Ia.UNIMPLEMENTED:return kr.UNIMPLEMENTED;case Ia.DATA_LOSS:return kr.DATA_LOSS;default:return xr(39323,{code:e})}}(Na=Ia||(Ia={}))[Na.OK=0]="OK",Na[Na.CANCELLED=1]="CANCELLED",Na[Na.UNKNOWN=2]="UNKNOWN",Na[Na.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Na[Na.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Na[Na.NOT_FOUND=5]="NOT_FOUND",Na[Na.ALREADY_EXISTS=6]="ALREADY_EXISTS",Na[Na.PERMISSION_DENIED=7]="PERMISSION_DENIED",Na[Na.UNAUTHENTICATED=16]="UNAUTHENTICATED",Na[Na.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Na[Na.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Na[Na.ABORTED=10]="ABORTED",Na[Na.OUT_OF_RANGE=11]="OUT_OF_RANGE",Na[Na.UNIMPLEMENTED=12]="UNIMPLEMENTED",Na[Na.INTERNAL=13]="INTERNAL",Na[Na.UNAVAILABLE=14]="UNAVAILABLE",Na[Na.DATA_LOSS=15]="DATA_LOSS";let Oa=null;const ja=new er([4294967295,4294967295],0);function La(e){const t=Fr().encode(e),n=new tr;return n.update(t),new Uint8Array(n.digest())}function za(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new er([n,r],0),new er([i,o],0)]}class Ba{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Fa(`Invalid padding: ${t}`);if(n<0)throw new Fa(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Fa(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Fa(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=er.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(er.fromNumber(n)));return 1===r.compare(ja)&&(r=new er([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=La(e),[n,r]=za(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ba(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.pe)return;const t=La(e),[n,r]=za(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ua{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,$a.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ua(Kr.min(),r,new Ki($r),Ls(),qs())}}class $a{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new $a(n,t,qs(),qs(),qs())}}class Ha{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class Va{constructor(e,t){this.targetId=e,this.Ce=t}}class Wa{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ro.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class qa{constructor(){this.Fe=0,this.Me=Ya(),this.xe=ro.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=qs(),t=qs(),n=qs();return this.Me.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:xr(38017,{changeType:i})}})),new $a(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=Ya()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Dr(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Ga{constructor(e){this.ze=e,this.je=new Map,this.He=Ls(),this.Je=Qa(),this.Ye=Qa(),this.Ze=new Ki($r)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:xr(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(vs(i))if(0===n){const e=new ni(i.path);this.tt(t,e,Vo.newNoDocument(e,Kr.min()))}else Dr(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==Oa||Oa.ht(function(e,t,n,r,i){var o,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=ao(n).toUint8Array()}catch(e){if(e instanceof no)return Er("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Ba(o,r,i)}catch(e){return Er(e instanceof Fa?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.pe?null:s}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ze.Pt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const i=this._t(r);if(i){if(n.current&&vs(i.target)){const t=new ni(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,Vo.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=qs();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new Ua(e,t,this.Ze,this.He,n);return this.He=Ls(),this.Je=Qa(),this.Ye=Qa(),this.Ze=new Ki($r),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new qa,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ji($r),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ji($r),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||wr("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new qa),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Qa(){return new Ki(ni.comparator)}function Ya(){return new Ki(ni.comparator)}const Ka={asc:"ASCENDING",desc:"DESCENDING"},Xa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Za={and:"AND",or:"OR"};class Ja{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function el(e,t){return e.useProto3Json||vi(t)?t:{value:t}}function tl(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function rl(e,t){return tl(e,t.toTimestamp())}function il(e){return Dr(!!e,49232),Kr.fromTimestamp(function(e){const t=oo(e);return new Yr(t.seconds,t.nanos)}(e))}function ol(e,t){return sl(e,t).canonicalString()}function sl(e,t){const n=function(e){return new Jr(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function al(e){const t=Jr.fromString(e);return Dr(Tl(t),10190,{key:t.toString()}),t}function ll(e,t){return ol(e.databaseId,t.path)}function cl(e,t){const n=al(t);if(n.get(1)!==e.databaseId.projectId)throw new Rr(kr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Rr(kr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ni(fl(n))}function ul(e,t){return ol(e.databaseId,t)}function dl(e){const t=al(e);return 4===t.length?Jr.emptyPath():fl(t)}function hl(e){return new Jr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fl(e){return Dr(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function pl(e,t,n){return{name:ll(e,t),fields:n.value.mapValue.fields}}function gl(e,t){let n;if(t instanceof wa)n={update:pl(e,t.key,t.value)};else if(t instanceof _a)n={delete:ll(e,t.key)};else if(t instanceof Sa)n={update:pl(e,t.key,t.data),updateMask:Dl(t.fieldMask)};else{if(!(t instanceof Da))return xr(16599,{ft:t.type});n={verify:ll(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof na)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ra)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof oa)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof aa)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw xr(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:rl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:xr(27497)}(e,t.precondition)),n}function ml(e,t){return{documents:[ul(e,t.path)]}}function vl(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ul(e,i);const o=function(e){if(0!==e.length)return _l(Zo.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Cl(e.field),direction:wl(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=el(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function yl(e){let t=dl(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Dr(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=bl(e);return t instanceof Zo&&es(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Qo(xl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,vi(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Wo(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Wo(n,t)}(n.endAt)),bs(t,i,s,o,a,"F",l,c)}function bl(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=xl(e.unaryFilter.field);return Xo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=xl(e.unaryFilter.field);return Xo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=xl(e.unaryFilter.field);return Xo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=xl(e.unaryFilter.field);return Xo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xr(61313);default:return xr(60726)}}(e):void 0!==e.fieldFilter?function(e){return Xo.create(xl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xr(58110);default:return xr(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Zo.create(e.compositeFilter.filters.map((e=>bl(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return xr(1026)}}(e.compositeFilter.op))}(e):xr(30097,{filter:e})}function wl(e){return Ka[e]}function Sl(e){return Xa[e]}function El(e){return Za[e]}function Cl(e){return{fieldPath:e.canonicalString()}}function xl(e){return ti.fromServerFormat(e.fieldPath)}function _l(e){return e instanceof Xo?function(e){if("=="===e.op){if(Lo(e.value))return{unaryFilter:{field:Cl(e.field),op:"IS_NAN"}};if(jo(e.value))return{unaryFilter:{field:Cl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lo(e.value))return{unaryFilter:{field:Cl(e.field),op:"IS_NOT_NAN"}};if(jo(e.value))return{unaryFilter:{field:Cl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cl(e.field),op:Sl(e.op),value:e.value}}}(e):e instanceof Zo?function(e){const t=e.getFilters().map((e=>_l(e)));return 1===t.length?t[0]:{compositeFilter:{op:El(e.op),filters:t}}}(e):xr(54877,{filter:e})}function Dl(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Tl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class kl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Kr.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Kr.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ro.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new kl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Rl{constructor(e){this.wt=e}}function Al(e){const t=yl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ts(t,t.limit,"L"):t}class Il{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(so(e.integerValue));else if("doubleValue"in e){const n=so(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),yi(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=oo(n)),t.Ot(`${n.seconds||""}`),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(ao(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?Uo(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Bo(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):xr(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const o=Co,s=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(so(s)),this.Nt(o,t),this.Ct(i[o],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),ni.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Il.Wt=new Il;class Nl{constructor(){this.yn=new Pl}addToCollectionParentIndex(e,t){return this.yn.add(t),hi.resolve()}getCollectionParents(e,t){return hi.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return hi.resolve()}deleteFieldIndex(e,t){return hi.resolve()}deleteAllFieldIndexes(e){return hi.resolve()}createTargetIndexes(e,t){return hi.resolve()}getDocumentsMatchingTarget(e,t){return hi.resolve(null)}getIndexType(e,t){return hi.resolve(0)}getFieldIndexes(e,t){return hi.resolve([])}getNextCollectionGroupToUpdate(e){return hi.resolve(null)}getMinOffset(e,t){return hi.resolve(ai.min())}getMinOffsetFromCollectionGroup(e,t){return hi.resolve(ai.min())}updateCollectionGroup(e,t,n){return hi.resolve()}updateIndexEntries(e,t){return hi.resolve()}}class Pl{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ji(Jr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ji(Jr.comparator)).toArray()}}new Uint8Array(0);const Ml={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ol=41943040;class jl{static withCacheSize(e){return new jl(e,jl.DEFAULT_COLLECTION_PERCENTILE,jl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}jl.DEFAULT_COLLECTION_PERCENTILE=10,jl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jl.DEFAULT=new jl(Ol,jl.DEFAULT_COLLECTION_PERCENTILE,jl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jl.DISABLED=new jl(-1,0,0);class Ll{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ll(0)}static ir(){return new Ll(-1)}}const zl="LruGarbageCollector",Bl=1048576;function Fl(e,t){let[n,r]=e,[i,o]=t;const s=$r(n,i);return 0===s?$r(r,o):s}class Ul{constructor(e){this.cr=e,this.buffer=new Ji(Fl),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Fl(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $l{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Tr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return null!==this.Tr}Ir(e){wr(zl,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){pi(e)?wr(zl,"Ignoring IndexedDB error during garbage collection: ",e):await di(e)}await this.Ir(3e5)}))}}class Hl{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return hi.resolve(gi.le);const n=new Ul(t);return this.Er.forEachTarget(e,(e=>n.Pr(e.sequenceNumber))).next((()=>this.Er.Ar(e,(e=>n.Pr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Er.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(wr("LruGarbageCollector","Garbage collection skipped; disabled"),hi.resolve(Ml)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(wr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ml):this.Rr(e,t)))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(wr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),br()<=Pt.DEBUG&&wr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(s-o)+"ms\n"+`\tRemoved ${i} targets in `+(a-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),hi.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Vl(e,t){return new Hl(e,t)}class Wl{constructor(){this.changes=new Os((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?hi.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ql{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Gl{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&va(n.mutation,e,to.empty(),Yr.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,qs()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qs();const r=Us();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Bs();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Us();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,qs())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ls();const o=Hs(),s=Hs();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Sa)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),va(s.mutation,t,s.mutation.getFieldMask(),Yr.now())):o.set(t.key,to.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new ql(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Hs();let r=new Ki(((e,t)=>e-t)),i=qs();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||to.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||qs()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=$s();l.forEach((e=>{if(!i.has(e)){const r=ga(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return hi.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ni.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Es(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):hi.resolve(Us());let s=ri,a=i;return o.next((t=>hi.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?hi.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,qs()))).next((e=>({batchId:s,changes:Fs(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ni(t)).next((e=>{let t=Bs();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Bs();return this.indexManager.getCollectionParents(e,i).next((s=>hi.forEach(s,(s=>{const a=function(e,t){return new ys(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Vo.newInvalidDocument(r)))}));let n=Bs();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&va(o.mutation,r,to.empty(),Yr.now()),Is(t,r)&&(n=n.insert(e,r))})),n}))}}class Ql{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return hi.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:il(e.createTime)}}(t)),hi.resolve()}getNamedQuery(e,t){return hi.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(e){return{name:e.name,query:Al(e.bundledQuery),readTime:il(e.readTime)}}(t)),hi.resolve()}}class Yl{constructor(){this.overlays=new Ki(ni.comparator),this.Or=new Map}getOverlay(e,t){return hi.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Us();return hi.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),hi.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Or.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Or.delete(n)),hi.resolve()}getOverlaysForCollection(e,t,n){const r=Us(),i=t.length+1,o=new ni(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return hi.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ki(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Us(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Us(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return hi.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Or.get(r.largestBatchId).delete(n.key);this.Or.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ra(t,n));let i=this.Or.get(t);void 0===i&&(i=qs(),this.Or.set(t,i)),this.Or.set(t,i.add(n.key))}}class Kl{constructor(){this.sessionToken=ro.EMPTY_BYTE_STRING}getSessionToken(e){return hi.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,hi.resolve()}}class Xl{constructor(){this.Nr=new Ji(Zl.Br),this.Lr=new Ji(Zl.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const n=new Zl(e,t);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Qr(new Zl(e,t))}$r(e,t){e.forEach((e=>this.removeReference(e,t)))}Ur(e){const t=new ni(new Jr([])),n=new Zl(t,e),r=new Zl(t,e+1),i=[];return this.Lr.forEachInRange([n,r],(e=>{this.Qr(e),i.push(e.key)})),i}Kr(){this.Nr.forEach((e=>this.Qr(e)))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new ni(new Jr([])),n=new Zl(t,e),r=new Zl(t,e+1);let i=qs();return this.Lr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Zl(e,0),n=this.Nr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Zl{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return ni.comparator(e.key,t.key)||$r(e.Gr,t.Gr)}static kr(e,t){return $r(e.Gr,t.Gr)||ni.comparator(e.key,t.key)}}class Jl{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Ji(Zl.Br)}checkEmpty(e){return hi.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ta(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.zr=this.zr.add(new Zl(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return hi.resolve(o)}lookupMutationBatch(e,t){return hi.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Hr(n),i=r<0?0:r;return hi.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return hi.resolve(0===this.mutationQueue.length?mi:this.Jn-1)}getAllMutationBatches(e){return hi.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Zl(t,0),r=new Zl(t,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,r],(e=>{const t=this.jr(e.Gr);i.push(t)})),hi.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ji($r);return t.forEach((e=>{const t=new Zl(e,0),r=new Zl(e,Number.POSITIVE_INFINITY);this.zr.forEachInRange([t,r],(e=>{n=n.add(e.Gr)}))})),hi.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ni.isDocumentKey(i)||(i=i.child(""));const o=new Zl(new ni(i),0);let s=new Ji($r);return this.zr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Gr)),!0)}),o),hi.resolve(this.Jr(s))}Jr(e){const t=[];return e.forEach((e=>{const n=this.jr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Dr(0===this.Yr(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.zr;return hi.forEach(t.mutations,(r=>{const i=new Zl(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.zr=n}))}Xn(e){}containsKey(e,t){const n=new Zl(t,0),r=this.zr.firstAfterOrEqual(n);return hi.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,hi.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ec{constructor(e){this.Zr=e,this.docs=new Ki(ni.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Zr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return hi.resolve(n?n.document.mutableCopy():Vo.newInvalidDocument(t))}getEntries(e,t){let n=Ls();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Vo.newInvalidDocument(e))})),hi.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ls();const o=t.path,s=new ni(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||li(si(s),n)<=0||(r.has(s.key)||Is(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return hi.resolve(i)}getAllFromCollectionGroup(e,t,n,r){xr(9500)}Xr(e,t){return hi.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new tc(this)}getSize(e){return hi.resolve(this.size)}}class tc extends Wl{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.vr.addEntry(e,r)):this.vr.removeEntry(n)})),hi.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}class nc{constructor(e){this.persistence=e,this.ei=new Os((e=>gs(e)),ms),this.lastRemoteSnapshotVersion=Kr.min(),this.highestTargetId=0,this.ti=0,this.ni=new Xl,this.targetCount=0,this.ri=Ll.rr()}forEachTarget(e,t){return this.ei.forEach(((e,n)=>t(n))),hi.resolve()}getLastRemoteSnapshotVersion(e){return hi.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return hi.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),hi.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ti&&(this.ti=t),hi.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Ll(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,hi.resolve()}updateTargetData(e,t){return this.ar(t),hi.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,hi.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ei.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.ei.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),hi.waitFor(i).next((()=>r))}getTargetCount(e){return hi.resolve(this.targetCount)}getTargetData(e,t){const n=this.ei.get(t)||null;return hi.resolve(n)}addMatchingKeys(e,t,n){return this.ni.qr(t,n),hi.resolve()}removeMatchingKeys(e,t,n){this.ni.$r(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),hi.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),hi.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ni.Wr(t);return hi.resolve(n)}containsKey(e,t){return hi.resolve(this.ni.containsKey(t))}}class rc{constructor(e,t){this.ii={},this.overlays={},this.si=new gi(0),this.oi=!1,this.oi=!0,this._i=new Kl,this.referenceDelegate=e(this),this.ai=new nc(this),this.indexManager=new Nl,this.remoteDocumentCache=function(e){return new ec(e)}((e=>this.referenceDelegate.ui(e))),this.serializer=new Rl(t),this.ci=new Ql(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Yl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ii[e.toKey()];return n||(n=new Jl(t,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,n){wr("MemoryPersistence","Starting transaction:",e);const r=new ic(this.si.next());return this.referenceDelegate.li(),n(r).next((e=>this.referenceDelegate.hi(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Pi(e,t){return hi.or(Object.values(this.ii).map((n=>()=>n.containsKey(e,t))))}}class ic extends ui{constructor(e){super(),this.currentSequenceNumber=e}}class oc{constructor(e){this.persistence=e,this.Ti=new Xl,this.Ii=null}static Ei(e){return new oc(e)}get di(){if(this.Ii)return this.Ii;throw xr(60996)}addReference(e,t,n){return this.Ti.addReference(n,t),this.di.delete(n.toString()),hi.resolve()}removeReference(e,t,n){return this.Ti.removeReference(n,t),this.di.add(n.toString()),hi.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),hi.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach((e=>this.di.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.di.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hi.forEach(this.di,(n=>{const r=ni.fromPath(n);return this.Ai(e,r).next((e=>{e||t.removeEntry(r,Kr.min())}))})).next((()=>(this.Ii=null,t.apply(e))))}updateLimboDocument(e,t){return this.Ai(e,t).next((e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())}))}ui(e){return 0}Ai(e,t){return hi.or([()=>hi.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class sc{constructor(e,t){this.persistence=e,this.Ri=new Os((e=>Si(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Vl(this,t)}static Ei(e,t){return new sc(e,t)}li(){}hi(e){return hi.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Vr(e){let t=0;return this.Ar(e,(e=>{t++})).next((()=>t))}Ar(e,t){return hi.forEach(this.Ri,((n,r)=>this.gr(e,n,r).next((e=>e?hi.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Xr(e,(r=>this.gr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Kr.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),hi.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),hi.resolve()}removeReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),hi.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),hi.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=No(e.data.value)),t}gr(e,t,n){return hi.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Ri.get(t);return hi.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ac{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ls=n,this.hs=r}static Ps(e,t){let n=qs(),r=qs();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ac(e,t.fromCache,n,r)}}class lc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class cc{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=bt()?8:fi(yt())>0?6:4}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Vs(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new lc;return this.fs(e,t,n).next((r=>{if(i.result=r,this.Is)return this.gs(e,t,n,r.size)}))})).next((()=>i.result))}gs(e,t,n,r){return n.documentReadCount<this.Es?(br()<=Pt.DEBUG&&wr("QueryEngine","SDK will not create cache indexes for query:",As(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),hi.resolve()):(br()<=Pt.DEBUG&&wr("QueryEngine","Query:",As(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?(br()<=Pt.DEBUG&&wr("QueryEngine","The SDK decides to create cache indexes for query:",As(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xs(t))):hi.resolve())}Rs(e,t){if(Ss(t))return hi.resolve(null);let n=xs(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ts(t,null,"F"),n=xs(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=qs(...r);return this.As.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ps(t,r);return this.ys(t,o,i,n.readTime)?this.Rs(e,Ts(t,null,"F")):this.ws(e,o,t,n)}))))})))))}Vs(e,t,n,r){return Ss(t)||r.isEqual(Kr.min())?hi.resolve(null):this.As.getDocuments(e,n).next((i=>{const o=this.ps(t,i);return this.ys(t,o,n,r)?hi.resolve(null):(br()<=Pt.DEBUG&&wr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),As(t)),this.ws(e,o,t,oi(r,ri)).next((e=>e)))}))}ps(e,t){let n=new Ji(Ps(e));return t.forEach(((t,r)=>{Is(e,r)&&(n=n.add(r))})),n}ys(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}fs(e,t,n){return br()<=Pt.DEBUG&&wr("QueryEngine","Using full collection scan to execute query:",As(t)),this.As.getDocumentsMatchingQuery(e,t,ai.min(),n)}ws(e,t,n,r){return this.As.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const uc="LocalStore";class dc{constructor(e,t,n,r){this.persistence=e,this.bs=t,this.serializer=r,this.Ss=new Ki($r),this.Ds=new Os((e=>gs(e)),ms),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gl(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ss)))}}function hc(e,t,n,r){return new dc(e,t,n,r)}async function fc(e,t){const n=Tr(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Fs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=qs();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Ms:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function pc(e){const t=Tr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ai.getLastRemoteSnapshotVersion(e)))}function gc(e,t,n){let r=qs(),i=qs();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ls();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Kr.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):wr(uc,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{xs:r,Os:i}}))}function mc(e,t){const n=Tr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=mi),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function vc(e,t){const n=Tr(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ai.getTargetData(e,t).next((i=>i?(r=i,hi.resolve(r)):n.ai.allocateTargetId(e).next((i=>(r=new kl(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.ai.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ss.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(e.targetId,e),n.Ds.set(t,e.targetId)),e}))}async function yc(e,t,n){const r=Tr(e),i=r.Ss.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!pi(e))throw e;wr(uc,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(i.target)}function bc(e,t,n){const r=Tr(e);let i=Kr.min(),o=qs();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Tr(e),i=r.Ds.get(n);return void 0!==i?hi.resolve(r.Ss.get(i)):r.ai.getTargetData(t,n)}(r,e,xs(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.bs.getDocumentsMatchingQuery(e,t,n?i:Kr.min(),n?o:qs()))).next((e=>(wc(r,Ns(t),e),{documents:e,Ns:o})))))}function wc(e,t,n){let r=e.vs.get(t)||Kr.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.vs.set(t,r)}class Sc{constructor(){this.activeTargetIds=Qs()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ec{constructor(){this.So=new Sc,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,n){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Sc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cc{vo(e){}shutdown(){}}const xc="ConnectivityMonitor";class _c{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){wr(xc,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){wr(xc,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Dc=null;function Tc(){return null===Dc?Dc=268435456+Math.round(2147483648*Math.random()):Dc++,"0x"+Dc.toString(16)}const kc="RestConnection",Rc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ac{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${n}/databases/${r}`,this.qo=this.databaseId.database===vo?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Qo(e,t,n,r,i){const o=Tc(),s=this.$o(e,t.toUriEncodedString());wr(kc,`Sending RPC '${e}' ${o}:`,s,n);const a={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(a,r,i),this.Ko(e,s,a,n).then((t=>(wr(kc,`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw Er(kc,`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}Wo(e,t,n,r,i,o){return this.Qo(e,t,n,r,i)}Uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+vr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}$o(e,t){const n=Rc[e];return`${this.Lo}/v1/${t}:${n}`}terminate(){}}class Ic{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}const Nc="WebChannelConnection";class Pc extends Ac{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,n,r){const i=Tc();return new Promise(((o,s)=>{const a=new ir;a.setWithCredentials(!0),a.listenOnce(sr.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case ar.NO_ERROR:const t=a.getResponseJson();wr(Nc,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case ar.TIMEOUT:wr(Nc,`RPC '${e}' ${i} timed out`),s(new Rr(kr.DEADLINE_EXCEEDED,"Request time out"));break;case ar.HTTP_ERROR:const n=a.getStatus();if(wr(Nc,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(kr).indexOf(t)>=0?t:kr.UNKNOWN}(t.status);s(new Rr(e,t.message))}else s(new Rr(kr.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Rr(kr.UNAVAILABLE,"Connection failed."));break;default:xr(9055,{s_:e,streamId:i,o_:a.getLastErrorCode(),__:a.getLastError()})}}finally{wr(Nc,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);wr(Nc,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}a_(e,t,n){const r=Tc(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dr(),s=ur(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Uo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");wr(Nc,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=o.createWebChannel(c,a);let d=!1,h=!1;const f=new Ic({Go:t=>{h?wr(Nc,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(wr(Nc,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),wr(Nc,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,or.EventType.OPEN,(()=>{h||(wr(Nc,`RPC '${e}' stream ${r} transport opened.`),f.t_())})),p(u,or.EventType.CLOSE,(()=>{h||(h=!0,wr(Nc,`RPC '${e}' stream ${r} transport closed`),f.r_())})),p(u,or.EventType.ERROR,(t=>{h||(h=!0,Er(Nc,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.r_(new Rr(kr.UNAVAILABLE,"The operation could not be completed")))})),p(u,or.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Dr(!!i,16349);const o=i,s=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){wr(Nc,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=Ia[e];if(void 0!==t)return Ma(t)}(t),i=s.message;void 0===n&&(n=kr.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.r_(new Rr(n,i)),u.close()}else wr(Nc,`RPC '${e}' stream ${r} received:`,i),f.i_(i)}})),p(s,cr.STAT_EVENT,(t=>{t.stat===lr.PROXY?wr(Nc,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===lr.NOPROXY&&wr(Nc,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.n_()}),0),f}}function Mc(){return"undefined"!=typeof document?document:null}function Oc(e){return new Ja(e,!0)}class jc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.bi=e,this.timerId=t,this.u_=n,this.c_=r,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),r=Math.max(0,t-n);r>0&&wr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,(()=>(this.T_=Date.now(),e()))),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){null!==this.P_&&(this.P_.skipDelay(),this.P_=null)}cancel(){null!==this.P_&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}const Lc="PersistentStream";class zc{constructor(e,t,n,r,i,o,s,a){this.bi=e,this.R_=n,this.V_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new jc(e,t)}w_(){return 1===this.state||5===this.state||this.b_()}b_(){return 2===this.state||3===this.state}start(){this.p_=0,4!==this.state?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&null===this.f_&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,(()=>this.C_())))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,4!==e?this.y_.reset():t&&t.code===kr.RESOURCE_EXHAUSTED?(Sr(t.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===kr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.m_===t&&this.B_(n,r)}),(t=>{e((()=>{const e=new Rr(kr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.L_(e)}))}))}B_(e,t){const n=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo((()=>{n((()=>this.listener.jo()))})),this.stream.Jo((()=>{n((()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,(()=>(this.b_()&&(this.state=3),Promise.resolve()))),this.listener.Jo())))})),this.stream.Zo((e=>{n((()=>this.L_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.p_?this.q_(e):this.onNext(e)))}))}S_(){this.state=5,this.y_.E_((async()=>{this.state=0,this.start()}))}L_(e){return wr(Lc,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget((()=>this.m_===e?t():(wr(Lc,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Bc extends zc{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:xr(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Dr(void 0===t||"string"==typeof t,58123),ro.fromBase64String(t||"")):(Dr(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),ro.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?kr.UNKNOWN:Ma(e.code);return new Rr(t,e.message||"")}(s);n=new Wa(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=cl(e,r.document.name),o=il(r.document.updateTime),s=r.document.createTime?il(r.document.createTime):Kr.min(),a=new $o({mapValue:{fields:r.document.fields}}),l=Vo.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ha(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=cl(e,r.document),o=r.readTime?il(r.readTime):Kr.min(),s=Vo.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ha([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=cl(e,r.document),o=r.removedTargetIds||[];n=new Ha([],o,i,null)}else{if(!("filter"in t))return xr(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Aa(r,i),s=e.targetId;n=new Va(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Kr.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Kr.min():t.readTime?il(t.readTime):Kr.min()}(e);return this.listener.Q_(t,n)}U_(e){const t={};t.database=hl(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=vs(r)?{documents:ml(e,r)}:{query:vl(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=nl(e,t.resumeToken);const r=el(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Kr.min())>0){n.readTime=tl(e,t.snapshotVersion.toTimestamp());const r=el(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xr(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.F_(t)}K_(e){const t={};t.database=hl(this.serializer),t.removeTarget=e,this.F_(t)}}class Fc extends zc{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Dr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Dr(!e.writeResults||0===e.writeResults.length,55816),this.listener.z_()}onNext(e){Dr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=function(e,t){return e&&e.length>0?(Dr(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?il(e.updateTime):il(t);return n.isEqual(Kr.min())&&(n=il(t)),new da(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=il(e.commitTime);return this.listener.j_(n,t)}H_(){const e={};e.database=hl(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>gl(this.serializer,e)))};this.F_(t)}}class Uc{}class $c extends Uc{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new Rr(kr.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,n,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Qo(e,sl(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===kr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Rr(kr.UNKNOWN,e.toString())}))}Wo(e,t,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.Wo(e,sl(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===kr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Rr(kr.UNKNOWN,e.toString())}))}terminate(){this.J_=!0,this.connection.terminate()}}class Hc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){0===this.Z_&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve()))))}ia(e){"Online"===this.state?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,"Online"===e&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Sr(t),this.ea=!1):wr("OnlineStateTracker",t)}sa(){null!==this.X_&&(this.X_.cancel(),this.X_=null)}}const Vc="RemoteStore";class Wc{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo((e=>{n.enqueueAndForget((async()=>{eu(this)&&(wr(Vc,"Restarting streams for network reachability change."),await async function(e){const t=Tr(e);t.aa.add(4),await Gc(t),t.la.set("Unknown"),t.aa.delete(4),await qc(t)}(this))}))})),this.la=new Hc(n,r)}}async function qc(e){if(eu(e))for(const t of e.ua)await t(!0)}async function Gc(e){for(const t of e.ua)await t(!1)}function Qc(e,t){const n=Tr(e);n._a.has(t.targetId)||(n._a.set(t.targetId,t),Jc(n)?Zc(n):bu(n).b_()&&Kc(n,t))}function Yc(e,t){const n=Tr(e),r=bu(n);n._a.delete(t),r.b_()&&Xc(n,t),0===n._a.size&&(r.b_()?r.v_():eu(n)&&n.la.set("Unknown"))}function Kc(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Kr.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}bu(e).U_(t)}function Xc(e,t){e.ha.Ke(t),bu(e).K_(t)}function Zc(e){e.ha=new Ga({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),bu(e).start(),e.la.ta()}function Jc(e){return eu(e)&&!bu(e).w_()&&e._a.size>0}function eu(e){return 0===Tr(e).aa.size}function tu(e){e.ha=void 0}async function nu(e){e.la.set("Online")}async function ru(e){e._a.forEach(((t,n)=>{Kc(e,t)}))}async function iu(e,t){tu(e),Jc(e)?(e.la.ia(t),Zc(e)):e.la.set("Unknown")}async function ou(e,t,n){if(e.la.set("Online"),t instanceof Wa&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e._a.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e._a.delete(r),e.ha.removeTarget(r))}(e,t)}catch(n){wr(Vc,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await su(e,n)}else if(t instanceof Ha?e.ha.Xe(t):t instanceof Va?e.ha.ot(t):e.ha.nt(t),!n.isEqual(Kr.min()))try{const t=await pc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ha.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e._a.get(r);i&&e._a.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e._a.get(t);if(!r)return;e._a.set(t,r.withResumeToken(ro.EMPTY_BYTE_STRING,r.snapshotVersion)),Xc(e,t);const i=new kl(r.target,t,n,r.sequenceNumber);Kc(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){wr(Vc,"Failed to raise snapshot:",t),await su(e,t)}}async function su(e,t,n){if(!pi(t))throw t;e.aa.add(1),await Gc(e),e.la.set("Offline"),n||(n=()=>pc(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{wr(Vc,"Retrying IndexedDB access"),await n(),e.aa.delete(1),await qc(e)}))}function au(e,t){return t().catch((n=>su(e,n,t)))}async function lu(e){const t=Tr(e),n=wu(t);let r=t.oa.length>0?t.oa[t.oa.length-1].batchId:mi;for(;cu(t);)try{const e=await mc(t.localStore,r);if(null===e){0===t.oa.length&&n.v_();break}r=e.batchId,uu(t,e)}catch(e){await su(t,e)}du(t)&&hu(t)}function cu(e){return eu(e)&&e.oa.length<10}function uu(e,t){e.oa.push(t);const n=wu(e);n.b_()&&n.W_&&n.G_(t.mutations)}function du(e){return eu(e)&&!wu(e).w_()&&e.oa.length>0}function hu(e){wu(e).start()}async function fu(e){wu(e).H_()}async function pu(e){const t=wu(e);for(const n of e.oa)t.G_(n.mutations)}async function gu(e,t,n){const r=e.oa.shift(),i=ka.from(r,t,n);await au(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await lu(e)}async function mu(e,t){t&&wu(e).W_&&await async function(e,t){if(function(e){return Pa(e)&&e!==kr.ABORTED}(t.code)){const n=e.oa.shift();wu(e).D_(),await au(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await lu(e)}}(e,t),du(e)&&hu(e)}async function vu(e,t){const n=Tr(e);n.asyncQueue.verifyOperationInProgress(),wr(Vc,"RemoteStore received new credentials");const r=eu(n);n.aa.add(3),await Gc(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await qc(n)}async function yu(e,t){const n=Tr(e);t?(n.aa.delete(2),await qc(n)):t||(n.aa.add(2),await Gc(n),n.la.set("Unknown"))}function bu(e){return e.Pa||(e.Pa=function(e,t,n){const r=Tr(e);return r.Y_(),new Bc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:nu.bind(null,e),Jo:ru.bind(null,e),Zo:iu.bind(null,e),Q_:ou.bind(null,e)}),e.ua.push((async t=>{t?(e.Pa.D_(),Jc(e)?Zc(e):e.la.set("Unknown")):(await e.Pa.stop(),tu(e))}))),e.Pa}function wu(e){return e.Ta||(e.Ta=function(e,t,n){const r=Tr(e);return r.Y_(),new Fc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:fu.bind(null,e),Zo:mu.bind(null,e),z_:pu.bind(null,e),j_:gu.bind(null,e)}),e.ua.push((async t=>{t?(e.Ta.D_(),await lu(e)):(await e.Ta.stop(),e.oa.length>0&&(wr(Vc,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))}))),e.Ta}class Su{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Su(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rr(kr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eu(e,t){if(Sr("AsyncQueue",`${t}: ${e}`),pi(e))return new Rr(kr.UNAVAILABLE,`${t}: ${e}`);throw e}class Cu{static emptySet(e){return new Cu(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ni.comparator(t.key,n.key):(e,t)=>ni.comparator(e.key,t.key),this.keyedMap=Bs(),this.sortedSet=new Ki(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cu))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Cu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class xu{constructor(){this.Ia=new Ki(ni.comparator)}track(e){const t=e.doc.key,n=this.Ia.get(t);n?0!==e.type&&3===n.type?this.Ia=this.Ia.insert(t,e):3===e.type&&1!==n.type?this.Ia=this.Ia.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Ia=this.Ia.remove(t):1===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):xr(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal(((t,n)=>{e.push(n)})),e}}class _u{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new _u(e,t,Cu.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ks(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Du{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some((e=>e.ma()))}}class Tu{constructor(){this.queries=ku(),this.onlineState="Unknown",this.fa=new Set}terminate(){!function(e,t){const n=Tr(e),r=n.queries;n.queries=ku(),r.forEach(((e,n)=>{for(const r of n.Ra)r.onError(t)}))}(this,new Rr(kr.ABORTED,"Firestore shutting down"))}}function ku(){return new Os((e=>Rs(e)),ks)}async function Ru(e,t){const n=Tr(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.Va()&&t.ma()&&(r=2):(o=new Du,r=t.ma()?0:1);try{switch(r){case 0:o.Aa=await n.onListen(i,!0);break;case 1:o.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Eu(e,`Initialization of query '${As(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.Ra.push(t),t.ga(n.onlineState),o.Aa&&t.pa(o.Aa)&&Pu(n)}async function Au(e,t){const n=Tr(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Ra.indexOf(t);e>=0&&(o.Ra.splice(e,1),0===o.Ra.length?i=t.ma()?0:1:!o.Va()&&t.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Iu(e,t){const n=Tr(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Ra)e.pa(i)&&(r=!0);t.Aa=i}}r&&Pu(n)}function Nu(e,t,n){const r=Tr(e),i=r.queries.get(t);if(i)for(const o of i.Ra)o.onError(n);r.queries.delete(t)}function Pu(e){e.fa.forEach((e=>{e.next()}))}var Mu,Ou;(Ou=Mu||(Mu={})).ya="default",Ou.Cache="cache";class ju{constructor(e,t,n){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new _u(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache)return!0;if(!this.ma())return!0;const n="Offline"!==t;return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Ca(e){e=_u.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Mu.Cache}}class Lu{constructor(e){this.key=e}}class zu{constructor(e){this.key=e}}class Bu{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=qs(),this.mutatedKeys=qs(),this.Ua=Ps(e),this.Ka=new Cu(this.Ua)}get Wa(){return this.qa}Ga(e,t){const n=t?t.za:new xu,r=t?t.Ka:this.Ka;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Is(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ja(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ua(u,a)>0||l&&this.Ua(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ka:o,za:n,ys:s,mutatedKeys:i}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xr(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Ua(e.doc,t.doc))),this.Ha(n),r=null!=r&&r;const s=t&&!r?this.Ja():[],a=0===this.$a.size&&this.current&&!r?1:0,l=a!==this.Qa;return this.Qa=a,0!==o.length||l?{snapshot:new _u(this.query,e.Ka,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:s}:{Ya:s}}ga(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new xu,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach((e=>this.qa=this.qa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.qa=this.qa.delete(e))),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=qs(),this.Ka.forEach((e=>{this.Za(e.key)&&(this.$a=this.$a.add(e.key))}));const t=[];return e.forEach((e=>{this.$a.has(e)||t.push(new zu(e))})),this.$a.forEach((n=>{e.has(n)||t.push(new Lu(n))})),t}Xa(e){this.qa=e.Ns,this.$a=qs();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return _u.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,0===this.Qa,this.hasCachedResults)}}const Fu="SyncEngine";class Uu{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class $u{constructor(e){this.key=e,this.tu=!1}}class Hu{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Os((e=>Rs(e)),ks),this.iu=new Map,this.su=new Set,this.ou=new Ki(ni.comparator),this._u=new Map,this.au=new Xl,this.uu={},this.cu=new Map,this.lu=Ll.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return!0===this.hu}}async function Vu(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=dd(e);let i;const o=r.ru.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=await qu(r,t,n,!0),i}async function Wu(e,t){const n=dd(e);await qu(n,t,!0,!1)}async function qu(e,t,n,r){const i=await vc(e.localStore,xs(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Gu(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&Qc(e.remoteStore,i),a}async function Gu(e,t,n,r,i){e.Pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ga(n);i.ys&&(i=await bc(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ga(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return od(e,t.targetId,a.Ya),a.snapshot}(e,t,n,r);const o=await bc(e.localStore,t,!0),s=new Bu(t,o.Ns),a=s.Ga(o.documents),l=$a.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);od(e,n,c.Ya);const u=new Uu(t,n,s);return e.ru.set(t,u),e.iu.has(n)?e.iu.get(n).push(t):e.iu.set(n,[t]),c.snapshot}async function Qu(e,t,n){const r=Tr(e),i=r.ru.get(t),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter((e=>!ks(e,t)))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yc(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Yc(r.remoteStore,i.targetId),rd(r,i.targetId)})).catch(di)):(rd(r,i.targetId),await yc(r.localStore,i.targetId,!0))}async function Yu(e,t){const n=Tr(e),r=n.ru.get(t),i=n.iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yc(n.remoteStore,r.targetId))}async function Ku(e,t){const n=Tr(e);try{const e=await function(e,t){const n=Tr(e),r=t.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.ai.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.ai.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(ro.EMPTY_BYTE_STRING,Kr.min()).withLastLimboFreeSnapshotVersion(Kr.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&s.push(n.ai.updateTargetData(e,c))}));let a=Ls(),l=qs();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(gc(e,o,t.documentUpdates).next((e=>{a=e.xs,l=e.Os}))),!r.isEqual(Kr.min())){const t=n.ai.getLastRemoteSnapshotVersion(e).next((t=>n.ai.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return hi.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ss=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n._u.get(t);r&&(Dr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.tu=!0:e.modifiedDocuments.size>0?Dr(r.tu,14607):e.removedDocuments.size>0&&(Dr(r.tu,42227),r.tu=!1))})),await ld(n,e,t)}catch(e){await di(e)}}function Xu(e,t,n){const r=Tr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ru.forEach(((n,r)=>{const i=r.view.ga(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Tr(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Ra)i.ga(t)&&(r=!0)})),r&&Pu(n)}(r.eventManager,t),e.length&&r.nu.Q_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Zu(e,t,n){const r=Tr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r._u.get(t),o=i&&i.key;if(o){let e=new Ki(ni.comparator);e=e.insert(o,Vo.newNoDocument(o,Kr.min()));const n=qs().add(o),i=new Ua(Kr.min(),new Map,new Ki($r),e,n);await Ku(r,i),r.ou=r.ou.remove(o),r._u.delete(t),ad(r)}else await yc(r.localStore,t,!1).then((()=>rd(r,t,n))).catch(di)}async function Ju(e,t){const n=Tr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Tr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=hi.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Dr(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=qs();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);nd(n,r,null),td(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ld(n,e)}catch(e){await di(e)}}async function ed(e,t,n){const r=Tr(e);try{const e=await function(e,t){const n=Tr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Dr(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);nd(r,t,n),td(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ld(r,e)}catch(n){await di(n)}}function td(e,t){(e.cu.get(t)||[]).forEach((e=>{e.resolve()})),e.cu.delete(t)}function nd(e,t,n){const r=Tr(e);let i=r.uu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.uu[r.currentUser.toKey()]=i}}function rd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.iu.get(t))e.ru.delete(r),n&&e.nu.Tu(r,n);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach((t=>{e.au.containsKey(t)||id(e,t)}))}function id(e,t){e.su.delete(t.path.canonicalString());const n=e.ou.get(t);null!==n&&(Yc(e.remoteStore,n),e.ou=e.ou.remove(t),e._u.delete(n),ad(e))}function od(e,t,n){for(const r of n)r instanceof Lu?(e.au.addReference(r.key,t),sd(e,r)):r instanceof zu?(wr(Fu,"Document no longer in limbo: "+r.key),e.au.removeReference(r.key,t),e.au.containsKey(r.key)||id(e,r.key)):xr(19791,{Iu:r})}function sd(e,t){const n=t.key,r=n.path.canonicalString();e.ou.get(n)||e.su.has(r)||(wr(Fu,"New document in limbo: "+n),e.su.add(r),ad(e))}function ad(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const n=new ni(Jr.fromString(t)),r=e.lu.next();e._u.set(r,new $u(n)),e.ou=e.ou.insert(n,r),Qc(e.remoteStore,new kl(xs(ws(n.path)),r,"TargetPurposeLimboResolution",gi.le))}}async function ld(e,t,n){const r=Tr(e),i=[],o=[],s=[];r.ru.isEmpty()||(r.ru.forEach(((e,a)=>{s.push(r.Pu(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=ac.Ps(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.nu.Q_(i),await async function(e,t){const n=Tr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>hi.forEach(t,(t=>hi.forEach(t.ls,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>hi.forEach(t.hs,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!pi(e))throw e;wr(uc,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ss.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ss=n.Ss.insert(e,i)}}}(r.localStore,o))}async function cd(e,t){const n=Tr(e);if(!n.currentUser.isEqual(t)){wr(Fu,"User change. New user:",t.toKey());const e=await fc(n.localStore,t);n.currentUser=t,function(e,t){e.cu.forEach((e=>{e.forEach((e=>{e.reject(new Rr(kr.CANCELLED,t))}))})),e.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ld(n,e.Ms)}}function ud(e,t){const n=Tr(e),r=n._u.get(t);if(r&&r.tu)return qs().add(r.key);{let e=qs();const r=n.iu.get(t);if(!r)return e;for(const t of r){const r=n.ru.get(t);e=e.unionWith(r.view.Wa)}return e}}function dd(e){const t=Tr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ku.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ud.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zu.bind(null,t),t.nu.Q_=Iu.bind(null,t.eventManager),t.nu.Tu=Nu.bind(null,t.eventManager),t}function hd(e){const t=Tr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ju.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ed.bind(null,t),t}class fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oc(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return hc(this.persistence,new cc,e.initialUser,this.serializer)}Ru(e){return new rc(oc.Ei,this.serializer)}Au(e){return new Ec}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fd.provider={build:()=>new fd};class pd extends fd{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Dr(this.persistence.referenceDelegate instanceof sc,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new $l(n,e.asyncQueue,t)}Ru(e){const t=void 0!==this.cacheSizeBytes?jl.withCacheSize(this.cacheSizeBytes):jl.DEFAULT;return new rc((e=>sc.Ei(e,t)),this.serializer)}}class gd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Xu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=cd.bind(null,this.syncEngine),await yu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Tu}createDatastore(e){const t=Oc(e.databaseInfo.databaseId),n=function(e){return new Pc(e)}(e.databaseInfo);return function(e,t,n,r){return new $c(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Wc(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Xu(this.syncEngine,e,0)),_c.C()?new _c:new Cc)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Hu(e,t,n,r,i,o);return s&&(a.hu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Tr(e);wr(Vc,"RemoteStore shutting down."),t.aa.add(5),await Gc(t),t.ca.shutdown(),t.la.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}gd.provider={build:()=>new gd};class md{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class vd{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Rr(kr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Tr(e),r={documents:t.map((e=>ll(n.serializer,e)))},i=await n.Wo("BatchGetDocuments",n.serializer.databaseId,Jr.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Dr(!!t.found,43571),t.found.name,t.found.updateTime;const n=cl(e,t.found.name),r=il(t.found.updateTime),i=t.found.createTime?il(t.found.createTime):Kr.min(),o=new $o({mapValue:{fields:t.found.fields}});return Vo.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Dr(!!t.missing,3894),Dr(!!t.readTime,22933);const n=cl(e,t.missing),r=il(t.readTime);return Vo.newNoDocument(n,r)}(e,t):xr(7234,{result:t})}(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());Dr(!!t,55234,{key:e}),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new _a(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=ni.fromPath(t);this.mutations.push(new Da(n,this.precondition(n)))})),await async function(e,t){const n=Tr(e),r={writes:t.map((e=>gl(n.serializer,e)))};await n.Qo("Commit",n.serializer.databaseId,Jr.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw xr(50498,{xu:e.constructor.name});t=Kr.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Rr(kr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Kr.min())?ha.exists(!1):ha.updateTime(t):ha.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Kr.min()))throw new Rr(kr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ha.updateTime(t)}return ha.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class yd{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Ou=n.maxAttempts,this.y_=new jc(this.asyncQueue,"transaction_retry")}Nu(){this.Ou-=1,this.Bu()}Bu(){this.y_.E_((async()=>{const e=new vd(this.datastore),t=this.Lu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ku(e)}))))})).catch((e=>{this.ku(e)}))}))}Lu(e){try{const t=this.updateFunction(e);return!vi(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ku(e){this.Ou>0&&this.qu(e)?(this.Ou-=1,this.asyncQueue.enqueueAndForget((()=>(this.Bu(),Promise.resolve())))):this.deferred.reject(e)}qu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Pa(t)}return!1}}const bd="FirestoreClient";class wd{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=mr.UNAUTHENTICATED,this.clientId=Ur.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{wr(bd,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(wr(bd,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(tp){const n=Eu(tp,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Sd(e,t){e.asyncQueue.verifyOperationInProgress(),wr(bd,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await fc(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Ed(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Cd(e);wr(bd,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>vu(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>vu(t.remoteStore,n))),e._onlineComponents=t}async function Cd(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){wr(bd,"Using user provided OfflineComponentProvider");try{await Sd(e,e._uninitializedComponentsProvider._offline)}catch(tp){const n=tp;if(!function(e){return"FirebaseError"===e.name?e.code===kr.FAILED_PRECONDITION||e.code===kr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Er("Error using user provided cache. Falling back to memory cache: "+n),await Sd(e,new fd)}}else wr(bd,"Using default OfflineComponentProvider"),await Sd(e,new pd(void 0));return e._offlineComponents}async function xd(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(wr(bd,"Using user provided OnlineComponentProvider"),await Ed(e,e._uninitializedComponentsProvider._online)):(wr(bd,"Using default OnlineComponentProvider"),await Ed(e,new gd))),e._onlineComponents}function _d(e){return xd(e).then((e=>e.syncEngine))}function Dd(e){return xd(e).then((e=>e.datastore))}async function Td(e){const t=await xd(e),n=t.eventManager;return n.onListen=Vu.bind(null,t.syncEngine),n.onUnlisten=Qu.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Wu.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Yu.bind(null,t.syncEngine),n}function kd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ar;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new md({next:n=>{o.yu(),t.enqueueAndForget((()=>Au(e,s))),n.fromCache&&"server"===r.source?i.reject(new Rr(kr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new ju(n,o,{includeMetadataChanges:!0,Fa:!0});return Ru(e,s)}(await Td(e),e.asyncQueue,t,n,r))),r.promise}function Rd(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ad=new Map;function Id(e,t,n){if(!n)throw new Rr(kr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Nd(e){if(!ni.isDocumentKey(e))throw new Rr(kr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Pd(e){if(ni.isDocumentKey(e))throw new Rr(kr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Md(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":xr(12329,{type:typeof e})}function Od(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Rr(kr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Md(e);throw new Rr(kr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const jd="firestore.googleapis.com",Ld=!0;class zd{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Rr(kr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jd,this.ssl=Ld}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Ld;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Ol;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Bl)throw new Rr(kr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Rr(kr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rd(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Rr(kr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Rr(kr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Rr(kr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rr(kr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Rr(kr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zd(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Nr;switch(e.type){case"firstParty":return new jr(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Rr(kr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ad.get(e);t&&(wr("ComponentProvider","Removing Datastore"),Ad.delete(e),t.terminate())}(this),Promise.resolve()}}function Fd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Od(e,Bd))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),a=`${t}:${n}`;o.host!==jd&&o.host!==a&&Er("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!xt(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=mr.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[dt(JSON.stringify({alg:"none",type:"JWT"})),dt(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Rr(kr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new mr(o)}e._authCredentials=new Pr(new Ir(t,n))}}class Ud{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ud(this.firestore,e,this._query)}}class $d{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $d(this.firestore,e,this._key)}}class Hd extends Ud{constructor(e,t,n){super(e,t,ws(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $d(this.firestore,null,new ni(e))}withConverter(e){return new Hd(this.firestore,e,this._path)}}function Vd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Dt(e),Id("collection","path",t),e instanceof Bd){const n=Jr.fromString(t,...r);return Pd(n),new Hd(e,null,n)}{if(!(e instanceof $d||e instanceof Hd))throw new Rr(kr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Jr.fromString(t,...r));return Pd(n),new Hd(e.firestore,null,n)}}function Wd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Dt(e),1===arguments.length&&(t=Ur.newId()),Id("doc","path",t),e instanceof Bd){const n=Jr.fromString(t,...r);return Nd(n),new $d(e,null,new ni(n))}{if(!(e instanceof $d||e instanceof Hd))throw new Rr(kr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Jr.fromString(t,...r));return Nd(n),new $d(e.firestore,e instanceof Hd?e.converter:null,new ni(n))}}const qd="AsyncQueue";class Gd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new jc(this,"async_queue_retry"),this.ju=()=>{const e=Mc();e&&wr(qd,"Visibility state changed to "+e.visibilityState),this.y_.A_()},this.Hu=e;const t=Mc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Mc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise((()=>{}));const t=new Ar;return this.Yu((()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qu.push(e),this.Zu())))}async Zu(){if(0!==this.Qu.length){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(op){if(!pi(op))throw op;wr(qd,"Operation failed with retryable error: "+op)}this.Qu.length>0&&this.y_.E_((()=>this.Zu()))}}Yu(e){const t=this.Hu.then((()=>(this.Wu=!0,e().catch((e=>{throw this.Ku=e,this.Wu=!1,Sr("INTERNAL UNHANDLED ERROR: ",Qd(e)),e})).then((e=>(this.Wu=!1,e))))));return this.Hu=t,t}enqueueAfterDelay(e,t,n){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const r=Su.createAndSchedule(this,e,t,n,(e=>this.Xu(e)));return this.Uu.push(r),r}Ju(){this.Ku&&xr(47125,{ec:Qd(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do{e=this.Hu,await e}while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then((()=>{this.Uu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Uu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.tc()}))}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function Qd(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Yd extends Bd{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Gd,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gd(e),this._firestoreClient=void 0,await e}}}function Kd(e){if(e._terminated)throw new Rr(kr.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Xd(e),e._firestoreClient}function Xd(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new mo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Rd(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new wd(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Zd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zd(ro.fromBase64String(e))}catch(e){throw new Rr(kr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Zd(ro.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jd{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Rr(kr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class eh{constructor(e){this._methodName=e}}class th{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Rr(kr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Rr(kr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $r(this._lat,e._lat)||$r(this._long,e._long)}}class nh{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const rh=/^__.*__$/;class ih{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Sa(e,this.data,this.fieldMask,t,this.fieldTransforms):new wa(e,this.data,t,this.fieldTransforms)}}class oh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Sa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xr(40011,{oc:e})}}class ah{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this._c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new ah(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r.lc(e),r}hc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r._c(),r}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Ch(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(0===e.length)throw this.Tc("Document fields must not be empty");if(sh(this.oc)&&rh.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class lh{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Oc(e)}dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ah({oc:e,methodName:t,Ec:n,path:ti.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ch(e){const t=e._freezeSettings(),n=Oc(e._databaseId);return new lh(e._databaseId,!!t.ignoreUndefinedProperties,n)}function uh(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.dc(o.merge||o.mergeFields?2:0,t,n,i);bh("Data must be an object, but it was:",s,r);const a=vh(r,s);let l,c;if(o.merge)l=new to(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=wh(t,r,n);if(!s.contains(i))throw new Rr(kr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);xh(e,i)||e.push(i)}l=new to(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new ih(new $o(a),l,c)}class dh extends eh{_toFieldTransform(e){if(2!==e.oc)throw 1===e.oc?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dh}}class hh extends eh{_toFieldTransform(e){return new ua(e.path,new na)}isEqual(e){return e instanceof hh}}function fh(e,t,n,r){const i=e.dc(1,t,n);bh("Data must be an object, but it was:",i,r);const o=[],s=$o.empty();Qi(r,((e,r)=>{const a=Eh(t,e,n);r=Dt(r);const l=i.hc(a);if(r instanceof dh)o.push(a);else{const e=mh(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new to(o);return new oh(s,a,i.fieldTransforms)}function ph(e,t,n,r,i,o){const s=e.dc(1,t,n),a=[wh(t,r,n)],l=[i];if(o.length%2!=0)throw new Rr(kr.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(wh(t,o[h])),l.push(o[h+1]);const c=[],u=$o.empty();for(let h=a.length-1;h>=0;--h)if(!xh(c,a[h])){const e=a[h];let t=l[h];t=Dt(t);const n=s.hc(e);if(t instanceof dh)c.push(e);else{const r=mh(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new to(c);return new oh(u,d,s.fieldTransforms)}function gh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return mh(n,e.dc(r?4:3,t))}function mh(e,t){if(yh(e=Dt(e)))return bh("Unsupported field value:",t,e),vh(e,t);if(e instanceof eh)return function(e,t){if(!sh(t.oc))throw t.Tc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Tc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&4!==t.oc)throw t.Tc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=mh(i,t.Pc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Dt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xs(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Yr.fromDate(e);return{timestampValue:tl(t.serializer,n)}}if(e instanceof Yr){const n=new Yr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:tl(t.serializer,n)}}if(e instanceof th)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Zd)return{bytesValue:nl(t.serializer,e._byteString)};if(e instanceof $d){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Tc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:ol(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof nh)return function(e,t){return{mapValue:{fields:{[bo]:{stringValue:Eo},[Co]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Tc("VectorValues must only contain numeric values.");return Ys(t.serializer,e)}))}}}}}}(e,t);throw t.Tc(`Unsupported field value: ${Md(e)}`)}(e,t)}function vh(e,t){const n={};return Yi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qi(e,((e,r)=>{const i=mh(r,t.uc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function yh(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Yr||e instanceof th||e instanceof Zd||e instanceof $d||e instanceof eh||e instanceof nh)}function bh(e,t,n){if(!yh(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Md(n);throw"an object"===r?t.Tc(e+" a custom object"):t.Tc(e+" "+r)}}function wh(e,t,n){if((t=Dt(t))instanceof Jd)return t._internalPath;if("string"==typeof t)return Eh(e,t);throw Ch("Field path arguments must be of type string or ",e,!1,void 0,n)}const Sh=new RegExp("[~\\*/\\[\\]]");function Eh(e,t,n){if(t.search(Sh)>=0)throw Ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Jd(...t.split("."))._internalPath}catch(np){throw Ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ch(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Rr(kr.INVALID_ARGUMENT,a+e+l)}function xh(e,t){return e.some((e=>e.isEqual(t)))}class _h{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $d(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Dh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Th("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Dh extends _h{data(){return super.data()}}function Th(e,t){return"string"==typeof t?Eh(e,t):t instanceof Jd?t._internalPath:t._delegate._internalPath}function kh(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Rr(kr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rh{}class Ah extends Rh{}function Ih(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Rh&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Mh)).length,n=e.filter((e=>e instanceof Nh)).length;if(t>1||t>0&&n>0)throw new Rr(kr.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Nh extends Ah{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Nh(e,t,n)}_apply(e){const t=this._parse(e);return zh(e._query,t),new Ud(e.firestore,e.converter,Ds(e._query,t))}_parse(e){const t=ch(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Rr(kr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){Lh(s,o);const t=[];for(const n of s)t.push(jh(r,e,n));a={arrayValue:{values:t}}}else a=jh(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Lh(s,o),a=gh(n,t,s,"in"===o||"not-in"===o);return Xo.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Ph(e,t,n){const r=t,i=Th("where",e);return Nh._create(i,r,n)}class Mh extends Rh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mh(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Zo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)zh(n,i),n=Ds(n,i)}(e._query,t),new Ud(e.firestore,e.converter,Ds(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Oh extends Ah{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Oh(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Rr(kr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Rr(kr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qo(t,n)}(e._query,this._field,this._direction);return new Ud(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new ys(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function jh(e,t,n){if("string"==typeof(n=Dt(n))){if(""===n)throw new Rr(kr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Es(t)&&-1!==n.indexOf("/"))throw new Rr(kr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Jr.fromString(n));if(!ni.isDocumentKey(r))throw new Rr(kr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Po(e,new ni(r))}if(n instanceof $d)return Po(e,n._key);throw new Rr(kr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Md(n)}.`)}function Lh(e,t){if(!Array.isArray(e)||0===e.length)throw new Rr(kr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function zh(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Rr(kr.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Rr(kr.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Bh{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return so(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xr(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Qi(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Co].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>so(e.doubleValue)));return new nh(i)}convertGeoPoint(e){return new th(so(e.latitude),so(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=po(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(go(e));default:return null}}convertTimestamp(e){const t=oo(e);return new Yr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Jr.fromString(e);Dr(Tl(n),9688,{name:e});const r=new yo(n.get(1),n.get(3)),i=new ni(n.popFirst(5));return r.isEqual(t)||Sr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Fh(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Uh extends Bh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $d(this.firestore,null,t)}}class $h{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hh extends _h{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Th("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Vh extends Hh{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Wh{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $h(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Vh(this._firestore,this._userDataWriter,n.key,n,new $h(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Rr(kr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Vh(e._firestore,e._userDataWriter,n.doc.key,n.doc,new $h(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Vh(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $h(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:qh(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function qh(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xr(61501,{type:e})}}class Gh extends Bh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $d(this.firestore,null,t)}}function Qh(e){e=Od(e,Ud);const t=Od(e.firestore,Yd),n=Kd(t),r=new Gh(t);return kh(e._query),kd(n,e._query).then((n=>new Wh(t,r,e,n)))}function Yh(e,t,n){e=Od(e,$d);const r=Od(e.firestore,Yd),i=Fh(e.converter,t,n);return Jh(r,[uh(ch(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ha.none())])}function Kh(e,t,n){e=Od(e,$d);const r=Od(e.firestore,Yd),i=ch(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=Dt(t))||t instanceof Jd?ph(i,"updateDoc",e._key,t,n,a):fh(i,"updateDoc",e._key,t),Jh(r,[o.toMutation(e._key,ha.exists(!0))])}function Xh(e){return Jh(Od(e.firestore,Yd),[new _a(e._key,ha.none())])}function Zh(e,t){const n=Od(e.firestore,Yd),r=Wd(e),i=Fh(e.converter,t);return Jh(n,[uh(ch(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ha.exists(!1))]).then((()=>r))}function Jh(e,t){return function(e,t){const n=new Ar;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=hd(e);try{const e=await function(e,t){const n=Tr(e),r=Yr.now(),i=t.reduce(((e,t)=>e.add(t.key)),qs());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Ls(),l=qs();return n.Cs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=ya(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Sa(e.key,t,Ho(t.value.mapValue),ha.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Fs(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.uu[e.currentUser.toKey()];r||(r=new Ki($r)),r=r.insert(t,n),e.uu[e.currentUser.toKey()]=r}(r,e.batchId,n),await ld(r,e.changes),await lu(r.remoteStore)}catch(e){const t=Eu(e,"Failed to persist write");n.reject(t)}}(await _d(e),t,n))),n.promise}(Kd(e),t)}const ef={maxAttempts:5};class tf{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ch(e)}set(e,t,n){this._verifyNotCommitted();const r=nf(e,this._firestore),i=Fh(r.converter,t,n),o=uh(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ha.none())),this}update(e,t,n){this._verifyNotCommitted();const r=nf(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Dt(t))||t instanceof Jd?ph(this._dataReader,"WriteBatch.update",r._key,t,n,s):fh(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,ha.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nf(e,this._firestore);return this._mutations=this._mutations.concat(new _a(t._key,ha.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Rr(kr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nf(e,t){if((e=Dt(e)).firestore!==t)throw new Rr(kr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class rf{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ch(e)}get(e){const t=nf(e,this._firestore),n=new Uh(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return xr(24041);const r=e[0];if(r.isFoundDocument())return new _h(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new _h(this._firestore,n,t._key,null,t.converter);throw xr(18433,{doc:r})}))}set(e,t,n){const r=nf(e,this._firestore),i=Fh(r.converter,t,n),o=uh(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=nf(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Dt(t))||t instanceof Jd?ph(this._dataReader,"Transaction.update",r._key,t,n,s):fh(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=nf(e,this._firestore);return this._transaction.delete(t._key),this}}class of extends rf{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nf(e,this._firestore),n=new Gh(this._firestore);return super.get(e).then((e=>new Hh(this._firestore,n,t._key,e._document,new $h(!1,!1),t.converter)))}}function sf(e,t,n){e=Od(e,Yd);const r=Object.assign(Object.assign({},ef),n);return function(e){if(e.maxAttempts<1)throw new Rr(kr.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Ar;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Dd(e);new yd(e.asyncQueue,i,n,t,r).Nu()})),r.promise}(Kd(e),(n=>t(new of(e,n))),r)}function af(){return new hh("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){vr=e}("11.6.1"),zn(new Tt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Yd(new Mr(e.getProvider("auth-internal")),new zr(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Rr(kr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Hn(pr,gr,e),Hn(pr,gr,"esm2017")}();const lf=function(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn;const t=Mn.get(e);if(!t&&e===Nn&&mt())return $n();if(!t)throw Fn.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||vo,i=Bn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=gt("firestore");e&&Fd(i,...e)}return i}($n({apiKey:"AIzaSyCYzvnN0B92BTXOe5ADkn0Eao0gcqou2-0",authDomain:"ombrelli-e333a.firebaseapp.com",projectId:"ombrelli-e333a",storageBucket:"ombrelli-e333a.firebasestorage.app",messagingSenderId:"579907100870",appId:"1:579907100870:web:babe491cd8d0047767f7c7"})),cf=(e,t)=>{if(!e)return null;try{const n=e.split("-"),r=new Date(parseInt(n[0],10),parseInt(n[1],10)-1,parseInt(n[2],10));r.setDate(r.getDate()+t);const i=r.getFullYear(),o=String(r.getMonth()+1).padStart(2,"0");return`${i}-${o}-${String(r.getDate()).padStart(2,"0")}`}catch(op){return console.error("Erreur dans addDays avec dateStr:",e,op),null}},uf=["A","B","C","D"],df=Array.from({length:36},((e,t)=>(t+1).toString().padStart(2,"0"))),hf=Vd(lf,"reservations"),ff=Wd(lf,"counters","reservationCounter");function pf(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)((()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`})()),[o,s]=(0,i.useState)(!0),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(!1),[g,m]=(0,i.useState)(!1),v=(0,i.useCallback)((async()=>{const e=(new Date).getFullYear().toString().slice(-2);try{let t=1;return await sf(lf,(async e=>{const n=await e.get(ff);if(n.exists()){const r=n.data().lastNumber;"number"!==typeof r||isNaN(r)?(console.warn(`Valeur 'lastNumber' invalide (${r}) dans ${ff.path}. R\xe9initialisation \xe0 0 avant incr\xe9mentation.`),t=1,e.set(ff,{lastNumber:1})):(t=r+1,e.update(ff,{lastNumber:t}))}else t=1,e.set(ff,{lastNumber:1})})),`${e}${t.toString().padStart(5,"0")}`}catch(t){throw console.error("Erreur lors de la g\xe9n\xe9ration du num\xe9ro de s\xe9rie:",t),new Error("Impossible de g\xe9n\xe9rer le num\xe9ro de s\xe9rie.")}}),[]),y=(0,i.useCallback)((async()=>{s(!0);try{const e=Ih(hf),n=(await Qh(e)).docs.map((e=>({id:e.id,...e.data()}))),r=n.map((e=>({...e,startDate:e.startDate||"",endDate:e.endDate||"",cabina:void 0!==e.cabina?e.cabina:null,serialNumber:e.serialNumber||null,condition:e.condition||""})));t(r)}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des r\xe9servations:",e),alert("Erreur lors du chargement des r\xe9servations."),t([])}finally{s(!1)}}),[]);(0,i.useEffect)((()=>{y()}),[y]);const b=(t,r)=>{if(u(t),!Array.isArray(e))return void console.error("ERREUR: allReservations n'est pas un tableau!",e);const i=e.filter((e=>e.cellCode===t&&e.startDate&&e.endDate&&n>=e.startDate&&n<=e.endDate)),o=i.find((e=>"jour entier"===e.condition)),s=i.find((e=>"matin"===e.condition)),a=i.find((e=>"apres-midi"===e.condition));let c=null;c="matin"===r?s||o:"apres-midi"===r?a||o:o||s||a,c||(c={nom:"",prenom:"",numBeds:2,registiPoltrona:"",startDate:n,endDate:n,condition:"matin"===r?"matin":"apres-midi"===r?"apres-midi":"jour entier",serialNumber:null,id:null,cabina:null}),c&&void 0===c.cabina&&(c.cabina=null),c?(h(c),l(!0)):(console.error("ERREUR: dataForModal est null, le modal ne peut pas s'ouvrir."),alert("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es de r\xe9servation."))},w=()=>{l(!1),u(null),h(null)};return(0,We.jsxs)(We.Fragment,{children:[(0,We.jsxs)("div",{className:Ie.controlsHeader,children:[(0,We.jsxs)("div",{className:Ie.dateSelector,children:[(0,We.jsx)("label",{htmlFor:"planDate",children:"BEACH PLAN per il giorno : "}),(0,We.jsx)("input",{type:"date",id:"planDate",value:n,onChange:e=>{r(e.target.value)}})]})," ",(0,We.jsx)("button",{onClick:()=>{m(!0)},className:`${Ie["my-button"]} ${Ie.viewListButton}`,children:"Visualizza/Stampa Lista"})]}),o?(0,We.jsx)("div",{className:Ie.loadingIndicator,children:"Caricamento Beach Plan..."}):Array.isArray(e)?(0,We.jsx)("div",{className:Ie.beach_plan,children:uf.map((t=>(0,We.jsx)("div",{className:Ie.row,children:df.map((r=>{const i=`${t}${r}`,o=e.filter((e=>e.cellCode===i&&e.startDate&&e.endDate&&n>=e.startDate&&n<=e.endDate)),s=o.find((e=>"jour entier"===e.condition)),a=o.find((e=>"matin"===e.condition)),l=o.find((e=>"apres-midi"===e.condition));let c=Ie.colorEmpty,u=Ie.colorEmpty;return s?(c=Ie.colorJourEntier,u=Ie.colorJourEntier):(a&&(c=Ie.colorMatin),l&&(u=Ie.colorApresMidi)),(0,We.jsxs)("div",{className:Ie.cell,title:`Ombrellone ${i}`,children:[(0,We.jsxs)("div",{className:`${Ie.cellHalf} ${c}`,onDoubleClick:()=>b(i,"matin"),children:[i," "]}),(0,We.jsx)("div",{className:`${Ie.cellHalf} ${u}`,onDoubleClick:()=>b(i,"apres-midi")})]},i)}))},t)))}):(0,We.jsx)("div",{className:Ie.errorLoading,children:"Errore: Dati prenotazioni non validi."}),(0,We.jsx)(Ke,{isOpen:a,onClose:w,cellCode:c,reservationData:d,onSave:async n=>{p(!0);const{cellCode:r,modifySingleDay:i,targetDate:o,targetDateCondition:s,id:a,serialNumber:l,...c}=n;if(!r)return alert("Errore interno: Codice ombrellone mancante."),void p(!1);if(i&&o&&s&&a){console.log(`Tentativo di split per ${r} il ${o}`);let n=null,i=null;try{n=await v();const l=e.find((e=>e.id===a));l&&l.endDate>o&&(i=await v());const u=[],d={deleted:!1,endDate:null};await sf(lf,(async e=>{const t=Wd(lf,"reservations",a),l=await e.get(t);if(!l.exists())throw new Error("Prenotazione originale non trovata per lo split.");const h=l.data(),f={...h,...c,startDate:o,endDate:o,condition:s,serialNumber:n,cellCode:r,createdAt:h.createdAt||af(),modifiedAt:af()};delete f.id;const p=Wd(Vd(lf,"reservations"));if(e.set(p,f),u.push({id:p.id,...f}),console.log("Split: Creata prenotazione giorno target",f.serialNumber),h.startDate<o){const n=cf(o,-1);if(!n)throw new Error("Errore calcolo data fine periodo 'avant'.");e.update(t,{endDate:n,modifiedAt:af()}),d.endDate=n,console.log("Split: Aggiornata prenotazione originale (prima)",h.serialNumber,"nuova fine:",n)}else console.log("Split: Giorno target \xe8 startDate originale.");if(h.endDate>o){if(!i)throw new Error("Numero di serie mancante per il periodo 'dopo'.");const t=cf(o,1);if(!t)throw new Error("Errore calcolo data inizio periodo 'apr\xe8s'.");const n={...h,startDate:t,endDate:h.endDate,serialNumber:i,cellCode:r,createdAt:h.createdAt||af(),modifiedAt:af()};delete n.id;const s=Wd(Vd(lf,"reservations"));e.set(s,n),u.push({id:s.id,...n}),console.log("Split: Creata prenotazione periodo dopo",n.serialNumber,"inizio:",t)}else console.log("Split: Giorno target \xe8 endDate originale.");d.endDate?h.endDate<=o&&d.endDate&&console.log("Split: Prenotazione originale modifi\xe9e (avant), pas de p\xe9riode apr\xe8s."):(e.delete(t),d.deleted=!0,console.log("Split: Prenotazione originale eliminata (remplac\xe9e/couverte).",h.serialNumber))})),t((e=>{let t=[...e];return d.deleted?t=t.filter((e=>e.id!==a)):d.endDate&&(t=t.map((e=>e.id===a?{...e,endDate:d.endDate,modifiedAt:new Date}:e))),t=[...t,...u.map((e=>{var t;return{...e,createdAt:null!==(t=e.createdAt)&&void 0!==t&&t.toDate?e.createdAt.toDate():new Date,modifiedAt:new Date}}))],t})),console.log("Split completato con successo."),w()}catch(u){console.error("Errore durante lo split della prenotazione:",u),alert(`Errore durante la modifica del giorno: ${u.message}`)}finally{p(!1)}}else{console.log(`Tentativo di salvataggio normale per ${r}`);let n=!1,i="";if(c.startDate&&c.endDate&&c.startDate<=c.endDate){const t=e.filter((e=>e.id!==a&&e.startDate&&e.endDate&&c.startDate<=e.endDate&&c.endDate>=e.startDate&&(e.cellCode===r||c.cabina&&e.cabina&&c.cabina===e.cabina)));for(const e of t){if(e.cellCode===r&&("jour entier"===c.condition||"jour entier"===e.condition||"matin"===c.condition&&"matin"===e.condition||"apres-midi"===c.condition&&"apres-midi"===e.condition)){n=!0,i=`Conflitto Ombrellone ${r} rilevato (${e.condition}) con N\xb0 ${e.serialNumber||e.id} (${e.startDate} - ${e.endDate}).`;break}if(c.cabina&&e.cabina&&c.cabina===e.cabina){n=!0,i=`Conflitto Cabina ${c.cabina} rilevato con N\xb0 ${e.serialNumber||e.id} (${e.startDate} - ${e.endDate}).`;break}}}else c.startDate>c.endDate&&(n=!0,i="La data di fine non pu\xf2 essere anteriore alla data di inizio.");if(n)return alert(i),void p(!1);try{let e={...c,cellCode:r,modifiedAt:af()};if(a){const n=Wd(lf,"reservations",a);e.serialNumber=l,await Yh(n,e,{merge:!0}),console.log("Prenotazione aggiornata:",a),t((t=>t.map((t=>t.id===a?{...t,...e,modifiedAt:new Date}:t))))}else{const n=await v();e={...e,serialNumber:n,createdAt:af()};const r=await Zh(hf,e);console.log("Nuova prenotazione creata:",r.id,"SN:",n),t((t=>[...t,{id:r.id,...e,createdAt:new Date,modifiedAt:new Date}]))}w()}catch(u){console.error("Errore durante il salvataggio:",u),"Impossible de g\xe9n\xe9rer le num\xe9ro de s\xe9rie."===u.message?alert(`Errore critico: ${u.message} Contattare supporto.`):alert(`Errore durante il salvataggio: ${u.message}`)}finally{p(!1)}}},onDelete:async n=>{if(!n)return void alert("Impossibile eliminare: ID prenotazione mancante.");const r=e.find((e=>e.id===n)),i=r?`Vuoi davvero cancellare la prenotazione per ${r.cellCode} (N\xb0 ${r.serialNumber||"N/A"}) ?`:`Vuoi davvero cancellare questa prenotazione (ID: ${n}) ?`;if(window.confirm(i)){p(!0);try{const e=Wd(lf,"reservations",n);await Xh(e),console.log("Prenotazione eliminata:",n),t((e=>e.filter((e=>e.id!==n)))),w()}catch(o){console.error("Errore durante l'eliminazione:",o),alert(`Errore durante l'eliminazione: ${o.message}`)}finally{p(!1)}}},isSaving:f,selectedDate:n,allReservations:e}),g&&(0,We.jsx)(at,{reservations:e,selectedDate:n,onClose:()=>{m(!1)},rows:uf,columns:df})]})}const gf="Query_queryContainer__B4JwB",mf="Query_titre__cVspJ",vf="Query_queryGridContainer__t+eBy",yf="Query_queryRow__NFXyi",bf="Query_queryCell__e6UsB",wf="Query_formGroup__1qLUC",Sf="Query_searchButton__W0-Ee",Ef="Query_error__SI6W1",Cf="Query_loadingIndicator__X4L2+",xf="Query_resultsContainer__QZLfV",_f="Query_dateRange__0AUdJ",Df="Query_conditionHeader__74m0o",Tf="Query_noResults__VTYrn",kf="Query_resultsList__3fllb",Rf="Query_prenotato__X0pvf",Af="Query_libero__sNULO",If="Query_conditionText__O71ld",Nf="Query_conditionRed__HsLzW",Pf="Query_conditionBlue__ze8JK",Mf="Query_conditionOrange__E+cLc",Of="Query_customerName__6Eo+8",jf="Query_modalOverlay__YoABy",Lf="Query_modalContent__ox5xt",zf="Query_modalError__1GsKg",Bf="Query_modalActions__C43lm",Ff="Query_cancelButton__LLTeL",Uf=["A","B","C","D"],$f=e=>{if(!e)return"N/A";try{const t=e.split(/[-/]/);if(3===t.length){const e=t[0],n=t[1],r=t[2];if(!isNaN(parseInt(r))&&!isNaN(parseInt(n))&&!isNaN(parseInt(e)))return`${r.padStart(2,"0")}/${n.padStart(2,"0")}/${e}`}return e}catch(op){return console.error("Erreur formatage date simple:",op,"pour date:",e),e}},Hf=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)("all"),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(!1),[g,m]=(0,i.useState)(null),[v,y]=(0,i.useState)(null),b=async(e,t,n)=>{l(!1),p(!0),m(null),h(null),y({codeParasol:c,startDate:e,endDate:t,condition:n});try{const r=Ih(Vd(lf,"reservations"),Ph("cellCode","==",c)),i=await Qh(r),o=[];i.forEach((e=>{const t=e.data();let n,r;try{if(n=t.startDate instanceof Yr?t.startDate.toDate():new Date(t.startDate+"T00:00:00Z"),r=t.endDate instanceof Yr?t.endDate.toDate():new Date(t.endDate+"T00:00:00Z"),isNaN(n.getTime())||isNaN(r.getTime()))return void console.warn("Dates invalides dans Firestore:",e.id,t.startDate,t.endDate);o.push({id:e.id,...t,startDate:n,endDate:r})}catch(i){console.error("Erreur conversion date Firestore:",e.id,t,i)}}));const s=((e,t)=>{const n=[];try{const[r,i,o]=e.split("-").map(Number),[s,a,l]=t.split("-").map(Number);let c=new Date(Date.UTC(r,i-1,o));const u=new Date(Date.UTC(s,a-1,l));if(isNaN(c.getTime())||isNaN(u.getTime()))return console.error("Date invalide (NaN):",e,t),[];if(c>u)return console.error("Date d\xe9but apr\xe8s fin:",e,t),[];for(;c<=u;)n.push(c.toISOString().split("T")[0]),c.setUTCDate(c.getUTCDate()+1)}catch(g){return console.error("Erreur getDatesInRange:",g,e,t),[]}return n})(e,t);if(0===s.length&&e&&t)return m("Errore nell'intervallo di date richiesto."),h([]),void p(!1);let a=s.map((e=>{const[t,n,r]=e.split("-").map(Number),i=new Date(Date.UTC(t,n-1,r));let s=!1,a=null;for(const l of o){const e=new Date(Date.UTC(l.startDate.getUTCFullYear(),l.startDate.getUTCMonth(),l.startDate.getUTCDate())),t=new Date(Date.UTC(l.endDate.getUTCFullYear(),l.endDate.getUTCMonth(),l.endDate.getUTCDate()));if(i.getTime()>=e.getTime()&&i.getTime()<=t.getTime()){s=!0,a={firstName:l.prenom||"N/A",lastName:l.nom||"N/A",condition:l.condition||"N/A"};break}}return{date:e,status:s?"Prenotato":"Libero",customer:a}}));"reserved"===n?a=a.filter((e=>"Prenotato"===e.status)):"not_reserved"===n&&(a=a.filter((e=>"Libero"===e.status))),h(a)}catch(r){console.error("Erreur lors de la recherche Firestore:",r),m("Une erreur est survenue lors de la recherche."),h(null)}finally{p(!1)}},w=()=>{switch(null===v||void 0===v?void 0:v.condition){case"reserved":return"Prenotato";case"not_reserved":return"Libero";default:return"Tutti"}},S=()=>{const[a,u]=(0,i.useState)(e),[d,h]=(0,i.useState)(n),[f,p]=(0,i.useState)(o),[g,v]=(0,i.useState)(null);return(0,We.jsx)("div",{className:jf,children:(0,We.jsxs)("div",{className:Lf,children:[(0,We.jsxs)("h2",{children:["Interrogazione per Ombrellone: ",c]}),g&&(0,We.jsx)("p",{className:zf,children:g}),(0,We.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),v(null),!a||!d)return void v("Inserire le due date.");if(!/^\d{4}-\d{2}-\d{2}$/.test(a)||!/^\d{4}-\d{2}-\d{2}$/.test(d))return void v("Formato data non valido (usare YYYY-MM-DD).");const n=new Date(a+"T00:00:00Z"),i=new Date(d+"T00:00:00Z");isNaN(n.getTime())||isNaN(i.getTime())?v("Date non valide."):n>i?v("La data inizio non pu\xf2 essere posteriore alla data fine."):(t(a),r(d),s(f),b(a,d,f))},children:[(0,We.jsxs)("div",{className:wf,children:[(0,We.jsx)("label",{htmlFor:"modalStartDate",children:"Data Inizio:"}),(0,We.jsx)("input",{type:"date",id:"modalStartDate",value:a,onChange:e=>{u(e.target.value),v(null)},required:!0})]}),(0,We.jsxs)("div",{className:wf,children:[(0,We.jsx)("label",{htmlFor:"modalEndDate",children:"Data Fine:"}),(0,We.jsx)("input",{type:"date",id:"modalEndDate",value:d,min:a,onChange:e=>{h(e.target.value),v(null)},required:!0})]}),(0,We.jsxs)("div",{className:wf,children:[(0,We.jsx)("label",{htmlFor:"modalCondition",children:"Mostra Giorni:"}),(0,We.jsxs)("select",{id:"modalCondition",value:f,onChange:e=>{p(e.target.value),v(null)},children:[(0,We.jsx)("option",{value:"all",children:"Tutti (Libero / Prenotato)"}),(0,We.jsx)("option",{value:"reserved",children:"Solo Prenotato"}),(0,We.jsx)("option",{value:"not_reserved",children:"Solo Libero"})]})]}),(0,We.jsxs)("div",{className:Bf,children:[(0,We.jsx)("button",{type:"submit",className:Sf,children:"Cerca"}),(0,We.jsx)("button",{type:"button",onClick:()=>{l(!1),m(null)},className:Ff,children:"Annulla"})]})]})]})})};return(0,We.jsxs)("div",{className:gf,children:[(0,We.jsxs)("div",{className:mf,children:[(0,We.jsx)("h1",{children:"Interrogazione Disponibilit\xe0"}),(0,We.jsx)("p",{children:"Doppio click su un ombrellone per definire il periodo della ricerca."})]}),(0,We.jsx)("div",{className:vf,children:Uf.map((e=>(0,We.jsx)("div",{className:yf,children:Array.from({length:36}).map(((n,i)=>{const o=`${e}${String(i+1).padStart(2,"0")}`;return(0,We.jsx)("div",{className:bf,onDoubleClick:()=>(e=>{console.log("Query Grid: Cell double-clicked:",e),u(e),t(""),r(""),s("all"),m(null),h(null),l(!0)})(o),title:`Interroga Ombrellone ${o}`,children:o},o)}))},e)))}),a&&(0,We.jsx)(S,{}),f&&(0,We.jsx)("div",{className:Cf,children:(0,We.jsx)("p",{children:"Caricamento risultati..."})}),!f&&!a&&g&&(0,We.jsx)("p",{className:Ef,children:g}),!f&&!a&&d&&v&&(0,We.jsxs)("div",{className:xf,children:[(0,We.jsxs)("h2",{children:["Risultati per ",v.codeParasol,(0,We.jsxs)("span",{className:_f,children:[" ","(dal ",$f(v.startDate)," al"," ",$f(v.endDate),")"," "]})]}),"all"!==v.condition&&(0,We.jsxs)("p",{className:Df,children:["Visualizzazione giorni con stato:"," ",(0,We.jsx)("strong",{children:w()})]}),0===d.length?(0,We.jsxs)("p",{className:Tf,children:["Nessuna data corrisponde alla condizione '",w(),"' per l'ombrellone ",v.codeParasol," nel periodo selezionato."]}):(0,We.jsx)("ul",{className:kf,children:d.map(((e,t)=>(0,We.jsxs)("li",{children:[(0,We.jsxs)("div",{children:[$f(e.date)," -"," ","Prenotato"===e.status&&e.customer?(0,We.jsxs)(We.Fragment,{children:[(0,We.jsx)("strong",{className:Rf,children:" Prenotato"}),(0,We.jsxs)("span",{className:`${If} ${"jour entier"===e.customer.condition?Nf:"matin"===e.customer.condition?Pf:"apres-midi"===e.customer.condition?Mf:""}`,children:["(","jour entier"===e.customer.condition?"Giorno Intero":"matin"===e.customer.condition?"Mattina":"apres-midi"===e.customer.condition?"Pomeriggio":e.customer.condition||"N/D",")"]})]}):(0,We.jsx)("strong",{className:Af,children:" Libero"})]}),"Prenotato"===e.status&&e.customer&&(0,We.jsxs)("span",{className:Of,children:[e.customer.firstName," ",e.customer.lastName]})]},t)))})]})]})},Vf="QRCodeReader_QRCodeReaderPage__YP4vq",Wf="QRCodeReader_Titre__WaVm1",qf="QRCodeReader_resultsContainer__OMltp",Gf="QRCodeReader_reservationCard__0Wdal",Qf="QRCodeReader_errorMessage__49akC",Yf=e=>{let{initialCodeFromUrl:t}=e;console.log("QRCodeReader - Prop initialCodeFromUrl re\xe7ue:",t);const[n,r]=(0,i.useState)(t||null),[o,s]=(0,i.useState)([]),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)("");console.log("QRCodeReader - \xc9tat scannedCode (initial ou apr\xe8s set):",n);const d=e=>{if(!e)return"N/A";try{const[t,n,r]=e.split("-");return`${r}/${n}/${t}`}catch(op){return e}},h=e=>{switch(e){case"jour entier":return"Giorno intero";case"matin":return"Mattina";case"apres-midi":return"Pomeriggio";default:return e||"N/D"}},f=e=>{switch(e){case"jour entier":return{color:"red",fontWeight:"bold"};case"matin":return{color:"blue",fontWeight:"bold"};case"apres-midi":return{color:"orange",fontWeight:"bold"};default:return{}}};return(0,i.useEffect)((()=>{t?(console.log("QRCodeReader - useEffect[initialCodeFromUrl] - Mise \xe0 jour de scannedCode avec:",t),r(t)):(console.log("QRCodeReader - useEffect[initialCodeFromUrl] - initialCodeFromUrl est null/undefined, r\xe9initialisation de scannedCode."),r(null),s([]),u(""))}),[t]),(0,i.useEffect)((()=>{(async()=>{if(console.log("QRCodeReader - useEffect[scannedCode] - D\xe9but de fetchReservations. scannedCode actuel:",n),!n)return s([]),void u("");l(!0),u(""),s([]),console.log(`Recherche des r\xe9servations pour le code parasol : ${n}`);try{const e=Vd(lf,"reservations");console.log("QRCodeReader - fetchReservations - Requ\xeate Firestore pour cellCode:",n);const t=Ih(e,Ph("cellCode","==",n),Ph("status","==","active"),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Th("orderBy",e);return Oh._create(n,t)}("startDate")),r=(await Qh(t)).docs.map((e=>({id:e.id,...e.data()})));console.log(`QRCodeReader - fetchReservations - Trouv\xe9 ${r.length} r\xe9servations:`,r),s(r),0===r.length&&u(`Nessuna prenotazione attiva trovata per il parasole ${n}.`)}catch(e){console.error("QRCodeReader - fetchReservations - Errore durante il recupero delle prenotazioni:",e),u("Si \xe8 verificato un errore durante la ricerca delle prenotazioni.")}finally{l(!1)}})()}),[n]),(0,We.jsxs)("div",{className:Vf,children:[(0,We.jsxs)("div",{className:Wf,children:[(0,We.jsx)("h1",{children:"Dettagli Prenotazione Ombrellone"})," "]}),(0,We.jsxs)("div",{style:{border:"1px solid blue",padding:"10px",margin:"10px",backgroundColor:"#e0e0ff"},children:[(0,We.jsx)("p",{children:(0,We.jsx)("strong",{children:"DEBUG QRCodeReader:"})}),(0,We.jsxs)("p",{children:["Prop initialCodeFromUrl:"," ",t?`"${t}"`:"Non fournie"]}),(0,We.jsxs)("p",{children:["\xc9tat scannedCode: ",n?`"${n}"`:"Non d\xe9fini"]}),(0,We.jsxs)("p",{children:["\xc9tat isLoading: ",a?"true":"false"]}),(0,We.jsxs)("p",{children:["\xc9tat error: ",c?`"${c}"`:"Aucune erreur"]}),(0,We.jsxs)("p",{children:["Nombre de r\xe9servations trouv\xe9es: ",o.length]})]}),!n&&!a&&!c&&(0,We.jsxs)("div",{style:{textAlign:"center",marginTop:"20px"},children:[(0,We.jsx)("p",{children:"Scansiona un QR code con lo scanner del tuo smartphone per visualizzare i dettagli della prenotazione."}),(0,We.jsx)("p",{children:'(Assicurati che l\'URL contenga un parametro come "?code=A01")'})]}),n&&(0,We.jsxs)(We.Fragment,{children:[a&&(0,We.jsx)("p",{style:{textAlign:"center",marginTop:"20px"},children:"Ricerca prenotazioni in corso..."}),c&&(0,We.jsx)("p",{className:Qf,children:c}),!a&&!c&&o.length>0&&(0,We.jsxs)("div",{className:qf,children:[(0,We.jsxs)("h2",{children:["Prenotazioni per Parasole ",n,":"]}),o.map((e=>(0,We.jsxs)("div",{className:Gf,children:[(0,We.jsxs)("p",{children:[(0,We.jsx)("strong",{children:"Nome:"})," ",e.nom]}),(0,We.jsxs)("p",{children:[(0,We.jsx)("strong",{children:"Pr\xe9nom:"})," ",e.prenom]}),(0,We.jsxs)("p",{children:[(0,We.jsx)("strong",{children:"Date de d\xe9but:"})," ",d(e.startDate)]}),(0,We.jsxs)("p",{children:[(0,We.jsx)("strong",{children:"Date de fin:"})," ",d(e.endDate)]}),(0,We.jsxs)("p",{children:[(0,We.jsx)("strong",{children:"Condition:"})," ",(0,We.jsx)("span",{style:f(e.condition),children:h(e.condition)})]})]},e.id)))]})]})]})},Kf=()=>(0,We.jsxs)("div",{style:{backgroundColor:"lightyellow",padding:"30px",margin:"20px",border:"2px solid orange",fontSize:"20px",textAlign:"center"},children:[(0,We.jsx)("h1",{children:"Test de Rendu QRCodeHandlerPage"}),(0,We.jsx)("p",{children:"Si vous voyez ceci, QRCodeHandlerPage est bien atteint par le routeur."}),(0,We.jsx)("p",{children:"L'URL devrait \xeatre /ombrelli/qr-scan-resultat?code=VOTRE_CODE"})]});var Xf,Zf,Jf,ep,tp,np,rp,ip,op,sp={},ap=[],lp=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function cp(e,t){for(var n in t)e[n]=t[n];return e}function up(e){var t=e.parentNode;t&&t.removeChild(e)}function dp(e,t,n){var r,i,o,s={};for(o in t)"key"==o?r=t[o]:"ref"==o?i=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?Xf.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===s[o]&&(s[o]=e.defaultProps[o]);return hp(e,s,r,i,null)}function hp(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++Jf:i};return null==i&&null!=Zf.vnode&&Zf.vnode(o),o}function fp(e){return e.children}function pp(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||lp.test(t)?n:n+"px"}function gp(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||pp(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||pp(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?vp:mp,o):e.removeEventListener(t,o?vp:mp,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,n))}}function mp(e){tp=!0;try{return this.l[e.type+!1](Zf.event?Zf.event(e):e)}finally{tp=!1}}function vp(e){tp=!0;try{return this.l[e.type+!0](Zf.event?Zf.event(e):e)}finally{tp=!1}}function yp(e,t){this.props=e,this.context=t}function bp(e,t){if(null==t)return e.__?bp(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?bp(e):null}function wp(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return wp(e)}}function Sp(e){tp?setTimeout(e):ip(e)}function Ep(e){(!e.__d&&(e.__d=!0)&&np.push(e)&&!Cp.__r++||rp!==Zf.debounceRendering)&&((rp=Zf.debounceRendering)||Sp)(Cp)}function Cp(){var e,t,n,r,i,o,s,a;for(np.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=np.shift();)e.__d&&(t=np.length,r=void 0,i=void 0,s=(o=(n=e).__v).__e,(a=n.__P)&&(r=[],(i=cp({},o)).__v=o.__v+1,Rp(a,o,i,n.__n,void 0!==a.ownerSVGElement,null!=o.__h?[s]:null,r,null==s?bp(o):s,o.__h),Ap(r,o),o.__e!=s&&wp(o)),np.length>t&&np.sort((function(e,t){return e.__v.__b-t.__v.__b})));Cp.__r=0}function xp(e,t,n,r,i,o,s,a,l,c){var u,d,h,f,p,g,m,v=r&&r.__k||ap,y=v.length;for(n.__k=[],u=0;u<t.length;u++)if(null!=(f=n.__k[u]=null==(f=t[u])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?hp(null,f,null,null,f):Array.isArray(f)?hp(fp,{children:f},null,null,null):f.__b>0?hp(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)){if(f.__=n,f.__b=n.__b+1,null===(h=v[u])||h&&f.key==h.key&&f.type===h.type)v[u]=void 0;else for(d=0;d<y;d++){if((h=v[d])&&f.key==h.key&&f.type===h.type){v[d]=void 0;break}h=null}Rp(e,f,h=h||sp,i,o,s,a,l,c),p=f.__e,(d=f.ref)&&h.ref!=d&&(m||(m=[]),h.ref&&m.push(h.ref,null,f),m.push(d,f.__c||p,f)),null!=p?(null==g&&(g=p),"function"==typeof f.type&&f.__k===h.__k?f.__d=l=_p(f,l,e):l=Tp(e,f,h,v,p,l),"function"==typeof n.type&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=e&&(l=bp(h))}for(n.__e=g,u=y;u--;)null!=v[u]&&("function"==typeof n.type&&null!=v[u].__e&&v[u].__e==n.__d&&(n.__d=kp(r).nextSibling),Pp(v[u],v[u]));if(m)for(u=0;u<m.length;u++)Np(m[u],m[++u],m[++u])}function _p(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t="function"==typeof r.type?_p(r,t,n):Tp(n,r,r,i,r.__e,t));return t}function Dp(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){Dp(e,t)})):t.push(e)),t}function Tp(e,t,n,r,i,o){var s,a,l;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==n||i!=o||null==i.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(i),s=null;else{for(a=o,l=0;(a=a.nextSibling)&&l<r.length;l+=1)if(a==i)break e;e.insertBefore(i,o),s=o}return void 0!==s?s:i.nextSibling}function kp(e){var t,n,r;if(null==e.type||"string"==typeof e.type)return e.__e;if(e.__k)for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(r=kp(n)))return r;return null}function Rp(e,t,n,r,i,o,s,a,l){var c,u,d,h,f,p,g,m,v,y,b,w,S,E,C,x=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,a=t.__e=n.__e,t.__h=null,o=[a]),(c=Zf.__b)&&c(t);try{e:if("function"==typeof x){if(m=t.props,v=(c=x.contextType)&&r[c.__c],y=c?v?v.props.value:c.__:r,n.__c?g=(u=t.__c=n.__c).__=u.__E:("prototype"in x&&x.prototype.render?t.__c=u=new x(m,y):(t.__c=u=new yp(m,y),u.constructor=x,u.render=Mp),v&&v.sub(u),u.props=m,u.state||(u.state={}),u.context=y,u.__n=r,d=u.__d=!0,u.__h=[],u._sb=[]),null==u.__s&&(u.__s=u.state),null!=x.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=cp({},u.__s)),cp(u.__s,x.getDerivedStateFromProps(m,u.__s))),h=u.props,f=u.state,u.__v=t,d)null==x.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==x.getDerivedStateFromProps&&m!==h&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(m,y),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(m,u.__s,y)||t.__v===n.__v){for(t.__v!==n.__v&&(u.props=m,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),b=0;b<u._sb.length;b++)u.__h.push(u._sb[b]);u._sb=[],u.__h.length&&s.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(m,u.__s,y),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(h,f,p)}))}if(u.context=y,u.props=m,u.__P=e,w=Zf.__r,S=0,"prototype"in x&&x.prototype.render){for(u.state=u.__s,u.__d=!1,w&&w(t),c=u.render(u.props,u.state,u.context),E=0;E<u._sb.length;E++)u.__h.push(u._sb[E]);u._sb=[]}else do{u.__d=!1,w&&w(t),c=u.render(u.props,u.state,u.context),u.state=u.__s}while(u.__d&&++S<25);u.state=u.__s,null!=u.getChildContext&&(r=cp(cp({},r),u.getChildContext())),d||null==u.getSnapshotBeforeUpdate||(p=u.getSnapshotBeforeUpdate(h,f)),C=null!=c&&c.type===fp&&null==c.key?c.props.children:c,xp(e,Array.isArray(C)?C:[C],t,n,r,i,o,s,a,l),u.base=t.__e,t.__h=null,u.__h.length&&s.push(u),g&&(u.__E=u.__=null),u.__e=!1}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Ip(n.__e,t,n,r,i,o,s,l);(c=Zf.diffed)&&c(t)}catch(e){t.__v=null,(l||null!=o)&&(t.__e=a,t.__h=!!l,o[o.indexOf(a)]=null),Zf.__e(e,t,n)}}function Ap(e,t){Zf.__c&&Zf.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Zf.__e(e,t.__v)}}))}function Ip(e,t,n,r,i,o,s,a){var l,c,u,d=n.props,h=t.props,f=t.type,p=0;if("svg"===f&&(i=!0),null!=o)for(;p<o.length;p++)if((l=o[p])&&"setAttribute"in l==!!f&&(f?l.localName===f:3===l.nodeType)){e=l,o[p]=null;break}if(null==e){if(null===f)return document.createTextNode(h);e=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),o=null,a=!1}if(null===f)d===h||a&&e.data===h||(e.data=h);else{if(o=o&&Xf.call(e.childNodes),c=(d=n.props||sp).dangerouslySetInnerHTML,u=h.dangerouslySetInnerHTML,!a){if(null!=o)for(d={},p=0;p<e.attributes.length;p++)d[e.attributes[p].name]=e.attributes[p].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(function(e,t,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in t||gp(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||gp(e,o,t[o],n[o],r)}(e,h,d,i,a),u)t.__k=[];else if(p=t.props.children,xp(e,Array.isArray(p)?p:[p],t,n,r,i&&"foreignObject"!==f,o,s,o?o[0]:n.__k&&bp(n,0),a),null!=o)for(p=o.length;p--;)null!=o[p]&&up(o[p]);a||("value"in h&&void 0!==(p=h.value)&&(p!==e.value||"progress"===f&&!p||"option"===f&&p!==d.value)&&gp(e,"value",p,d.value,!1),"checked"in h&&void 0!==(p=h.checked)&&p!==e.checked&&gp(e,"checked",p,d.checked,!1))}return e}function Np(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){Zf.__e(e,n)}}function Pp(e,t,n){var r,i;if(Zf.unmount&&Zf.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Np(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Zf.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&Pp(r[i],t,n||"function"!=typeof e.type);n||null==e.__e||up(e.__e),e.__=e.__e=e.__d=void 0}function Mp(e,t,n){return this.constructor(e,n)}function Op(e,t,n){var r,i,o;Zf.__&&Zf.__(e,t),i=(r="function"==typeof n)?null:n&&n.__k||t.__k,o=[],Rp(t,e=(!r&&n||t).__k=dp(fp,null,[e]),i||sp,sp,void 0!==t.ownerSVGElement,!r&&n?[n]:i?null:t.firstChild?Xf.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r),Ap(o,e)}function jp(e,t){var n={__c:t="__cC"+op++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,Ep(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}Xf=ap.slice,Zf={__e:function(e,t,n,r){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},Jf=0,ep=function(e){return null!=e&&void 0===e.constructor},tp=!1,yp.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=cp({},this.state),"function"==typeof e&&(e=e(cp({},n),this.props)),e&&cp(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),Ep(this))},yp.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ep(this))},yp.prototype.render=fp,np=[],ip="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Cp.__r=0,op=0;var Lp,zp,Bp,Fp=[],Up=[],$p=Zf.__b,Hp=Zf.__r,Vp=Zf.diffed,Wp=Zf.__c,qp=Zf.unmount;function Gp(){for(var e;e=Fp.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Kp),e.__H.__h.forEach(Xp),e.__H.__h=[]}catch(np){e.__H.__h=[],Zf.__e(np,e.__v)}}Zf.__b=function(e){Lp=null,$p&&$p(e)},Zf.__r=function(e){Hp&&Hp(e);var t=(Lp=e.__c).__H;t&&(zp===Lp?(t.__h=[],Lp.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=Up,e.__N=e.i=void 0}))):(t.__h.forEach(Kp),t.__h.forEach(Xp),t.__h=[])),zp=Lp},Zf.diffed=function(e){Vp&&Vp(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Fp.push(t)&&Bp===Zf.requestAnimationFrame||((Bp=Zf.requestAnimationFrame)||Yp)(Gp)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==Up&&(e.__=e.__V),e.i=void 0,e.__V=Up}))),zp=Lp=null},Zf.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Kp),e.__h=e.__h.filter((function(e){return!e.__||Xp(e)}))}catch(Jf){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Zf.__e(Jf,e.__v)}})),Wp&&Wp(e,t)},Zf.unmount=function(e){qp&&qp(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{Kp(e)}catch(e){t=e}})),n.__H=void 0,t&&Zf.__e(t,n.__v))};var Qp="function"==typeof requestAnimationFrame;function Yp(e){var t,n=function(){clearTimeout(r),Qp&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Qp&&(t=requestAnimationFrame(n))}function Kp(e){var t=Lp,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Lp=t}function Xp(e){var t=Lp;e.__c=e.__(),Lp=t}function Zp(e,t){for(var n in t)e[n]=t[n];return e}function Jp(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function eg(e){this.props=e}(eg.prototype=new yp).isPureReactComponent=!0,eg.prototype.shouldComponentUpdate=function(e,t){return Jp(this.props,e)||Jp(this.state,t)};var tg=Zf.__b;Zf.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),tg&&tg(e)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var ng=Zf.__e;Zf.__e=function(e,t,n,r){if(e.then)for(var i,o=t;o=o.__;)if((i=o.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);ng(e,t,n,r)};var rg=Zf.unmount;function ig(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=Zp({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return ig(e,t,n)}))),e}function og(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return og(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function sg(){this.__u=0,this.t=null,this.__b=null}function ag(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function lg(){this.u=null,this.o=null}Zf.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),rg&&rg(e)},(sg.prototype=new yp).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=ag(r.__v),o=!1,s=function(){o||(o=!0,n.__R=null,i?i(a):a())};n.__R=s;var a=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=og(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(s,s)},sg.prototype.componentWillUnmount=function(){this.t=[]},sg.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=ig(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&dp(fp,null,e.fallback);return i&&(i.__h=null),[dp(fp,null,t.__a?null:e.children),i]};var cg=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function ug(e){return this.getChildContext=function(){return e.context},e.children}function dg(e){var t=this,n=e.i;t.componentWillUnmount=function(){Op(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),Op(dp(ug,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function hg(e,t){var n=dp(dg,{__v:e,i:t});return n.containerInfo=t,n}(lg.prototype=new yp).__a=function(e){var t=this,n=ag(t.__v),r=t.o.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),cg(t,e,r)):i()};n?n(o):o()}},lg.prototype.render=function(e){this.u=null,this.o=new Map;var t=Dp(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},lg.prototype.componentDidUpdate=lg.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){cg(e,n,t)}))};var fg="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,pg=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,gg="undefined"!=typeof document,mg=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};yp.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(yp.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var vg=Zf.event;function yg(){}function bg(){return this.cancelBubble}function wg(){return this.defaultPrevented}Zf.event=function(e){return vg&&(e=vg(e)),e.persist=yg,e.isPropagationStopped=bg,e.isDefaultPrevented=wg,e.nativeEvent=e};var Sg={configurable:!0,get:function(){return this.class}},Eg=Zf.vnode;Zf.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var i=-1===t.indexOf("-");for(var o in r={},n){var s=n[o];gg&&"children"===o&&"noscript"===t||"value"===o&&"defaultValue"in n&&null==s||("defaultValue"===o&&"value"in n&&null==n.value?o="value":"download"===o&&!0===s?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!mg(n.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():i&&pg.test(o)?o=o.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===s&&(s=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),r[o]&&(o="oninputCapture")),r[o]=s)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=Dp(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=Dp(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r,n.class!=n.className&&(Sg.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",Sg))}e.$$typeof=fg,Eg&&Eg(e)};var Cg=Zf.__r;Zf.__r=function(e){Cg&&Cg(e),e.__c};const xg=[],_g=new Map;function Dg(e){xg.push(e),_g.forEach((t=>{kg(t,e)}))}function Tg(e){let t=_g.get(e);if(!t||!t.isConnected){if(t=e.querySelector("style[data-fullcalendar]"),!t){t=document.createElement("style"),t.setAttribute("data-fullcalendar","");const n=function(){void 0===Rg&&(Rg=function(){const e=document.querySelector('meta[name="csp-nonce"]');if(e&&e.hasAttribute("content"))return e.getAttribute("content");const t=document.querySelector("script[nonce]");if(t)return t.nonce||"";return""}());return Rg}();n&&(t.nonce=n);const r=e===document?document.head:e,i=e===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(t,i)}_g.set(e,t),function(e){for(const t of xg)kg(e,t)}(t)}}function kg(e,t){const{sheet:n}=e,r=n.cssRules.length;t.split("}").forEach(((e,t)=>{(e=e.trim())&&n.insertRule(e+"}",r+t)}))}let Rg;"undefined"!==typeof document&&Tg(document);Dg(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');class Ag{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==e?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,{pauseDepths:n}=this;if(e in n){if(t)delete n[e];else{n[e]-=1,n[e]<=0&&delete n[e]}this.tryDrain()}}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Ig(e){e.parentNode&&e.parentNode.removeChild(e)}function Ng(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(Pg(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}function Pg(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}function Mg(e,t){let n=e instanceof HTMLElement?[e]:e,r=[];for(let i=0;i<n.length;i+=1){let e=n[i].querySelectorAll(t);for(let t=0;t<e.length;t+=1)r.push(e[t])}return r}const Og=/(top|left|right|bottom|width|height)$/i;function jg(e,t){for(let n in t)Lg(e,n,t[n])}function Lg(e,t,n){null==n?e.style[t]="":"number"===typeof n&&Og.test(t)?e.style[t]=`${n}px`:e.style[t]=n}function zg(e){var t,n;return null!==(n=null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])&&void 0!==n?n:e.target}let Bg=0;function Fg(){return Bg+=1,"fc-dom-"+Bg}function Ug(e){e.preventDefault()}function $g(e,t,n,r){let i=function(e,t){return n=>{let r=Ng(n.target,e);r&&t.call(r,n,r)}}(n,r);return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}const Hg=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Vg(e){return Object.assign({onClick:e},Wg(e))}function Wg(e){return{tabIndex:0,onKeyDown(t){"Enter"!==t.key&&" "!==t.key||(e(t),t.preventDefault())}}}let qg=0;function Gg(){return qg+=1,String(qg)}function Qg(){document.body.classList.add("fc-not-allowed")}function Yg(){document.body.classList.remove("fc-not-allowed")}function Kg(e){let t,n,r=[],i=[];for("string"===typeof e?i=e.split(/\s*,\s*/):"function"===typeof e?i=[e]:Array.isArray(e)&&(i=e),t=0;t<i.length;t+=1)n=i[t],"string"===typeof n?r.push("-"===n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"===typeof n&&r.push({func:n});return r}function Xg(e,t,n){let r,i;for(r=0;r<n.length;r+=1)if(i=Zg(e,t,n[r]),i)return i;return 0}function Zg(e,t,n){return n.func?n.func(e,t):Jg(e[n.field],t[n.field])*(n.order||1)}function Jg(e,t){return e||t?null==t?-1:null==e?1:"string"===typeof e||"string"===typeof t?String(e).localeCompare(String(t)):e-t:0}function em(e,t){let n=String(e);return"000".substr(0,t-n.length)+n}function tm(e,t,n){return"function"===typeof e?e(...t):"string"===typeof e?t.reduce(((e,t,n)=>e.replace("$"+n,t||"")),e):n}function nm(e,t){return e-t}function rm(e){return e%1===0}function im(e){let t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}const om=["years","months","days","milliseconds"],sm=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function am(e,t){return"string"===typeof e?function(e){let t=sm.exec(e);if(t){let e=t[1]?-1:1;return{years:0,months:0,days:e*(t[2]?parseInt(t[2],10):0),milliseconds:e*(60*(t[3]?parseInt(t[3],10):0)*60*1e3+60*(t[4]?parseInt(t[4],10):0)*1e3+1e3*(t[5]?parseInt(t[5],10):0)+(t[6]?parseInt(t[6],10):0))}}return null}(e):"object"===typeof e&&e?lm(e):"number"===typeof e?lm({[t||"milliseconds"]:e}):null}function lm(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:60*(e.hours||e.hour||0)*60*1e3+60*(e.minutes||e.minute||0)*1e3+1e3*(e.seconds||e.second||0)+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=7*n,t.specifiedWeeks=!0),t}function cm(e){return e.years||e.months||e.milliseconds?0:e.days}function um(e){return dm(e)/864e5}function dm(e){return 31536e6*e.years+2592e6*e.months+864e5*e.days+e.milliseconds}function hm(e,t){let n=null;for(let r=0;r<om.length;r+=1){let i=om[r];if(t[i]){let r=e[i]/t[i];if(!rm(r)||null!==n&&n!==r)return null;n=r}else if(e[i])return null}return n}function fm(e){let t=e.milliseconds;if(t){if(t%1e3!==0)return{unit:"millisecond",value:t};if(t%6e4!==0)return{unit:"second",value:t/1e3};if(t%36e5!==0)return{unit:"minute",value:t/6e4};if(t)return{unit:"hour",value:t/36e5}}return e.days?e.specifiedWeeks&&e.days%7===0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function pm(e,t,n){if(e===t)return!0;let r,i=e.length;if(i!==t.length)return!1;for(r=0;r<i;r+=1)if(!(n?n(e[r],t[r]):e[r]===t[r]))return!1;return!0}const gm=["sun","mon","tue","wed","thu","fri","sat"];function mm(e,t){let n=Dm(e);return n[2]+=7*t,Tm(n)}function vm(e,t){let n=Dm(e);return n[2]+=t,Tm(n)}function ym(e,t){let n=Dm(e);return n[6]+=t,Tm(n)}function bm(e,t){return(t.valueOf()-e.valueOf())/864e5}function wm(e,t){return Rm(e)===Rm(t)?Math.round(bm(e,t)):null}function Sm(e){return Tm([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function Em(e,t,n,r){let i=Tm([t,0,1+Cm(t,n,r)]),o=Sm(e),s=Math.round(bm(i,o));return Math.floor(s/7)+1}function Cm(e,t,n){let r=7+t-n;return-((7+Tm([e,0,r]).getUTCDay()-t)%7)+r-1}function xm(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function _m(e){return new Date(e[0],e[1]||0,null==e[2]?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function Dm(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function Tm(e){return 1===e.length&&(e=e.concat([0])),new Date(Date.UTC(...e))}function km(e){return!isNaN(e.valueOf())}function Rm(e){return 1e3*e.getUTCHours()*60*60+1e3*e.getUTCMinutes()*60+1e3*e.getUTCSeconds()+e.getUTCMilliseconds()}function Am(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(null==t?r=r.replace("Z",""):0!==t&&(r=r.replace("Z",Nm(t,!0)))),r}function Im(e){return e.toISOString().replace(/T.*$/,"")}function Nm(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e<0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=Math.round(r%60);return t?`${n+em(i,2)}:${em(o,2)}`:`GMT${n}${i}${o?`:${em(o,2)}`:""}`}function Pm(e,t,n){let r,i;return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];if(r){if(!pm(r,s)){n&&n(i);let r=e.apply(this,s);t&&t(r,i)||(i=r)}}else i=e.apply(this,s);return r=s,i}}function Mm(e,t,n){let r,i;return o=>{if(r){if(!pv(r,o)){n&&n(i);let r=e.call(this,o);t&&t(r,i)||(i=r)}}else i=e.call(this,o);return r=o,i}}function Om(e,t,n){let r=[],i=[];return o=>{let s=r.length,a=o.length,l=0;for(;l<s;l+=1)if(o[l]){if(!pm(r[l],o[l])){n&&n(i[l]);let r=e.apply(this,o[l]);t&&t(r,i[l])||(i[l]=r)}}else n&&n(i[l]);for(;l<a;l+=1)i[l]=e.apply(this,o[l]);return r=o,i.splice(a),i}}function jm(e,t,n){let r={},i={};return o=>{let s={};for(let a in o)if(i[a])if(pm(r[a],o[a]))s[a]=i[a];else{n&&n(i[a]);let r=e.apply(this,o[a]);s[a]=t&&t(r,i[a])?i[a]:r}else s[a]=e.apply(this,o[a]);return r=o,i=s,s}}const Lm={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},zm={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Bm=/\s*([ap])\.?m\.?/i,Fm=/,/g,Um=/\s+/g,$m=/\u200e/g,Hm=/UTC|GMT/;class Vm{constructor(e){let t={},n={},r=9;for(let i in e)if(i in Lm){n[i]=e[i];Lm[i]<9&&(r=Math.min(Lm[i],r))}else t[i]=e[i],i in zm&&(r=Math.min(zm[i],r));this.standardDateProps=t,this.extendedSettings=n,this.smallestUnitNum=r,this.buildFormattingFunc=Pm(Wm)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,n,r){let{standardDateProps:i,extendedSettings:o}=this,s=function(e,t,n){if(n.getMarkerYear(e)!==n.getMarkerYear(t))return 5;if(n.getMarkerMonth(e)!==n.getMarkerMonth(t))return 4;if(n.getMarkerDay(e)!==n.getMarkerDay(t))return 2;if(Rm(e)!==Rm(t))return 1;return 0}(e.marker,t.marker,n.calendarSystem);if(!s)return this.format(e,n);let a=s;!(a>1)||"numeric"!==i.year&&"2-digit"!==i.year||"numeric"!==i.month&&"2-digit"!==i.month||"numeric"!==i.day&&"2-digit"!==i.day||(a=1);let l=this.format(e,n),c=this.format(t,n);if(l===c)return l;let u=Wm(function(e,t){let n={};for(let r in e)(!(r in zm)||zm[r]<=t)&&(n[r]=e[r]);return n}(i,a),o,n),d=u(e),h=u(t),f=function(e,t,n,r){let i=0;for(;i<e.length;){let o=e.indexOf(t,i);if(-1===o)break;let s=e.substr(0,o);i=o+t.length;let a=e.substr(i),l=0;for(;l<n.length;){let e=n.indexOf(r,l);if(-1===e)break;let t=n.substr(0,e);l=e+r.length;let i=n.substr(l);if(s===t&&a===i)return{before:s,after:a}}}return null}(l,d,c,h),p=o.separator||r||n.defaultSeparator||"";return f?f.before+d+p+h+f.after:l+p+c}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Wm(e,t,n){let r=Object.keys(e).length;return 1===r&&"short"===e.timeZoneName?e=>Nm(e.timeZoneOffset):0===r&&t.week?e=>function(e,t,n,r,i){let o=[];"long"===i?o.push(n):"short"!==i&&"narrow"!==i||o.push(t);"long"!==i&&"short"!==i||o.push(" ");o.push(r.simpleNumberFormat.format(e)),"rtl"===r.options.direction&&o.reverse();return o.join("")}(n.computeWeekNumber(e.marker),n.weekText,n.weekTextLong,n.locale,t.week):function(e,t,n){e=Object.assign({},e),t=Object.assign({},t),function(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit"));"long"===e.timeZoneName&&(e.timeZoneName="short");t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}(e,t),e.timeZone="UTC";let r,i=new Intl.DateTimeFormat(n.locale.codes,e);if(t.omitZeroMinute){let t=Object.assign({},e);delete t.minute,r=new Intl.DateTimeFormat(n.locale.codes,t)}return o=>{let s,{marker:a}=o;return s=r&&!a.getUTCMinutes()?r:i,function(e,t,n,r,i){e=e.replace($m,""),"short"===n.timeZoneName&&(e=function(e,t){let n=!1;e=e.replace(Hm,(()=>(n=!0,t))),n||(e+=` ${t}`);return e}(e,"UTC"===i.timeZone||null==t.timeZoneOffset?"UTC":Nm(t.timeZoneOffset)));r.omitCommas&&(e=e.replace(Fm,"").trim());r.omitZeroMinute&&(e=e.replace(":00",""));!1===r.meridiem?e=e.replace(Bm,"").trim():"narrow"===r.meridiem?e=e.replace(Bm,((e,t)=>t.toLocaleLowerCase())):"short"===r.meridiem?e=e.replace(Bm,((e,t)=>`${t.toLocaleLowerCase()}m`)):"lowercase"===r.meridiem&&(e=e.replace(Bm,(e=>e.toLocaleLowerCase())));return e=e.replace(Um," "),e=e.trim(),e}(s.format(a),o,e,t,n)}}(e,t,n)}function qm(e,t){let n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Gm(e,t,n,r){let i=qm(e,n.calendarSystem);return{date:i,start:i,end:t?qm(t,n.calendarSystem):null,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class Qm{constructor(e){this.cmdStr=e}format(e,t,n){return t.cmdFormatter(this.cmdStr,Gm(e,null,t,n))}formatRange(e,t,n,r){return n.cmdFormatter(this.cmdStr,Gm(e,t,n,r))}}class Ym{constructor(e){this.func=e}format(e,t,n){return this.func(Gm(e,null,t,n))}formatRange(e,t,n,r){return this.func(Gm(e,t,n,r))}}function Km(e){return"object"===typeof e&&e?new Vm(e):"string"===typeof e?new Qm(e):"function"===typeof e?new Ym(e):null}const Xm={navLinkDayClick:av,navLinkWeekClick:av,duration:am,bootstrapFontAwesome:av,buttonIcons:av,customButtons:av,defaultAllDayEventDuration:am,defaultTimedEventDuration:am,nextDayThreshold:am,scrollTime:am,scrollTimeReset:Boolean,slotMinTime:am,slotMaxTime:am,dayPopoverFormat:Km,slotDuration:am,snapDuration:am,headerToolbar:av,footerToolbar:av,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Km,dayHeaderClassNames:av,dayHeaderContent:av,dayHeaderDidMount:av,dayHeaderWillUnmount:av,dayCellClassNames:av,dayCellContent:av,dayCellDidMount:av,dayCellWillUnmount:av,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:av,weekNumbers:Boolean,weekNumberClassNames:av,weekNumberContent:av,weekNumberDidMount:av,weekNumberWillUnmount:av,editable:Boolean,viewClassNames:av,viewDidMount:av,viewWillUnmount:av,nowIndicator:Boolean,nowIndicatorClassNames:av,nowIndicatorContent:av,nowIndicatorDidMount:av,nowIndicatorWillUnmount:av,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:av,locale:av,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:av,eventOrder:Kg,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:av,contentHeight:av,direction:String,weekNumberFormat:Km,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:av,initialDate:av,now:av,eventDataTransform:av,stickyHeaderDates:av,stickyFooterScrollbar:av,viewHeight:av,defaultAllDay:Boolean,eventSourceFailure:av,eventSourceSuccess:av,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:av,eventConstraint:av,eventAllow:av,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:av,eventContent:av,eventDidMount:av,eventWillUnmount:av,selectConstraint:av,selectOverlap:av,selectAllow:av,droppable:Boolean,unselectCancel:String,slotLabelFormat:av,slotLaneClassNames:av,slotLaneContent:av,slotLaneDidMount:av,slotLaneWillUnmount:av,slotLabelClassNames:av,slotLabelContent:av,slotLabelDidMount:av,slotLabelWillUnmount:av,dayMaxEvents:av,dayMaxEventRows:av,dayMinWidth:Number,slotLabelInterval:am,allDayText:String,allDayClassNames:av,allDayContent:av,allDayDidMount:av,allDayWillUnmount:av,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Km,rerenderDelay:Number,moreLinkText:av,moreLinkHint:av,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:av,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:am,hiddenDays:av,fixedWeekCount:Boolean,validRange:av,visibleRange:av,titleFormat:av,eventInteractive:Boolean,noEventsText:String,viewHint:av,navLinkHint:av,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:av,moreLinkClassNames:av,moreLinkContent:av,moreLinkDidMount:av,moreLinkWillUnmount:av,monthStartFormat:Km,handleCustomRendering:av,customRenderingMetaMap:av,customRenderingReplaces:Boolean},Zm={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},Jm={datesSet:av,eventsSet:av,eventAdd:av,eventChange:av,eventRemove:av,windowResize:av,eventClick:av,eventMouseEnter:av,eventMouseLeave:av,select:av,unselect:av,loading:av,_unmount:av,_beforeprint:av,_afterprint:av,_noEventDrop:av,_noEventResize:av,_resize:av,_scrollRequest:av},ev={buttonText:av,buttonHints:av,views:av,plugins:av,initialEvents:av,events:av,eventSources:av},tv={headerToolbar:nv,footerToolbar:nv,buttonText:nv,buttonHints:nv,buttonIcons:nv,dateIncrement:nv,plugins:rv,events:rv,eventSources:rv,resources:rv};function nv(e,t){return"object"===typeof e&&"object"===typeof t&&e&&t?pv(e,t):e===t}function rv(e,t){return Array.isArray(e)&&Array.isArray(t)?pm(e,t):e===t}const iv={type:String,component:av,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:av,usesMinMaxTime:Boolean,classNames:av,content:av,didMount:av,willUnmount:av};function ov(e){return cv(e,tv)}function sv(e,t){let n={},r={};for(let i in t)i in e&&(n[i]=t[i](e[i]));for(let i in e)i in t||(r[i]=e[i]);return{refined:n,extra:r}}function av(e){return e}const{hasOwnProperty:lv}=Object.prototype;function cv(e,t){let n={};if(t)for(let r in t)if(t[r]===nv){let t=[];for(let i=e.length-1;i>=0;i-=1){let o=e[i][r];if("object"===typeof o&&o)t.unshift(o);else if(void 0!==o){n[r]=o;break}}t.length&&(n[r]=cv(t))}for(let r=e.length-1;r>=0;r-=1){let t=e[r];for(let e in t)e in n||(n[e]=t[e])}return n}function uv(e,t){let n={};for(let r in e)t(e[r],r)&&(n[r]=e[r]);return n}function dv(e,t){let n={};for(let r in e)n[r]=t(e[r],r);return n}function hv(e){let t={};for(let n of e)t[n]=!0;return t}function fv(e){let t=[];for(let n in e)t.push(e[n]);return t}function pv(e,t){if(e===t)return!0;for(let n in e)if(lv.call(e,n)&&!(n in t))return!1;for(let n in t)if(lv.call(t,n)&&e[n]!==t[n])return!1;return!0}const gv=/^on[A-Z]/;function mv(e,t){let n=[];for(let r in e)lv.call(e,r)&&(r in t||n.push(r));for(let r in t)lv.call(t,r)&&e[r]!==t[r]&&n.push(r);return n}function vv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;for(let r in t)if(!(r in e)||!yv(e[r],t[r],n[r]))return!1;for(let r in e)if(!(r in t))return!1;return!0}function yv(e,t,n){return e===t||!0===n||!!n&&n(e,t)}function bv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=[];null==n&&(n=Object.keys(e).length);for(let o=t;o<n;o+=r){let t=e[o];void 0!==t&&i.push(t)}return i}let wv={};var Sv,Ev;Sv="gregory",Ev=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Tm(e)}markerToArray(e){return Dm(e)}},wv[Sv]=Ev;const Cv=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class xv{constructor(e){let t=this.timeZone=e.timeZone,n="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!n||this.namedTimeZoneImpl),this.calendarSystem=function(e){return new wv[e]}(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"===typeof e.firstDay&&(this.weekDow=e.firstDay),"function"===typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=null!=e.weekText?e.weekText:e.locale.options.weekText,this.weekTextLong=(null!=e.weekTextLong?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return null===t?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):Tm(xm(new Date))}createMarkerMeta(e){if("string"===typeof e)return this.parse(e);let t=null;return"number"===typeof e?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Tm(e)),null!==t&&km(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(e){let t=function(e){let t=Cv.exec(e);if(t){let e=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number(`0.${t[12]}`):0));if(km(e)){let n=null;return t[13]&&(n=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:e,isTimeUnspecified:!t[6],timeZoneOffset:n}}}return null}(e);if(null===t)return null;let{marker:n}=t,r=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-60*t.timeZoneOffset*1e3):r=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)}addMonths(e,t){let n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,t){let{calendarSystem:n}=this;return Rm(e)===Rm(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:n}=this;return Rm(e)===Rm(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+12*(n.getMarkerYear(t)-n.getMarkerYear(e)):null}greatestWholeUnit(e,t){let n=this.diffWholeYears(e,t);return null!==n?{unit:"year",value:n}:(n=this.diffWholeMonths(e,t),null!==n?{unit:"month",value:n}:(n=function(e,t){let n=wm(e,t);return null!==n&&n%7===0?n/7:null}(e,t),null!==n?{unit:"week",value:n}:(n=wm(e,t),null!==n?{unit:"day",value:n}:(n=function(e,t){return(t.valueOf()-e.valueOf())/36e5}(e,t),rm(n)?{unit:"hour",value:n}:(n=function(e,t){return(t.valueOf()-e.valueOf())/6e4}(e,t),rm(n)?{unit:"minute",value:n}:(n=function(e,t){return(t.valueOf()-e.valueOf())/1e3}(e,t),rm(n)?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,n){let r;return n.years&&(r=this.diffWholeYears(e,t),null!==r)?r/(um(n)/365):n.months&&(r=this.diffWholeMonths(e,t),null!==r)?r/function(e){return um(e)/30}(n):n.days&&(r=wm(e,t),null!==r)?r/um(n):(t.valueOf()-e.valueOf())/dm(n)}startOf(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?Sm(e):"hour"===t?function(e){return Tm([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}(e):"minute"===t?function(e){return Tm([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}(e):"second"===t?function(e){return Tm([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):function(e,t,n){let r=e.getUTCFullYear(),i=Em(e,r,t,n);if(i<1)return Em(e,r-1,t,n);let o=Em(e,r+1,t,n);return o>=1?Math.min(i,o):i}(e,this.weekDow,this.weekDoy)}format(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.format({marker:e,timeZoneOffset:null!=n.forcedTzo?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return r.isEndExclusive&&(t=ym(t,-1)),n.formatRange({marker:e,timeZoneOffset:null!=r.forcedStartTzo?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=r.forcedEndTzo?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;return t.omitTimeZoneOffset||(n=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(e)),Am(e,n,t.omitTime)}timestampToMarker(e){return"local"===this.timeZone?Tm(xm(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?Tm(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)}offsetForMarker(e){return"local"===this.timeZone?-_m(Dm(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Dm(e)):null}toDate(e,t){return"local"===this.timeZone?_m(Dm(e)):"UTC"===this.timeZone?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(Dm(e))*60):new Date(e.valueOf()-(t||0))}}class _v{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,n;if("object"===typeof e&&e){for(n in t=Object.assign({},this.iconClasses),e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else!1===e&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&0!==e.indexOf(t)&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let n;return n=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}function Dv(e){e();let t=Zf.debounceRendering,n=[];for(Zf.debounceRendering=function(e){n.push(e)},Op(dp(Tv,{}),document.createElement("div"));n.length;)n.shift()();Zf.debounceRendering=t}_v.prototype.classes={},_v.prototype.iconClasses={},_v.prototype.baseIconClass="",_v.prototype.iconOverridePrefix="";class Tv extends yp{render(){return dp("div",{})}componentDidMount(){this.setState({})}}function kv(e){let t=jp(e),n=t.Provider;return t.Provider=function(){let e=!this.getChildContext,t=n.apply(this,arguments);if(e){let e=[];this.shouldComponentUpdate=t=>{this.props.value!==t.value&&e.forEach((e=>{e.context=t.value,e.forceUpdate()}))},this.sub=t=>{e.push(t);let n=t.componentWillUnmount;t.componentWillUnmount=()=>{e.splice(e.indexOf(t),1),n&&n.call(t)}}}return t},t}class Rv{constructor(e,t,n,r){this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=r,this.handleScrollRequest=e=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},e),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Av=kv({});function Iv(e,t,n,r,i,o,s,a,l,c,u,d,h,f){return{dateEnv:i,nowManager:o,options:n,pluginHooks:a,emitter:u,dispatch:l,getCurrentData:c,calendarApi:d,viewSpec:e,viewApi:t,dateProfileGenerator:r,theme:s,isRtl:"rtl"===n.direction,addResizeHandler(e){u.on("_resize",e)},removeResizeHandler(e){u.off("_resize",e)},createScrollResponder:e=>new Rv(e,u,am(n.scrollTime),n.scrollTimeReset),registerInteractiveComponent:h,unregisterInteractiveComponent:f}}class Nv extends yp{shouldComponentUpdate(e,t){return this.debug&&console.log(mv(e,this.props),mv(t,this.state)),!vv(this.props,e,this.propEquality)||!vv(this.state,t,this.stateEquality)}safeSetState(e){vv(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Nv.addPropsEquality=function(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t},Nv.addStateEquality=function(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t},Nv.contextType=Av,Nv.prototype.propEquality={},Nv.prototype.stateEquality={};class Pv extends Nv{}function Mv(e,t){"function"===typeof e?e(t):e&&(e.current=t)}Pv.contextType=Av;class Ov extends Pv{constructor(){super(...arguments),this.id=Gg(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:n}=this.props;t.customRenderingReplaces&&jv(n,t)||this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Mv(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:n}=t,{customGenerator:r,defaultGenerator:i,renderProps:o}=e,s=Lv(e,[],this.handleEl);let a,l,c=!1,u=[];if(null!=r){const e="function"===typeof r?r(o,dp):r;if(!0===e)c=!0;else{const t=e&&"object"===typeof e;t&&"html"in e?s.dangerouslySetInnerHTML={__html:e.html}:t&&"domNodes"in e?u=Array.prototype.slice.call(e.domNodes):(t?ep(e):"function"!==typeof e)?a=e:l=e}}else c=!jv(e.generatorName,n);return c&&i&&(a=i(o)),this.queuedDomNodes=u,this.currentGeneratorMeta=l,dp(e.elTag,s,a)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:n,context:r}=this,{handleCustomRendering:i,customRenderingMetaMap:o}=r.options;if(i){const r=null!==(t=this.currentGeneratorMeta)&&void 0!==t?t:null===o||void 0===o?void 0:o[n.generatorName];r&&i(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:r},n),{elClasses:(n.elClasses||[]).filter(zv)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,n=this.base;if(!pm(e,t)){t.forEach(Ig);for(let t of e)n.appendChild(t);this.currentDomNodes=e}}}function jv(e,t){var n;return Boolean(t.handleCustomRendering&&e&&(null===(n=t.customRenderingMetaMap)||void 0===n?void 0:n[e]))}function Lv(e,t,n){const r=Object.assign(Object.assign({},e.elAttrs),{ref:n});return(e.elClasses||t)&&(r.className=(e.elClasses||[]).concat(t||[]).concat(r.className||[]).filter(Boolean).join(" ")),e.elStyle&&(r.style=e.elStyle),r}function zv(e){return Boolean(e)}Ov.addPropsEquality({elClasses:pm,elStyle:pv,elAttrs:function(e,t){const n=mv(e,t);for(let r of n)if(!gv.test(r))return!1;return!0},renderProps:pv});const Bv=kv(0);class Fv extends yp{constructor(){super(...arguments),this.InnerContent=Uv.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Mv(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=function(e,t){const n="function"===typeof e?e(t):e||[];return"string"===typeof n?[n]:n}(e.classNameGenerator,e.renderProps);if(e.children){const n=Lv(e,t,this.handleEl),r=e.children(this.InnerContent,e.renderProps,n);return e.elTag?dp(e.elTag,n,r):r}return dp(Ov,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?null===(t=(e=this.props).didMount)||void 0===t||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;null===(t=(e=this.props).willUnmount)||void 0===t||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}function Uv(e,t){const n=e.props;return dp(Ov,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:e.context},t))}Fv.contextType=Bv;class $v extends Pv{render(){let{props:e,context:t}=this,{options:n}=t,r={view:t.viewApi};return dp(Fv,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...Hv(e.viewSpec),...e.elClasses||[]],renderProps:r,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount}),(()=>e.children))}}function Hv(e){return[`fc-${e.type}-view`,"fc-view"]}function Vv(e,t){let n,r,i=[],{start:o}=t;for(e.sort(Wv),n=0;n<e.length;n+=1)r=e[n],r.start>o&&i.push({start:o,end:r.start}),r.end>o&&(o=r.end);return o<t.end&&i.push({start:o,end:t.end}),i}function Wv(e,t){return e.start.valueOf()-t.start.valueOf()}function qv(e,t){let{start:n,end:r}=e,i=null;return null!==t.start&&(n=null===n?t.start:new Date(Math.max(n.valueOf(),t.start.valueOf()))),null!=t.end&&(r=null===r?t.end:new Date(Math.min(r.valueOf(),t.end.valueOf()))),(null===n||null===r||n<r)&&(i={start:n,end:r}),i}function Gv(e,t){return(null===e.start?null:e.start.valueOf())===(null===t.start?null:t.start.valueOf())&&(null===e.end?null:e.end.valueOf())===(null===t.end?null:t.end.valueOf())}function Qv(e,t){return(null===e.end||null===t.start||e.end>t.start)&&(null===e.start||null===t.end||e.start<t.end)}function Yv(e,t){return(null===e.start||null!==t.start&&t.start>=e.start)&&(null===e.end||null!==t.end&&t.end<=e.end)}function Kv(e,t){return(null===e.start||t>=e.start)&&(null===e.end||t<e.end)}function Xv(e){let t=Math.floor(bm(e.start,e.end))||1,n=Sm(e.start);return{start:n,end:vm(n,t)}}function Zv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:am(0),n=null,r=null;if(e.end){r=Sm(e.end);let n=e.end.valueOf()-r.valueOf();n&&n>=dm(t)&&(r=vm(r,1))}return e.start&&(n=Sm(e.start),r&&r<=n&&(r=vm(n,1))),{start:n,end:r}}function Jv(e,t,n,r){return"year"===r?am(n.diffWholeYears(e,t),"year"):"month"===r?am(n.diffWholeMonths(e,t),"month"):function(e,t){let n=Sm(e),r=Sm(t);return{years:0,months:0,days:Math.round(bm(n,r)),milliseconds:t.valueOf()-r.valueOf()-(e.valueOf()-n.valueOf())}}(e,t)}class ey{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,n){let{dateEnv:r}=this.props,i=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,-1,n)}buildNext(e,t,n){let{dateEnv:r}=this.props,i=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,1,n)}build(e,t){let n,r,i,o,s,a,l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],{props:c}=this;var u,d;return n=this.buildValidRange(),n=this.trimHiddenDays(n),l&&(u=e,e=null!=(d=n).start&&u<d.start?d.start:null!=d.end&&u>=d.end?new Date(d.end.valueOf()-1):u),r=this.buildCurrentRangeInfo(e,t),i=/^(year|month|week|day)$/.test(r.unit),o=this.buildRenderRange(this.trimHiddenDays(r.range),r.unit,i),o=this.trimHiddenDays(o),s=o,c.showNonCurrentDates||(s=qv(s,r.range)),s=this.adjustActiveRange(s),s=qv(s,n),a=Qv(r.range,n),Kv(o,e)||(e=o.start),{currentDate:e,validRange:n,currentRange:r.range,currentRangeUnit:r.unit,isRangeAllDay:i,activeRange:s,renderRange:o,slotMinTime:c.slotMinTime,slotMaxTime:c.slotMaxTime,isValid:a,dateIncrement:this.buildDateIncrement(r.duration)}}buildValidRange(){let e=this.props.validRangeInput,t="function"===typeof e?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let n,{props:r}=this,i=null,o=null,s=null;return r.duration?(i=r.duration,o=r.durationUnit,s=this.buildRangeFromDuration(e,t,i,o)):(n=this.props.dayCount)?(o="day",s=this.buildRangeFromDayCount(e,t,n)):(s=this.buildCustomVisibleRange(e))?o=r.dateEnv.greatestWholeUnit(s.start,s.end).unit:(i=this.getFallbackDuration(),o=fm(i).unit,s=this.buildRangeFromDuration(e,t,i,o)),{duration:i,unit:o,range:s}}getFallbackDuration(){return am({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:r,slotMaxTime:i}=this.props,{start:o,end:s}=e;return n&&(um(r)<0&&(o=Sm(o),o=t.add(o,r)),um(i)>1&&(s=Sm(s),s=vm(s,-1),s=t.add(s,i))),{start:o,end:s}}buildRangeFromDuration(e,t,n,r){let i,o,s,{dateEnv:a,dateAlignment:l}=this.props;if(!l){let{dateIncrement:e}=this.props;l=e&&dm(e)<dm(n)?fm(e).unit:r}function c(){i=a.startOf(e,l),o=a.add(i,n),s={start:i,end:o}}return um(n)<=1&&this.isHiddenDay(i)&&(i=this.skipHiddenDays(i,t),i=Sm(i)),c(),this.trimHiddenDays(s)||(e=this.skipHiddenDays(e,t),c()),s}buildRangeFromDayCount(e,t,n){let r,{dateEnv:i,dateAlignment:o}=this.props,s=0,a=e;o&&(a=i.startOf(a,o)),a=Sm(a),a=this.skipHiddenDays(a,t),r=a;do{r=vm(r,1),this.isHiddenDay(r)||(s+=1)}while(s<n);return{start:a,end:r}}buildCustomVisibleRange(e){let{props:t}=this,n=t.visibleRangeInput,r="function"===typeof n?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,i=this.refineRange(r);return!i||null!=i.start&&null!=i.end?i:null}buildRenderRange(e,t,n){return e}buildDateIncrement(e){let t,{dateIncrement:n}=this.props;return n||((t=this.props.dateAlignment)?am(1,t):e||am({days:1}))}refineRange(e){if(e){let t=function(e,t){let n=null,r=null;return e.start&&(n=t.createMarker(e.start)),e.end&&(r=t.createMarker(e.end)),n||r?n&&r&&r<n?null:{start:n,end:r}:null}(e,this.props.dateEnv);return t&&(t=Zv(t)),t}return null}initHiddenDays(){let e,t=this.props.hiddenDays||[],n=[],r=0;for(!1===this.props.weekends&&t.push(0,6),e=0;e<7;e+=1)(n[e]=-1!==t.indexOf(e))||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:t,end:n}=e;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),null==t||null==n||t<n?{start:t,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(;this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=vm(e,t);return e}}function ty(e,t,n,r){return{instanceId:Gg(),defId:e,range:t,forcedStartTzo:null==n?null:n,forcedEndTzo:null==r?null:r}}function ny(e,t,n){let{dateEnv:r,pluginHooks:i,options:o}=n,{defs:s,instances:a}=e;a=uv(a,(e=>!s[e.defId].recurringDef));for(let l in s){let e=s[l];if(e.recurringDef){let{duration:n}=e.recurringDef;n||(n=e.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration);let s=ry(e,n,t,r,i.recurringTypes);for(let e of s){let t=ty(l,{start:e,end:r.add(e,n)});a[t.instanceId]=t}}}return{defs:s,instances:a}}function ry(e,t,n,r,i){let o=i[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:r.subtract(n.start,t),end:n.end},r);return e.allDay&&(o=o.map(Sm)),o}const iy={id:String,groupId:String,title:String,url:String,interactive:Boolean},oy={start:av,end:av,date:av,allDay:Boolean},sy=Object.assign(Object.assign(Object.assign({},iy),oy),{extendedProps:av});function ay(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:cy(n),o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,{refined:a,extra:l}=ly(e,n,i),c=function(e,t){let n=null;e&&(n=e.defaultAllDay);null==n&&(n=t.options.defaultAllDay);return n}(t,n),u=function(e,t,n,r){for(let i=0;i<r.length;i+=1){let o=r[i].parse(e,n);if(o){let{allDay:n}=e;return null==n&&(n=t,null==n&&(n=o.allDayGuess,null==n&&(n=!1))),{allDay:n,duration:o.duration,typeData:o.typeData,typeId:i}}}return null}(a,c,n.dateEnv,n.pluginHooks.recurringTypes);if(u){let e=uy(a,l,t?t.sourceId:"",u.allDay,Boolean(u.duration),n,o);return e.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:e,instance:null}}let d=function(e,t,n,r){let i,o,{allDay:s}=e,a=null,l=!1,c=null,u=null!=e.start?e.start:e.date;if(i=n.dateEnv.createMarkerMeta(u),i)a=i.marker;else if(!r)return null;null!=e.end&&(o=n.dateEnv.createMarkerMeta(e.end));null==s&&(s=null!=t?t:(!i||i.isTimeUnspecified)&&(!o||o.isTimeUnspecified));s&&a&&(a=Sm(a));o&&(c=o.marker,s&&(c=Sm(c)),a&&c<=a&&(c=null));c?l=!0:r||(l=n.options.forceEventDuration||!1,c=n.dateEnv.add(a,s?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration));return{allDay:s,hasEnd:l,range:{start:a,end:c},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:o?o.forcedTzo:null}}(a,c,n,r);if(d){let e=uy(a,l,t?t.sourceId:"",d.allDay,d.hasEnd,n,o),r=ty(e.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return s&&e.publicId&&s[e.publicId]&&(r.instanceId=s[e.publicId]),{def:e,instance:r}}return null}function ly(e,t){return sv(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:cy(t))}function cy(e){return Object.assign(Object.assign(Object.assign({},vy),sy),e.pluginHooks.eventRefiners)}function uy(e,t,n,r,i,o,s){let a={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(s&&e.id?s[e.id]:"")||Gg(),sourceId:n,allDay:r,hasEnd:i,interactive:e.interactive,ui:by(e,o),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let l of o.pluginHooks.eventDefMemberAdders)Object.assign(a,l(e));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function dy(e,t,n,r,i,o){let s={defs:{},instances:{}},a=cy(n);for(let l of e){let e=ay(l,t,n,r,a,i,o);e&&hy(e,s)}return s}function hy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{defs:{},instances:{}};return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function fy(e,t){let n=e.instances[t];if(n){let t=e.defs[n.defId],r=gy(e,(e=>{return n=t,r=e,Boolean(n.groupId&&n.groupId===r.groupId);var n,r}));return r.defs[t.defId]=t,r.instances[n.instanceId]=n,r}return{defs:{},instances:{}}}function py(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function gy(e,t){let n=uv(e.defs,t),r=uv(e.instances,(e=>n[e.defId]));return{defs:n,instances:r}}function my(e){return Array.isArray(e)?e:"string"===typeof e?e.split(/\s+/):[]}const vy={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:av,overlap:av,allow:av,className:my,classNames:my,color:String,backgroundColor:String,borderColor:String,textColor:String},yy={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function by(e,t){let n=function(e,t){return Array.isArray(e)?dy(e,null,t,!0):"object"===typeof e&&e?dy([e],null,t,!0):null!=e?String(e):null}(e.constraint,t);return{display:e.display||null,startEditable:null!=e.startEditable?e.startEditable:e.editable,durationEditable:null!=e.durationEditable?e.durationEditable:e.editable,constraints:null!=n?[n]:[],overlap:null!=e.overlap?e.overlap:null,allows:null!=e.allow?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function wy(e){return e.reduce(Sy,yy)}function Sy(e,t){return{display:null!=t.display?t.display:e.display,startEditable:null!=t.startEditable?t.startEditable:e.startEditable,durationEditable:null!=t.durationEditable?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:"boolean"===typeof t.overlap?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}const Ey={id:String,defaultAllDay:Boolean,url:String,format:String,events:av,eventDataTransform:av,success:av,failure:av};function Cy(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xy(t);if("string"===typeof e?n={url:e}:"function"===typeof e||Array.isArray(e)?n={events:e}:"object"===typeof e&&e&&(n=e),n){let{refined:i,extra:o}=sv(n,r),s=function(e,t){let n=t.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let t=n[r].parseMeta(e);if(t)return{sourceDefId:r,meta:t}}return null}(i,t);if(s)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:Gg(),sourceDefId:s.sourceDefId,meta:s.meta,ui:by(i,t),extendedProps:o}}return null}function xy(e){return Object.assign(Object.assign(Object.assign({},vy),Ey),e.pluginHooks.eventSourceRefiners)}function _y(e,t,n,r,i){switch(t.type){case"RECEIVE_EVENTS":return function(e,t,n,r,i,o){if(t&&n===t.latestFetchId){let n=dy(Dy(i,t,o),t,o);return r&&(n=ny(n,r,o)),py(Ry(e,t.sourceId),n)}return e}(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,i);case"RESET_RAW_EVENTS":return function(e,t,n,r,i){const{defIdMap:o,instanceIdMap:s}=function(e){const{defs:t,instances:n}=e,r={},i={};for(let o in t){const e=t[o],{publicId:n}=e;n&&(r[n]=o)}for(let o in n){const e=t[n[o].defId],{publicId:r}=e;r&&(i[r]=o)}return{defIdMap:r,instanceIdMap:i}}(e);let a=dy(Dy(n,t,i),t,i,!1,o,s);return ny(a,r,i)}(e,n[t.sourceId],t.rawEvents,r.activeRange,i);case"ADD_EVENTS":return function(e,t,n,r){n&&(t=ny(t,n,r));return py(e,t)}(e,t.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return py(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?ny(e,r.activeRange,i):e;case"REMOVE_EVENTS":return function(e,t){let{defs:n,instances:r}=e,i={},o={};for(let s in n)t.defs[s]||(i[s]=n[s]);for(let s in r)!t.instances[s]&&i[r[s].defId]&&(o[s]=r[s]);return{defs:i,instances:o}}(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return Ry(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return gy(e,(e=>!e.sourceId));case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return e}}function Dy(e,t,n){let r=n.options.eventDataTransform,i=t?t.eventDataTransform:null;return i&&(e=Ty(e,i)),r&&(e=Ty(e,r)),e}function Ty(e,t){let n;if(t){n=[];for(let r of e){let e=t(r);e?n.push(e):null==e&&n.push(r)}}else n=e;return n}function ky(e,t,n){let{defs:r}=e,i=dv(e.instances,(e=>r[e.defId].allDay?e:Object.assign(Object.assign({},e),{range:{start:n.createMarker(t.toDate(e.range.start,e.forcedStartTzo)),end:n.createMarker(t.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:e.forcedEndTzo})));return{defs:r,instances:i}}function Ry(e,t){return gy(e,(e=>e.sourceId!==t))}class Ay{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){!function(e,t,n){(e[t]||(e[t]=[])).push(n)}(this.handlers,e,t)}off(e,t){!function(e,t,n){n?e[t]&&(e[t]=e[t].filter((e=>e!==n))):delete e[t]}(this.handlers,e,t)}trigger(e){let t=this.handlers[e]||[],n=this.options&&this.options[e],r=[].concat(n||[],t);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];for(let a of r)a.apply(this.thisContext,o)}hasHandlers(e){return Boolean(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}const Iy={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Ny(e,t){return dy(function(e){let t;t=!0===e?[{}]:Array.isArray(e)?e.filter((e=>e.daysOfWeek)):"object"===typeof e&&e?[e]:[];return t=t.map((e=>Object.assign(Object.assign({},Iy),e))),t}(e),null,t)}function Py(e,t,n){n.emitter.trigger("select",Object.assign(Object.assign({},My(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function My(e,t){let n={};for(let o of t.pluginHooks.dateSpanTransforms)Object.assign(n,o(e,t));var r,i;return Object.assign(n,(r=e,i=t.dateEnv,Object.assign(Object.assign({},ab(r.range,i,r.allDay)),{allDay:r.allDay}))),n}function Oy(e,t,n){let{dateEnv:r,options:i}=n,o=t;return e?(o=Sm(o),o=r.add(o,i.defaultAllDayEventDuration)):o=r.add(o,i.defaultTimedEventDuration),o}function jy(e,t,n,r){let i=qy(e.defs,t),o={defs:{},instances:{}};for(let s in e.defs){let t=e.defs[s];o.defs[s]=Ly(t,i[s],n,r)}for(let s in e.instances){let t=e.instances[s],a=o.defs[t.defId];o.instances[s]=zy(t,a,i[t.defId],n,r)}return o}function Ly(e,t,n,r){let i=n.standardProps||{};null==i.hasEnd&&t.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let o=Object.assign(Object.assign(Object.assign({},e),i),{ui:Object.assign(Object.assign({},e.ui),i.ui)});n.extendedProps&&(o.extendedProps=Object.assign(Object.assign({},o.extendedProps),n.extendedProps));for(let s of r.pluginHooks.eventDefMutationAppliers)s(o,n,r);return!o.hasEnd&&r.options.forceEventDuration&&(o.hasEnd=!0),o}function zy(e,t,n,r,i){let{dateEnv:o}=i,s=r.standardProps&&!0===r.standardProps.allDay,a=r.standardProps&&!1===r.standardProps.hasEnd,l=Object.assign({},e);return s&&(l.range=Xv(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:o.add(l.range.start,r.datesDelta),end:o.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:o.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:o.add(l.range.end,r.endDelta)}),a&&(l.range={start:l.range.start,end:Oy(t.allDay,l.range.start,i)}),t.allDay&&(l.range={start:Sm(l.range.start),end:Sm(l.range.end)}),l.range.end<l.range.start&&(l.range.end=Oy(t.allDay,l.range.start,i)),l}class By{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Fy{constructor(e,t,n){this._context=e,this._def=t,this._instance=n||null}setProp(e,t){if(e in oy)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===e)t=iy[e](t),this.mutate({standardProps:{publicId:t}});else if(e in iy)t=iy[e](t),this.mutate({standardProps:{[e]:t}});else if(e in vy){let n=vy[e](t);n="color"===e?{backgroundColor:t,borderColor:t}:"editable"===e?{startEditable:t,durationEditable:t}:{[e]:t},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{dateEnv:n}=this._context,r=n.createMarker(e);if(r&&this._instance){let e=Jv(this._instance.range.start,r,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:e}):this.mutate({startDelta:e})}}setEnd(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{dateEnv:r}=this._context;if((null==e||(t=r.createMarker(e),t))&&this._instance)if(t){let e=Jv(this._instance.range.end,t,r,n.granularity);this.mutate({endDelta:e})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{dateEnv:i}=this._context,o={allDay:r.allDay},s=i.createMarker(e);var a,l;if(s&&((null==t||(n=i.createMarker(t),n))&&this._instance)){let e=this._instance.range;!0===r.allDay&&(e=Xv(e));let t=Jv(e.start,s,i,r.granularity);if(n){let s=Jv(e.end,n,i,r.granularity);l=s,(a=t).years===l.years&&a.months===l.months&&a.days===l.days&&a.milliseconds===l.milliseconds?this.mutate({datesDelta:t,standardProps:o}):this.mutate({startDelta:t,endDelta:s,standardProps:o})}else o.hasEnd=!1,this.mutate({datesDelta:t,standardProps:o})}}moveStart(e){let t=am(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=am(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=am(e);t&&this.mutate({datesDelta:t})}setAllDay(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={allDay:e},{maintainDuration:r}=t;null==r&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=r),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:t}=this._context,n=this._instance,r=Km(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,r,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,r,{forcedTzo:n.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let n=this._def,r=this._context,{eventStore:i}=r.getCurrentData(),o=fy(i,t.instanceId);o=jy(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let s=new Fy(r,n,t);this._def=o.defs[n.defId],this._instance=o.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:o}),r.emitter.trigger("eventChange",{oldEvent:s,event:this,relatedEvents:$y(o,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:i})}})}}remove(){let e=this._context,t=Uy(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new By(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._def,{ui:n}=t,{startStr:r,endStr:i}=this,o={allDay:t.allDay};return t.title&&(o.title=t.title),r&&(o.start=r),i&&(o.end=i),t.publicId&&(o.id=t.publicId),t.groupId&&(o.groupId=t.groupId),t.url&&(o.url=t.url),n.display&&"auto"!==n.display&&(o.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?o.color=n.backgroundColor:(n.backgroundColor&&(o.backgroundColor=n.backgroundColor),n.borderColor&&(o.borderColor=n.borderColor)),n.textColor&&(o.textColor=n.textColor),n.classNames.length&&(o.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,t.extendedProps):o.extendedProps=t.extendedProps),o}toJSON(){return this.toPlainObject()}}function Uy(e){let t=e._def,n=e._instance;return{defs:{[t.defId]:t},instances:n?{[n.instanceId]:n}:{}}}function $y(e,t,n){let{defs:r,instances:i}=e,o=[],s=n?n.instanceId:"";for(let a in i){let e=i[a],n=r[e.defId];e.instanceId!==s&&o.push(new Fy(t,n,e))}return o}function Hy(e,t,n,r){let i={},o={},s={},a=[],l=[],c=qy(e.defs,t);for(let u in e.defs){let t=e.defs[u];"inverse-background"===c[t.defId].display&&(t.groupId?(i[t.groupId]=[],s[t.groupId]||(s[t.groupId]=t)):o[u]=[])}for(let u in e.instances){let t=e.instances[u],s=e.defs[t.defId],d=c[s.defId],h=t.range,f=!s.allDay&&r?Zv(h,r):h,p=qv(f,n);p&&("inverse-background"===d.display?s.groupId?i[s.groupId].push(p):o[t.defId].push(p):"none"!==d.display&&("background"===d.display?a:l).push({def:s,ui:d,instance:t,range:p,isStart:f.start&&f.start.valueOf()===p.start.valueOf(),isEnd:f.end&&f.end.valueOf()===p.end.valueOf()}))}for(let u in i){let e=Vv(i[u],n);for(let t of e){let e=s[u],n=c[e.defId];a.push({def:e,ui:n,instance:null,range:t,isStart:!1,isEnd:!1})}}for(let u in o){let t=Vv(o[u],n);for(let n of t)a.push({def:e.defs[u],ui:c[u],instance:null,range:n,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function Vy(e,t){e.fcSeg=t}function Wy(e){return e.fcSeg||e.parentNode.fcSeg||null}function qy(e,t){return dv(e,(e=>Gy(e,t)))}function Gy(e,t){let n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),wy(n)}function Qy(e,t){let n=e.map(Yy);return n.sort(((e,n)=>Xg(e,n,t))),n.map((e=>e._seg))}function Yy(e){let{eventRange:t}=e,n=t.def,r=t.instance?t.instance.range:t.range,i=r.start?r.start.valueOf():0,o=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:o,duration:o-i,allDay:Number(n.allDay),_seg:e})}function Ky(e,t){let{pluginHooks:n}=t,r=n.isDraggableTransformers,{def:i,ui:o}=e.eventRange,s=o.startEditable;for(let a of r)s=a(s,i,o,t);return s}function Xy(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function Zy(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function Jy(e,t,n,r,i,o,s){let{dateEnv:a,options:l}=n,{displayEventTime:c,displayEventEnd:u}=l,d=e.eventRange.def,h=e.eventRange.instance;null==c&&(c=!1!==r),null==u&&(u=!1!==i);let f=h.range.start,p=h.range.end,g=o||e.start||e.eventRange.range.start,m=s||e.end||e.eventRange.range.end,v=Sm(f).valueOf()===Sm(g).valueOf(),y=Sm(ym(p,-1)).valueOf()===Sm(ym(m,-1)).valueOf();return c&&!d.allDay&&(v||y)?(g=v?f:g,m=y?p:m,u&&d.hasEnd?a.formatRange(g,m,t,{forcedStartTzo:o?null:h.forcedStartTzo,forcedEndTzo:s?null:h.forcedEndTzo}):a.format(g,t,{forcedTzo:o?null:h.forcedStartTzo})):""}function eb(e,t,n){let r=e.eventRange.range;return{isPast:r.end<=(n||t.start),isFuture:r.start>=(n||t.end),isToday:t&&Kv(t,r.start)}}function tb(e){let t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function nb(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function rb(e,t){let{def:n,instance:r}=e.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:o,options:s}=t,{eventInteractive:a}=s;return null==a&&(a=n.interactive,null==a&&(a=Boolean(o.hasHandlers("eventClick")))),a?Wg((e=>{o.trigger("eventClick",{el:e.target,event:new Fy(t,n,r),jsEvent:e,view:t.viewApi})})):{}}const ib={start:av,end:av,allDay:Boolean};function ob(e,t,n){let r=function(e,t){let{refined:n,extra:r}=sv(e,ib),i=n.start?t.createMarkerMeta(n.start):null,o=n.end?t.createMarkerMeta(n.end):null,{allDay:s}=n;null==s&&(s=i&&i.isTimeUnspecified&&(!o||o.isTimeUnspecified));return Object.assign({range:{start:i?i.marker:null,end:o?o.marker:null},allDay:s},r)}(e,t),{range:i}=r;if(!i.start)return null;if(!i.end){if(null==n)return null;i.end=t.add(i.start,n)}return r}function sb(e,t,n){return Object.assign(Object.assign({},ab(e,t,n)),{timeZone:t.timeZone})}function ab(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}function lb(e,t,n){let r=!1,i=function(e){r||(r=!0,t(e))},o=function(e){r||(r=!0,n(e))},s=e(i,o);s&&"function"===typeof s.then&&s.then(i,o)}class cb extends Error{constructor(e,t){super(e),this.response=t}}function ub(e,t,n){const r={method:e=e.toUpperCase()};return"GET"===e?t+=(-1===t.indexOf("?")?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,r).then((e=>{if(e.ok)return e.json().then((t=>[t,e]),(()=>{throw new cb("Failure parsing JSON",e)}));throw new cb("Request failed",e)}))}let db;function hb(){return null==db&&(db=function(){if("undefined"===typeof document)return!0;let e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);let t=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),t}()),db}class fb extends Pv{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Dv((()=>{this.setState({forPrint:!0})}))},this.handleAfterPrint=()=>{Dv((()=>{this.setState({forPrint:!1})}))}}render(){let{props:e}=this,{options:t}=e,{forPrint:n}=this.state,r=n||"auto"===t.height||"auto"===t.contentHeight,i=r||null==t.height?"":t.height,o=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return hb()||o.push("fc-liquid-hack"),e.children(o,i,r,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class pb{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function gb(e){return{[e.component.uid]:e}}const mb={};class vb extends yp{constructor(e,t){super(e,t),this.handleRefresh=()=>{let e=this.computeTiming();e.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(e.state),this.clearTimeout(),this.setTimeout(e.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:t}=this,n=t.nowManager.getDateMarker(),r=t.dateEnv.startOf(n,e.unit),i=t.dateEnv.add(r,am(1,e.unit)).valueOf()-n.valueOf();return i=Math.min(864e5,i),{state:{nowDate:r,todayRange:yb(r)},waitMs:i}}setTimeout(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.computeTiming().waitMs;this.timeoutId=setTimeout((()=>{const e=this.computeTiming();this.setState(e.state,(()=>{this.setTimeout(e.waitMs)}))}),e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}function yb(e){let t=Sm(e);return{start:t,end:vm(t,1)}}vb.contextType=Av;class bb{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.currentDataManager.emitter.trigger(e,...n)}changeView(e,t){this.batchRendering((()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})}))}zoomTo(e,t){let n;t=t||"day",n=this.getCurrentData().viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),n?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:n.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let t,n,{viewSpecs:r,toolbarConfig:i}=this.getCurrentData(),o=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]);for(let s in r)o.push(s);for(t=0;t<o.length;t+=1)if(n=r[o[t]],n&&n.singleUnit===e)return n;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),n=am(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),Km(t))}formatRange(e,t,n){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),Km(n),n)}formatIso(e,t){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:t})}select(e,t){let n;n=null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t};let r=this.getCurrentData(),i=ob(n,r.dateEnv,am({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),Py(i,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}(e,t))}addEvent(e,t){if(e instanceof Fy){let t=e._def,n=e._instance;return this.getCurrentData().eventStore.defs[t.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:hy({def:t,instance:n})}),this.triggerEventAdd(e)),e}let n,r=this.getCurrentData();if(t instanceof By)n=t.internalEventSource;else if("boolean"===typeof t)t&&([n]=fv(r.eventSources));else if(null!=t){let e=this.getEventSourceById(t);if(!e)return console.warn(`Could not find an event source with ID "${t}"`),null;n=e.internalEventSource}let i=ay(e,n,r,!1);if(i){let e=new Fy(r,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:hy(i)}),this.triggerEventAdd(e),e}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Uy(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:n,instances:r}=t.eventStore;e=String(e);for(let i in n){let o=n[i];if(o.publicId===e){if(o.recurringDef)return new Fy(t,o,null);for(let e in r){let n=r[e];if(n.defId===o.defId)return new Fy(t,o,n)}}}return null}getEvents(){let e=this.getCurrentData();return $y(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,n=[];for(let r in t)n.push(new By(e,t[r]));return n}getEventSourceById(e){let t=this.getCurrentData(),n=t.eventSources;e=String(e);for(let r in n)if(n[r].publicId===e)return new By(t,n[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof By)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=Cy(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new By(t,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=am(e);t&&this.trigger("_scrollRequest",{time:t})}}function wb(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function Sb(e,t){let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function Eb(e,t,n){return{left:e.left+t,right:e.right+t,top:e.top+n,bottom:e.bottom+n}}const Cb={defs:{},instances:{}};class xb{constructor(){this.getKeysForEventDefs=Pm(this._getKeysForEventDefs),this.splitDateSelection=Pm(this._splitDateSpan),this.splitEventStore=Pm(this._splitEventStore),this.splitIndividualUi=Pm(this._splitIndividualUi),this.splitEventDrag=Pm(this._splitInteraction),this.splitEventResize=Pm(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),i=this.splitIndividualUi(e.eventUiBases,n),o=this.splitEventStore(e.eventStore,n),s=this.splitEventDrag(e.eventDrag),a=this.splitEventResize(e.eventResize),l={};this.eventUiBuilders=dv(t,((e,t)=>this.eventUiBuilders[t]||Pm(_b)));for(let c in t){let n=t[c],u=o[c]||Cb,d=this.eventUiBuilders[c];l[c]={businessHours:n.businessHours||e.businessHours,dateSelection:r[c]||null,eventStore:u,eventUiBases:d(e.eventUiBases[""],n.ui,i[c]),eventSelection:u.instances[e.eventSelection]?e.eventSelection:"",eventDrag:s[c]||null,eventResize:a[c]||null}}return l}_splitDateSpan(e){let t={};if(e){let n=this.getKeysForDateSpan(e);for(let r of n)t[r]=e}return t}_getKeysForEventDefs(e){return dv(e.defs,(e=>this.getKeysForEventDef(e)))}_splitEventStore(e,t){let{defs:n,instances:r}=e,i={};for(let o in n)for(let e of t[o])i[e]||(i[e]={defs:{},instances:{}}),i[e].defs[o]=n[o];for(let o in r){let e=r[o];for(let n of t[e.defId])i[n]&&(i[n].instances[o]=e)}return i}_splitIndividualUi(e,t){let n={};for(let r in e)if(r)for(let i of t[r])n[i]||(n[i]={}),n[i][r]=e[r];return n}_splitInteraction(e){let t={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),i=this._splitEventStore(e.mutatedEvents,r),o=r=>{t[r]||(t[r]={affectedEvents:n[r]||Cb,mutatedEvents:i[r]||Cb,isEvent:e.isEvent})};for(let e in n)o(e);for(let e in i)o(e)}return t}}function _b(e,t,n){let r=[];e&&r.push(e),t&&r.push(t);let i={"":wy(r)};return n&&Object.assign(i,n),i}function Db(e,t,n,r){return{dow:e.getUTCDay(),isDisabled:Boolean(r&&(!r.activeRange||!Kv(r.activeRange,e))),isOther:Boolean(r&&!Kv(r.currentRange,e)),isToday:Boolean(t&&Kv(t,e)),isPast:Boolean(n?e<n:!!t&&e<t.start),isFuture:Boolean(n?e>n:!!t&&e>=t.end)}}function Tb(e,t){let n=["fc-day",`fc-day-${gm[e.dow]}`];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}function kb(e,t){let n=["fc-slot",`fc-slot-${gm[e.dow]}`];return e.isDisabled?n.push("fc-slot-disabled"):(e.isToday&&(n.push("fc-slot-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-slot-past"),e.isFuture&&n.push("fc-slot-future")),n}const Rb=Km({year:"numeric",month:"long",day:"numeric"}),Ab=Km({week:"long"});function Ib(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const{dateEnv:i,options:o,calendarApi:s}=e;let a=i.format(t,"week"===n?Ab:Rb);if(o.navLinks){let e=i.toDate(t);const l=e=>{let r="day"===n?o.navLinkDayClick:"week"===n?o.navLinkWeekClick:null;"function"===typeof r?r.call(s,i.toDate(t),e):("string"===typeof r&&(n=r),s.zoomTo(t,n))};return Object.assign({title:tm(o.navLinkHint,[a,e],a),"data-navlink":""},r?Vg(l):{onClick:l})}return{"aria-label":a}}let Nb,Pb=null;function Mb(){return null===Pb&&(Pb=function(){let e=document.createElement("div");jg(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);let t=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return Ig(e),t}()),Pb}function Ob(){return Nb||(Nb=function(){let e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);let t=jb(e);return document.body.removeChild(e),t}()),Nb}function jb(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function Lb(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=window.getComputedStyle(e),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,o=parseInt(n.borderTopWidth,10)||0,s=parseInt(n.borderBottomWidth,10)||0,a=jb(e),l=a.y-r-i,c={borderLeft:r,borderRight:i,borderTop:o,borderBottom:s,scrollbarBottom:a.x-o-s,scrollbarLeft:0,scrollbarRight:0};return Mb()&&"rtl"===n.direction?c.scrollbarLeft=l:c.scrollbarRight=l,t&&(c.paddingLeft=parseInt(n.paddingLeft,10)||0,c.paddingRight=parseInt(n.paddingRight,10)||0,c.paddingTop=parseInt(n.paddingTop,10)||0,c.paddingBottom=parseInt(n.paddingBottom,10)||0),c}function zb(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(arguments.length>2?arguments[2]:void 0)?e.getBoundingClientRect():Bb(e),r=Lb(e,t),i={left:n.left+r.borderLeft+r.scrollbarLeft,right:n.right-r.borderRight-r.scrollbarRight,top:n.top+r.borderTop,bottom:n.bottom-r.borderBottom-r.scrollbarBottom};return t&&(i.left+=r.paddingLeft,i.right-=r.paddingRight,i.top+=r.paddingTop,i.bottom-=r.paddingBottom),i}function Bb(e){let t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function Fb(e){let t=[];for(;e instanceof HTMLElement;){let n=window.getComputedStyle(e);if("fixed"===n.position)break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}class Ub{constructor(e,t,n,r){this.els=t;let i=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(i.left),r&&this.buildElVerticals(i.top)}buildElHorizontals(e){let t=[],n=[];for(let r of this.els){let i=r.getBoundingClientRect();t.push(i.left-e),n.push(i.right-e)}this.lefts=t,this.rights=n}buildElVerticals(e){let t=[],n=[];for(let r of this.els){let i=r.getBoundingClientRect();t.push(i.top-e),n.push(i.bottom-e)}this.tops=t,this.bottoms=n}leftToIndex(e){let t,{lefts:n,rights:r}=this,i=n.length;for(t=0;t<i;t+=1)if(e>=n[t]&&e<r[t])return t}topToIndex(e){let t,{tops:n,bottoms:r}=this,i=n.length;for(t=0;t<i;t+=1)if(e>=n[t]&&e<r[t])return t}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return $b(this.tops||[],e.tops||[])&&$b(this.bottoms||[],e.bottoms||[])&&$b(this.lefts||[],e.lefts||[])&&$b(this.rights||[],e.rights||[])}}function $b(e,t){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(Math.round(e[r])!==Math.round(t[r]))return!1;return!0}class Hb{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Vb extends Hb{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Wb extends Hb{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class qb extends Pv{constructor(){super(...arguments),this.uid=Gg()}prepareHits(){}queryHit(e,t,n,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Ng(e,".fc-event-mirror")}isValidDateDownEl(e){return!Ng(e,".fc-event:not(.fc-bg-event)")&&!Ng(e,".fc-more-link")&&!Ng(e,"a[data-navlink]")&&!Ng(e,".fc-popover")}}class Gb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.thickness||1;this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let n of e)this.insertEntry(n,t);return t}insertEntry(e,t){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,t)}isInsertionValid(e,t){return(-1===this.maxCoord||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(-1===this.maxStackCnt||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,n){if(this.allowReslicing&&e.touchingEntry){const r=Object.assign(Object.assign({},t),{span:Kb(t.span,e.touchingEntry.span)});n.push(r),this.splitEntry(t,e.touchingEntry,n)}else n.push(t)}splitEntry(e,t,n){let r=e.span,i=t.span;r.start<i.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:i.start}},n),r.end>i.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.end,end:r.end}},n)}insertEntryAt(e,t){let{entriesByLevel:n,levelCoords:r}=this;-1===t.lateral?(Xb(r,t.level,t.levelCoord),Xb(n,t.level,[e])):Xb(n[t.level],t.lateral,e),this.stackCnts[Yb(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:n,strictOrder:r,stackCnts:i}=this,o=t.length,s=0,a=-1,l=-1,c=null,u=0;for(let f=0;f<o;f+=1){const o=t[f];if(!r&&o>=s+this.getEntryThickness(e))break;let d,h=n[f],p=Zb(h,e.span.start,Qb),g=p[0]+p[1];for(;(d=h[g])&&d.span.start<e.span.end;){let e=o+this.getEntryThickness(d);e>s&&(s=e,c=d,a=f,l=g),e===s&&(u=Math.max(u,i[Yb(d)]+1)),g+=1}}let d=0;if(c)for(d=a+1;d<o&&t[d]<s;)d+=1;let h=-1;return d<o&&t[d]===s&&(h=Zb(n[d],e.span.end,Qb)[0]),{touchingLevel:a,touchingLateral:l,touchingEntry:c,stackCnt:u,levelCoord:s,level:d,lateral:h}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,n=e.length,r=[];for(let i=0;i<n;i+=1){let n=e[i],o=t[i];for(let e of n)r.push(Object.assign(Object.assign({},e),{thickness:this.getEntryThickness(e),levelCoord:o}))}return r}}function Qb(e){return e.span.end}function Yb(e){return e.index+":"+e.span.start}function Kb(e,t){let n=Math.max(e.start,t.start),r=Math.min(e.end,t.end);return n<r?{start:n,end:r}:null}function Xb(e,t,n){e.splice(t,0,n)}function Zb(e,t,n){let r=0,i=e.length;if(!i||t<n(e[r]))return[0,0];if(t>n(e[i-1]))return[i,0];for(;r<i;){let o=Math.floor(r+(i-r)/2),s=n(e[o]);if(t<s)i=o;else{if(!(t>s))return[o,1];r=o+1}}return[r,0]}class Jb{constructor(e,t){this.emitter=new Ay}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const ew={};Boolean;function tw(e,t){return Km(!e||t>10?{weekday:"short"}:t>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}const nw="fc-col-header-cell";function rw(e){return e.text}class iw extends Pv{render(){let{dateEnv:e,options:t,theme:n,viewApi:r}=this.context,{props:i}=this,{date:o,dateProfile:s}=i,a=Db(o,i.todayRange,null,s),l=[nw].concat(Tb(a,n)),c=e.format(o,i.dayHeaderFormat),u=!a.isDisabled&&i.colCnt>1?Ib(this.context,o):{},d=e.toDate(o);e.namedTimeZoneImpl&&(d=ym(d,36e5));let h=Object.assign(Object.assign(Object.assign({date:d,view:r},i.extraRenderProps),{text:c}),a);return dp(Fv,{elTag:"th",elClasses:l,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":a.isDisabled?void 0:Im(o)},i.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:rw,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},(e=>dp("div",{className:"fc-scrollgrid-sync-inner"},!a.isDisabled&&dp(e,{elTag:"a",elAttrs:u,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]}))))}}const ow=Km({weekday:"long"});class sw extends Pv{render(){let{props:e}=this,{dateEnv:t,theme:n,viewApi:r,options:i}=this.context,o=vm(new Date(2592e5),e.dow),s={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},a=t.format(o,e.dayHeaderFormat),l=Object.assign(Object.assign(Object.assign(Object.assign({date:o},s),{view:r}),e.extraRenderProps),{text:a});return dp(Fv,{elTag:"th",elClasses:[nw,...Tb(s,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:l,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:rw,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},(n=>dp("div",{className:"fc-scrollgrid-sync-inner"},dp(n,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(o,ow)}}))))}}class aw extends Pv{constructor(){super(...arguments),this.createDayHeaderFormatter=Pm(lw)}render(){let{context:e}=this,{dates:t,dateProfile:n,datesRepDistinctDays:r,renderIntro:i}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return dp(vb,{unit:"day"},((e,s)=>dp("tr",{role:"row"},i&&i("day"),t.map((e=>r?dp(iw,{key:e.toISOString(),date:e,dateProfile:n,todayRange:s,colCnt:t.length,dayHeaderFormat:o}):dp(sw,{key:e.getUTCDay(),dow:e.getUTCDay(),dayHeaderFormat:o}))))))}}function lw(e,t,n){return e||tw(t,n)}class cw{constructor(e,t){let n=e.start,{end:r}=e,i=[],o=[],s=-1;for(;n<r;)t.isHiddenDay(n)?i.push(s+.5):(s+=1,i.push(s),o.push(n)),n=vm(n,1);this.dates=o,this.indices=i,this.cnt=o.length}sliceRange(e){let t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(vm(e.end,-1)),r=Math.max(0,t),i=Math.min(this.cnt-1,n);return r=Math.ceil(r),i=Math.floor(i),r<=i?{firstIndex:r,lastIndex:i,isStart:t===r,isEnd:n===i}:null}getDateDayIndex(e){let{indices:t}=this,n=Math.floor(bm(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]}}class uw{constructor(e,t){let n,r,i,{dates:o}=e;if(t){for(r=o[0].getUTCDay(),n=1;n<o.length&&o[n].getUTCDay()!==r;n+=1);i=Math.ceil(o.length/n)}else i=1,n=o.length;this.rowCnt=i,this.colCnt=n,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let n=[];for(let e=0;e<this.colCnt;e+=1)n.push(this.buildCell(t,e));e.push(n)}return e}buildCell(e,t){let n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,n=this.daySeries.sliceRange(e),r=[];if(n){let{firstIndex:e,lastIndex:i}=n,o=e;for(;o<=i;){let s=Math.floor(o/t),a=Math.min((s+1)*t,i+1);r.push({row:s,firstCol:o%t,lastCol:(a-1)%t,isStart:n.isStart&&o===e,isEnd:n.isEnd&&a-1===i}),o=a}}return r}}class dw{constructor(){this.sliceBusinessHours=Pm(this._sliceBusinessHours),this.sliceDateSelection=Pm(this._sliceDateSpan),this.sliceEventStore=Pm(this._sliceEventStore),this.sliceEventDrag=Pm(this._sliceInteraction),this.sliceEventResize=Pm(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,n,r){let{eventUiBases:i}=e;for(var o=arguments.length,s=new Array(o>4?o-4:0),a=4;a<o;a++)s[a-4]=arguments[a];let l=this.sliceEventStore(e.eventStore,i,t,n,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,n,i,r,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,n,r,...s),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(e.eventDrag,i,t,n,...s),eventResize:this.sliceEventResize(e.eventResize,i,t,n,...s),eventSelection:e.eventSelection}}sliceNowDate(e,t,n,r){for(var i=arguments.length,o=new Array(i>4?i-4:0),s=4;s<i;s++)o[s-4]=arguments[s];return this._sliceDateSpan({range:{start:e,end:ym(e,1)},allDay:!1},t,n,{},r,...o)}_sliceBusinessHours(e,t,n,r){if(!e)return[];for(var i=arguments.length,o=new Array(i>4?i-4:0),s=4;s<i;s++)o[s-4]=arguments[s];return this._sliceEventStore(ny(e,hw(t,Boolean(n)),r),{},t,n,...o).bg}_sliceEventStore(e,t,n,r){if(e){let a=Hy(e,t,hw(n,Boolean(r)),r);for(var i=arguments.length,o=new Array(i>4?i-4:0),s=4;s<i;s++)o[s-4]=arguments[s];return{bg:this.sliceEventRanges(a.bg,o),fg:this.sliceEventRanges(a.fg,o)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,n,r){if(!e)return null;let i=Hy(e.mutatedEvents,t,hw(n,Boolean(r)),r);for(var o=arguments.length,s=new Array(o>4?o-4:0),a=4;a<o;a++)s[a-4]=arguments[a];return{segs:this.sliceEventRanges(i.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,n,r,i){if(!e)return[];let o=hw(t,Boolean(n)),s=qv(e.range,o);if(s){let t=function(e,t,n){let r=ly({editable:!1},n),i=uy(r.refined,r.extra,"",e.allDay,!0,n);return{def:i,ui:Gy(i,t),instance:ty(i.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}(e=Object.assign(Object.assign({},e),{range:s}),r,i);for(var a=arguments.length,l=new Array(a>5?a-5:0),c=5;c<a;c++)l[c-5]=arguments[c];let n=this.sliceRange(e.range,...l);for(let e of n)e.eventRange=t;return n}return[]}sliceEventRanges(e,t){let n=[];for(let r of e)n.push(...this.sliceEventRange(r,t));return n}sliceEventRange(e,t){let n=e.range;this.forceDayIfListItem&&"list-item"===e.ui.display&&(n={start:n.start,end:vm(n.start,1)});let r=this.sliceRange(n,...t);for(let i of r)i.eventRange=e,i.isStart=e.isStart&&i.isStart,i.isEnd=e.isEnd&&i.isEnd;return r}}function hw(e,t){let n=e.activeRange;return t?n:{start:ym(n.start,e.slotMinTime.milliseconds),end:ym(n.end,e.slotMaxTime.milliseconds-864e5)}}function fw(e,t,n){let{instances:r}=e.mutatedEvents;for(let i in r)if(!Yv(t.validRange,r[i].range))return!1;return pw({eventDrag:e},n)}function pw(e,t){let n=t.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||gw)(r,t)}function gw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return!(e.eventDrag&&!function(e,t,n,r){let i=t.getCurrentData(),o=e.eventDrag,s=o.mutatedEvents,a=s.defs,l=s.instances,c=qy(a,o.isEvent?e.eventUiBases:{"":i.selectionConfig});r&&(c=dv(c,r));let u=(p=e.eventStore,g=o.affectedEvents.instances,{defs:p.defs,instances:uv(p.instances,(e=>!g[e.instanceId]))}),d=u.defs,h=u.instances,f=qy(d,e.eventUiBases);var p,g;for(let m in l){let r=l[m],s=r.range,p=c[r.defId],g=a[r.defId];if(!mw(p.constraints,s,u,e.businessHours,t))return!1;let{eventOverlap:v}=t.options,y="function"===typeof v?v:null;for(let e in h){let n=h[e];if(Qv(s,n.range)){if(!1===f[n.defId].overlap&&o.isEvent)return!1;if(!1===p.overlap)return!1;if(y&&!y(new Fy(t,d[n.defId],n),new Fy(t,g,r)))return!1}}let b=i.eventStore;for(let e of p.allows){let i,o=Object.assign(Object.assign({},n),{range:r.range,allDay:g.allDay}),s=b.defs[g.defId],a=b.instances[m];if(i=s?new Fy(t,s,a):new Fy(t,g),!e(My(o,t),i))return!1}}return!0}(e,t,n,r))&&!(e.dateSelection&&!function(e,t,n,r){let i=e.eventStore,o=i.defs,s=i.instances,a=e.dateSelection,l=a.range,{selectionConfig:c}=t.getCurrentData();r&&(c=r(c));if(!mw(c.constraints,l,i,e.businessHours,t))return!1;let{selectOverlap:u}=t.options,d="function"===typeof u?u:null;for(let h in s){let e=s[h];if(Qv(l,e.range)){if(!1===c.overlap)return!1;if(d&&!d(new Fy(t,o[e.defId],e),null))return!1}}for(let h of c.allows){if(!h(My(Object.assign(Object.assign({},n),a),t),null))return!1}return!0}(e,t,n,r))}function mw(e,t,n,r,i){for(let o of e)if(!bw(vw(o,t,n,r,i),t))return!1;return!0}function vw(e,t,n,r,i){return"businessHours"===e?yw(ny(r,t,i)):"string"===typeof e?yw(gy(n,(t=>t.groupId===e))):"object"===typeof e&&e?yw(ny(e,t,i)):[]}function yw(e){let{instances:t}=e,n=[];for(let r in t)n.push(t[r].range);return n}function bw(e,t){for(let n of e)if(Yv(n,t))return!0;return!1}const ww=/^(visible|hidden)$/;class Sw extends Pv{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Mv(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:n}=e,r=t&&n,i=["fc-scroller"];return t&&(n?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),dp("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(ww.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let r=0;r<n.length;r+=1){if(n[r].getBoundingClientRect().width>t)return!0}return!1}needsYScrolling(){if(ww.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let r=0;r<n.length;r+=1){if(n[r].getBoundingClientRect().height>t)return!0}return!1}getXScrollbarWidth(){return ww.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return ww.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Ew{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(e,t)=>{let{depths:n,currentMap:r}=this,i=!1,o=!1;null!==e?(i=t in r,r[t]=e,n[t]=(n[t]||0)+1,o=!0):(n[t]-=1,n[t]||(delete r[t],delete this.callbackMap[t],i=!0)),this.masterCallback&&(i&&this.masterCallback(null,String(t)),o&&this.masterCallback(e,String(t)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=t=>{this.handleValue(t,String(e))}),t}collect(e,t,n){return bv(this.currentMap,e,t,n)}getAll(){return fv(this.currentMap)}}function Cw(e){let t=Mg(e,".fc-scrollgrid-shrink"),n=0;for(let r of t)n=Math.max(n,im(r));return Math.ceil(n)}function xw(e,t){return e.liquid&&t.liquid}function _w(e,t){return null!=t.maxHeight||xw(e,t)}function Dw(e,t,n,r){let{expandRows:i}=n;return"function"===typeof t.content?t.content(n):dp("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,dp(r?"thead":"tbody",{role:"presentation"},"function"===typeof t.rowContent?t.rowContent(n):t.rowContent))}function Tw(e,t){return pm(e,t,pv)}function kw(e,t){let n=[];for(let r of e){let e=r.span||1;for(let i=0;i<e;i+=1)n.push(dp("col",{style:{width:"shrink"===r.width?Rw(t):r.width||"",minWidth:r.minWidth||""}}))}return dp("colgroup",{},...n)}function Rw(e){return null==e?4:e}function Aw(e){for(let t of e)if("shrink"===t.width)return!0;return!1}function Iw(e,t){let n=["fc-scrollgrid",t.theme.getClass("table")];return e&&n.push("fc-scrollgrid-liquid"),n}function Nw(e,t){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${e.type}`,e.className];return t&&e.liquid&&null==e.maxHeight&&n.push("fc-scrollgrid-section-liquid"),e.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function Pw(e){return dp("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function Mw(e){let{stickyHeaderDates:t}=e;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}function Ow(e){let{stickyFooterScrollbar:t}=e;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}class jw extends Pv{constructor(){super(...arguments),this.processCols=Pm((e=>e),Tw),this.renderMicroColGroup=Pm(kw),this.scrollerRefs=new Ew,this.scrollerElRefs=new Ew(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:n}=this,r=e.sections||[],i=this.processCols(e.cols),o=this.renderMicroColGroup(i,t.shrinkWidth),s=Iw(e.liquid,n);e.collapsibleWidth&&s.push("fc-scrollgrid-collapsible");let a,l=r.length,c=0,u=[],d=[],h=[];for(;c<l&&"header"===(a=r[c]).type;)u.push(this.renderSection(a,o,!0)),c+=1;for(;c<l&&"body"===(a=r[c]).type;)d.push(this.renderSection(a,o,!1)),c+=1;for(;c<l&&"footer"===(a=r[c]).type;)h.push(this.renderSection(a,o,!0)),c+=1;let f=!hb();const p={role:"rowgroup"};return dp("table",{role:"grid",className:s.join(" "),style:{height:e.height}},Boolean(!f&&u.length)&&dp("thead",p,...u),Boolean(!f&&d.length)&&dp("tbody",p,...d),Boolean(!f&&h.length)&&dp("tfoot",p,...h),f&&dp("tbody",p,...u,...d,...h))}renderSection(e,t,n){return"outerContent"in e?dp(fp,{key:e.key},e.outerContent):dp("tr",{key:e.key,role:"presentation",className:Nw(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,n))}renderChunkTd(e,t,n,r){if("outerContent"in n)return n.outerContent;let{props:i}=this,{forceYScrollbars:o,scrollerClientWidths:s,scrollerClientHeights:a}=this.state,l=_w(i,e),c=xw(i,e),u=i.liquid?o?"scroll":l?"auto":"hidden":"visible",d=e.key,h=Dw(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:i.collapsibleWidth||void 0===s[d]?null:s[d],clientHeight:void 0!==a[d]?a[d]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return dp(r?"th":"td",{ref:n.elRef,role:"presentation"},dp("div",{className:"fc-scroller-harness"+(c?" fc-scroller-harness-liquid":"")},dp(Sw,{ref:this.scrollerRefs.createRef(d),elRef:this.scrollerElRefs.createRef(d),overflowY:u,overflowX:i.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:c,liquidIsAbsolute:!0},h)))}_handleScrollerEl(e,t){let n=function(e,t){for(let n of e)if(n.key===t)return n;return null}(this.props.sections,t);n&&Mv(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return Aw(this.props.cols)?Cw(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=Ob(),{scrollerRefs:t,scrollerElRefs:n}=this,r=!1,i={},o={};for(let s in t.currentMap){let e=t.currentMap[s];if(e&&e.needsYScrolling()){r=!0;break}}for(let s of this.props.sections){let t=s.key,a=n.currentMap[t];if(a){let n=a.parentNode;i[t]=Math.floor(n.getBoundingClientRect().width-(r?e.y:0)),o[t]=Math.floor(n.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:i,scrollerClientHeights:o}}}jw.addStateEquality({scrollerClientWidths:pv,scrollerClientHeights:pv});class Lw extends Pv{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&Vy(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{eventRange:i}=r,{ui:o}=i,s={event:new Fy(t,i.def,i.instance),view:t.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&Ky(r,t),isStartResizable:!e.disableResizing&&Xy(r,t),isEndResizable:!e.disableResizing&&Zy(r),isMirror:Boolean(e.isDragging||e.isResizing||e.isDateSelecting),isStart:Boolean(r.isStart),isEnd:Boolean(r.isEnd),isPast:Boolean(e.isPast),isFuture:Boolean(e.isFuture),isToday:Boolean(e.isToday),isSelected:Boolean(e.isSelected),isDragging:Boolean(e.isDragging),isResizing:Boolean(e.isResizing)};return dp(Fv,Object.assign({},e,{elRef:this.handleEl,elClasses:[...tb(s),...r.eventRange.ui.classNames,...e.elClasses||[]],renderProps:s,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&Vy(this.el,this.props.seg)}}class zw extends Pv{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{ui:i}=r.eventRange,o=Jy(r,n.eventTimeFormat||e.defaultTimeFormat,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return dp(Lw,Object.assign({},e,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:rb(r,t),defaultGenerator:Bw,timeText:o}),((e,t)=>dp(fp,null,dp(e,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:t.textColor}}),Boolean(t.isStartResizable)&&dp("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(t.isEndResizable)&&dp("div",{className:"fc-event-resizer fc-event-resizer-end"}))))}}function Bw(e){return dp("div",{className:"fc-event-main-frame"},e.timeText&&dp("div",{className:"fc-event-time"},e.timeText),dp("div",{className:"fc-event-title-container"},dp("div",{className:"fc-event-title fc-sticky"},e.event.title||dp(fp,null,"\xa0"))))}const Fw=e=>dp(Av.Consumer,null,(t=>{let{options:n}=t,r={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return dp(Fv,Object.assign({},e,{elTag:e.elTag||"div",renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount}))})),Uw=Km({day:"numeric"});class $w extends Pv{constructor(){super(...arguments),this.refineRenderProps=Mm(Vw)}render(){let{props:e,context:t}=this,{options:n}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return dp(Fv,Object.assign({},e,{elClasses:[...Tb(r,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":Im(e.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount}))}}function Hw(e){return Boolean(e.dayCellContent||jv("dayCellContent",e))}function Vw(e){let{date:t,dateEnv:n,dateProfile:r,isMonthStart:i}=e,o=Db(t,e.todayRange,null,r),s=e.showDayNumber?n.format(t,i?e.monthStartFormat:Uw):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(t),view:e.viewApi},o),{isMonthStart:i,dayNumberText:s}),e.extraRenderProps)}class Ww extends Pv{render(){let{props:e}=this,{seg:t}=e;return dp(Lw,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:qw,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function qw(e){let{title:t}=e.event;return t&&dp("div",{className:"fc-event-title"},e.event.title)}function Gw(e){return dp("div",{className:`fc-${e}`})}const Qw=e=>dp(Av.Consumer,null,(t=>{let{dateEnv:n,options:r}=t,{date:i}=e,o=r.weekNumberFormat||e.defaultFormat,s={num:n.computeWeekNumber(i),text:n.format(i,o),date:i};return dp(Fv,Object.assign({},e,{renderProps:s,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:Yw,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))}));function Yw(e){return e.text}class Kw extends Pv{constructor(){super(...arguments),this.state={titleId:Fg()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Mv(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=zg(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{"Escape"===e.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:n,state:r}=this,i=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return hg(dp("div",Object.assign({},n.extraAttrs,{id:n.id,className:i.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),dp("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},dp("span",{className:"fc-popover-title",id:r.titleId},n.title),dp("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),dp("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:n}=this.props,{rootEl:r}=this,i=function(e){let t=Fb(e),n=e.getBoundingClientRect();for(let r of t){let e=Sb(n,r.getBoundingClientRect());if(!e)return null;n=e}return n}(t);if(i){let o=r.getBoundingClientRect(),s=n?Ng(t,".fc-scrollgrid").getBoundingClientRect().top:i.top,a=e?i.right-o.width:i.left;s=Math.max(s,10),a=Math.min(a,document.documentElement.clientWidth-10-o.width),a=Math.max(a,10);let l=r.offsetParent.getBoundingClientRect();jg(r,{top:s-l.top,left:a-l.left})}}}class Xw extends qb{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:n}=this,{startDate:r,todayRange:i,dateProfile:o}=n,s=t.format(r,e.dayPopoverFormat);return dp($w,{elRef:this.handleRootEl,date:r,dateProfile:o,todayRange:i},((t,r,i)=>dp(Kw,{elRef:i.ref,id:n.id,title:s,extraClassNames:["fc-more-popover"].concat(i.className||[]),extraAttrs:i,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},Hw(e)&&dp(t,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children)))}queryHit(e,t,n,r){let{rootEl:i,props:o}=this;return e>=0&&e<n&&t>=0&&t<r?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:n,bottom:r},layer:1}:null}}class Zw extends Pv{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Fg()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Mv(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:n}=this,{moreLinkClick:r}=n.options,i=eS(t).start;function o(e){let{def:t,instance:r,range:i}=e.eventRange;return{event:new Fy(n,t,r),start:n.dateEnv.toDate(i.start),end:n.dateEnv.toDate(i.end),isStart:e.isStart,isEnd:e.isEnd}}"function"===typeof r&&(r=r({date:i,allDay:Boolean(t.allDayDate),allSegs:t.allSegs.map(o),hiddenSegs:t.hiddenSegs.map(o),jsEvent:e,view:n.viewApi})),r&&"popover"!==r?"string"===typeof r&&n.calendarApi.zoomTo(i,r):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return dp(Av.Consumer,null,(n=>{let{viewApi:r,options:i,calendarApi:o}=n,{moreLinkText:s}=i,{moreCnt:a}=e,l=eS(e),c="function"===typeof s?s.call(o,a):`+${a} ${s}`,u=tm(i.moreLinkHint,[a],c),d={num:a,shortText:`+${a}`,text:c,view:r};return dp(fp,null,Boolean(e.moreCnt)&&dp(Fv,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),Vg(this.handleClick)),{title:u,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:d,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:e.defaultGenerator||Jw,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},e.children),t.isPopoverOpen&&dp(Xw,{id:t.popoverId,startDate:l.start,endDate:l.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))}))}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Ng(this.linkEl,".fc-view-harness"))}}function Jw(e){return e.text}function eS(e){if(e.allDayDate)return{start:e.allDayDate,end:vm(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:tS(t),end:(n=t,n.reduce(rS).eventRange.range.end)};var n}function tS(e){return e.reduce(nS).eventRange.range.start}function nS(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function rS(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}class iS{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),void 0!==this.currentValue&&e(this.currentValue)}}class oS extends iS{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let n=!1;e.isActive?(t.set(e.id,e),n=!0):t.has(e.id)&&(t.delete(e.id),n=!0),n&&this.set(t)}}const sS=[],aS={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},lS=Object.assign(Object.assign({},aS),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(e,t)=>"day"===t?"Today":`This ${e}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:e=>`Show ${e} more event${1===e?"":"s"}`});function cS(e){let t=e.length>0?e[0].code:"en",n=sS.concat(e),r={en:lS};for(let i of n)r[i.code]=i;return{map:r,defaultCode:t}}function uS(e,t){return"object"!==typeof e||Array.isArray(e)?function(e,t){let n=[].concat(e||[]),r=function(e,t){for(let n=0;n<e.length;n+=1){let r=e[n].toLocaleLowerCase().split("-");for(let e=r.length;e>0;e-=1){let n=r.slice(0,e).join("-");if(t[n])return t[n]}}return null}(n,t)||lS;return dS(e,n,r)}(e,t):dS(e.code,[e.code],e)}function dS(e,t,n){let r=cv([aS,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:e,codes:t,week:i,simpleNumberFormat:new Intl.NumberFormat(e),options:r}}function hS(e){return{id:Gg(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function fS(){let e,t=[],n=[];return(r,i)=>(e&&pm(r,t)&&pm(i,n)||(e=function(e,t){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(e){for(let s of e){const e=s.name,a=n[e];void 0===a?(n[e]=s.id,i(s.deps),o=s,r={premiumReleaseDate:pS((t=r).premiumReleaseDate,o.premiumReleaseDate),reducers:t.reducers.concat(o.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(o.isLoadingFuncs),contextInit:t.contextInit.concat(o.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),o.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(o.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),o.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(o.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(o.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(o.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(o.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(o.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(o.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),o.views),viewPropsTransformers:t.viewPropsTransformers.concat(o.viewPropsTransformers),isPropsValid:o.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(o.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(o.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(o.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(o.calendarInteractions),componentInteractions:t.componentInteractions.concat(o.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),o.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(o.eventSourceDefs),cmdFormatter:o.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(o.recurringTypes),namedTimeZonedImpl:o.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||o.initialView,elementDraggingImpl:t.elementDraggingImpl||o.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),o.optionChangeHandlers),scrollGridImpl:o.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),o.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),o.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),o.propSetHandlers)}):a!==s.id&&console.warn(`Duplicate plugin '${e}'`)}var t,o}return e&&i(e),i(t),r}(r,i)),t=r,n=i,e)}function pS(e,t){return void 0===e?t:void 0===t?e:new Date(Math.max(e.valueOf(),t.valueOf()))}class gS extends _v{}function mS(e,t,n,r){if(t[e])return t[e];let i=function(e,t,n,r){let i=n[e],o=r[e],s=e=>i&&null!==i[e]?i[e]:o&&null!==o[e]?o[e]:null,a=s("component"),l=s("superType"),c=null;if(l){if(l===e)throw new Error("Can't have a custom view type that references itself");c=mS(l,t,n,r)}!a&&c&&(a=c.component);if(!a)return null;return{type:e,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),o?o.rawOptions:{})}}(e,t,n,r);return i&&(t[e]=i),i}function vS(e){return dv(e,yS)}function yS(e){let t="function"===typeof e?{component:e}:e,{component:n}=t;return t.content?n=bS(t):!n||n.prototype instanceof Pv||(n=bS(Object.assign(Object.assign({},t),{content:n}))),{superType:t.type,component:n,rawOptions:t}}function bS(e){return t=>dp(Av.Consumer,null,(n=>dp(Fv,{elTag:"div",elClasses:Hv(n.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:e.content,classNameGenerator:e.classNames,didMount:e.didMount,willUnmount:e.willUnmount})))}function wS(e,t,n,r){let i=vS(e),o=vS(t.views),s=function(e,t){let n,r={};for(n in e)mS(n,r,e,t);for(n in t)mS(n,r,e,t);return r}(i,o);return dv(s,(e=>function(e,t,n,r,i){let o=e.overrides.duration||e.defaults.duration||r.duration||n.duration,s=null,a="",l="",c={};if(o&&(s=function(e){let t=JSON.stringify(e),n=SS[t];void 0===n&&(n=am(e),SS[t]=n);return n}(o),s)){let e=fm(s);a=e.unit,1===e.value&&(l=a,c=t[a]?t[a].rawOptions:{})}let u=t=>{let n=t.buttonText||{},r=e.defaults.buttonTextKey;return null!=r&&null!=n[r]?n[r]:null!=n[e.type]?n[e.type]:null!=n[l]?n[l]:null},d=t=>{let n=t.buttonHints||{},r=e.defaults.buttonTextKey;return null!=r&&null!=n[r]?n[r]:null!=n[e.type]?n[e.type]:null!=n[l]?n[l]:null};return{type:e.type,component:e.component,duration:s,durationUnit:a,singleUnit:l,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},c),e.overrides),buttonTextOverride:u(r)||u(n)||e.overrides.buttonText,buttonTextDefault:u(i)||e.defaults.buttonText||u(Zm)||e.type,buttonTitleOverride:d(r)||d(n)||e.overrides.buttonHint,buttonTitleDefault:d(i)||e.defaults.buttonHint||d(Zm)}}(e,o,t,n,r)))}gS.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},gS.prototype.baseIconClass="fc-icon",gS.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},gS.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},gS.prototype.iconOverrideOption="buttonIcons",gS.prototype.iconOverrideCustomButtonOption="icon",gS.prototype.iconOverridePrefix="fc-icon-";let SS={};function ES(e,t,n){let r=t?t.activeRange:null;return _S({},function(e,t){let n=xy(t),r=[].concat(e.eventSources||[]),i=[];e.initialEvents&&r.unshift(e.initialEvents);e.events&&r.unshift(e.events);for(let o of r){let e=Cy(o,t,n);e&&i.push(e)}return i}(e,n),r,n)}function CS(e,t,n,r){let i=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return _S(e,t.sources,i,r);case"REMOVE_EVENT_SOURCE":return o=e,s=t.sourceId,uv(o,(e=>e.sourceId!==s));case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?DS(e,i,r):e;case"FETCH_EVENT_SOURCES":return TS(e,t.sourceIds?hv(t.sourceIds):RS(e,r),i,t.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function(e,t,n,r){let i=e[t];if(i&&n===i.latestFetchId)return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})});return e}(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}var o,s}function xS(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function _S(e,t,n,r){let i={};for(let o of t)i[o.sourceId]=o;return n&&(i=DS(i,n,r)),Object.assign(Object.assign({},e),i)}function DS(e,t,n){return TS(e,uv(e,(e=>function(e,t,n){if(!AS(e,n))return!e.latestFetchId;return!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end}(e,t,n))),t,!1,n)}function TS(e,t,n,r,i){let o={};for(let s in e){let a=e[s];t[s]?o[s]=kS(a,n,r,i):o[s]=a}return o}function kS(e,t,n,r){let{options:i,calendarApi:o}=r,s=r.pluginHooks.eventSourceDefs[e.sourceDefId],a=Gg();return s.fetch({eventSource:e,range:t,isRefetch:n,context:r},(n=>{let{rawEvents:s}=n;i.eventSourceSuccess&&(s=i.eventSourceSuccess.call(o,s,n.response)||s),e.success&&(s=e.success.call(o,s,n.response)||s),r.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:a,fetchRange:t,rawEvents:s})}),(n=>{let s=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(o,n),s=!0),e.failure&&(e.failure(n),s=!0),s||console.warn(n.message,n),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:a,fetchRange:t,error:n})})),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:a})}function RS(e,t){return uv(e,(e=>AS(e,t)))}function AS(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function IS(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function NS(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function PS(e,t){let n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function MS(e,t){let n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function OS(e,t,n,r,i){return{header:e.headerToolbar?jS(e.headerToolbar,e,t,n,r,i):null,footer:e.footerToolbar?jS(e.footerToolbar,e,t,n,r,i):null}}function jS(e,t,n,r,i,o){let s={},a=[],l=!1;for(let c in e){let u=LS(e[c],t,n,r,i,o);s[c]=u.widgets,a.push(...u.viewsWithButtons),l=l||u.hasTitle}return{sectionWidgets:s,viewsWithButtons:a,hasTitle:l}}function LS(e,t,n,r,i,o){let s="rtl"===t.direction,a=t.customButtons||{},l=n.buttonText||{},c=t.buttonText||{},u=n.buttonHints||{},d=t.buttonHints||{},h=e?e.split(" "):[],f=[],p=!1;return{widgets:h.map((e=>e.split(",").map((e=>{if("title"===e)return p=!0,{buttonName:e};let n,h,g,m,v,y;if(n=a[e])g=e=>{n.click&&n.click.call(e.target,e,e.target)},(m=r.getCustomButtonIconClass(n))||(m=r.getIconClass(e,s))||(v=n.text),y=n.hint||n.text;else if(h=i[e]){f.push(e),g=()=>{o.changeView(e)},(v=h.buttonTextOverride)||(m=r.getIconClass(e,s))||(v=h.buttonTextDefault);let n=h.buttonTextOverride||h.buttonTextDefault;y=tm(h.buttonTitleOverride||h.buttonTitleDefault||t.viewHint,[n,e],n)}else if(o[e])if(g=()=>{o[e]()},(v=l[e])||(m=r.getIconClass(e,s))||(v=c[e]),"prevYear"===e||"nextYear"===e){let t="prevYear"===e?"prev":"next";y=tm(u[t]||d[t],[c.year||"year","year"],c[e])}else y=t=>tm(u[e]||d[e],[c[t]||t,t],c[e]);return{buttonName:e,buttonClick:g,buttonIcon:m,buttonText:v,buttonHint:y}})))),viewsWithButtons:f,hasTitle:p}}class zS{constructor(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let BS={ignoreRange:!0,parseMeta:e=>Array.isArray(e.events)?e.events:null,fetch(e,t){t({rawEvents:e.eventSource.meta})}};const FS=hS({name:"array-event-source",eventSourceDefs:[BS]});let US={parseMeta:e=>"function"===typeof e.events?e.events:null,fetch(e,t,n){const{dateEnv:r}=e.context;lb(e.eventSource.meta.bind(null,sb(e.range,r)),(e=>t({rawEvents:e})),n)}};const $S=hS({name:"func-event-source",eventSourceDefs:[US]}),HS={method:String,extraParams:av,startParam:String,endParam:String,timeZoneParam:String};let VS={parseMeta:e=>!e.url||"json"!==e.format&&e.format?null:{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam},fetch(e,t,n){const{meta:r}=e.eventSource,i=function(e,t,n){let r,i,o,s,{dateEnv:a,options:l}=n,c={};r=e.startParam,null==r&&(r=l.startParam);i=e.endParam,null==i&&(i=l.endParam);o=e.timeZoneParam,null==o&&(o=l.timeZoneParam);s="function"===typeof e.extraParams?e.extraParams():e.extraParams||{};Object.assign(c,s),c[r]=a.formatIso(t.start),c[i]=a.formatIso(t.end),"local"!==a.timeZone&&(c[o]=a.timeZone);return c}(r,e.range,e.context);ub(r.method,r.url,i).then((e=>{let[n,r]=e;t({rawEvents:n,response:r})}),n)}};const WS=hS({name:"json-event-source",eventSourceRefiners:HS,eventSourceDefs:[VS]});const qS={daysOfWeek:av,startTime:am,endTime:am,duration:am,startRecur:av,endRecur:av};let GS={parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){let i,o={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null,dateEnv:t};return e.duration&&(i=e.duration),!i&&e.startTime&&e.endTime&&(n=e.endTime,r=e.startTime,i={years:n.years-r.years,months:n.months-r.months,days:n.days-r.days,milliseconds:n.milliseconds-r.milliseconds}),{allDayGuess:Boolean(!e.startTime&&!e.endTime),duration:i,typeData:o}}var n,r;return null},expand(e,t,n){let r=qv(t,{start:e.startRecur,end:e.endRecur});return r?function(e,t,n,r,i){let o=e?hv(e):null,s=Sm(i.start),a=i.end,l=[];for(;s<a;){let e;o&&!o[s.getUTCDay()]||(e=t?r.add(s,t):s,l.push(r.createMarker(n.toDate(e)))),s=vm(s,1)}return l}(e.daysOfWeek,e.startTime,e.dateEnv,n,r):[]}};function QS(e,t){let n=fv(t.getCurrentData().eventSources);if(1===n.length&&1===e.length&&Array.isArray(n[0]._raw)&&Array.isArray(e[0]))return void t.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:e[0]});let r=[];for(let i of e){let e=!1;for(let t=0;t<n.length;t+=1)if(n[t]._raw===i){n.splice(t,1),e=!0;break}e||r.push(i)}for(let i of n)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)t.calendarApi.addEventSource(i)}const YS=[FS,$S,WS,hS({name:"simple-recurring-event",recurringTypes:[GS],eventRefiners:qS}),hS({name:"change-handler",optionChangeHandlers:{events(e,t){QS([e],t)},eventSources:QS}}),hS({name:"misc",isLoadingFuncs:[e=>xS(e.eventSources)],propSetHandlers:{dateProfile:function(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},sb(e.activeRange,t.dateEnv)),{view:t.viewApi}))},eventStore:function(e,t){let{emitter:n}=t;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",$y(e,t))}}})];class KS{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Ag(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t,n=[];for(;t=e.shift();)this.runTask(t),n.push(t);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function XS(e,t,n){let r;return r=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange,n.formatRange(r.start,r.end,Km(t.titleFormat||function(e){let{currentRangeUnit:t}=e;if("year"===t)return{year:"numeric"};if("month"===t)return{year:"numeric",month:"long"};let n=wm(e.currentRange.start,e.currentRange.end);if(null!==n&&n>1)return{year:"numeric",month:"short",day:"numeric"};return{year:"numeric",month:"long",day:"numeric"}}(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}class ZS{constructor(){this.resetListeners=new Set}handleInput(e,t){const n=this.dateEnv;if(e!==n&&("function"===typeof t?this.nowFn=t:n||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(const r of this.resetListeners.values())r()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class JS{constructor(e){this.computeCurrentViewData=Pm(this._computeCurrentViewData),this.organizeRawLocales=Pm(cS),this.buildLocale=Pm(uS),this.buildPluginHooks=fS(),this.buildDateEnv=Pm(eE),this.buildTheme=Pm(tE),this.parseToolbars=Pm(OS),this.buildViewSpecs=Pm(wS),this.buildDateProfileGenerator=Mm(nE),this.buildViewApi=Pm(rE),this.buildViewUiProps=Mm(sE),this.buildEventUiBySource=Pm(iE,pv),this.buildEventUiBases=Pm(oE),this.parseContextBusinessHours=Mm(lE),this.buildTitle=Pm(XS),this.nowManager=new ZS,this.emitter=new Ay,this.actionRunner=new KS(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=e=>{this.actionRunner.request(e)},this.props=e,this.actionRunner.pause(),this.nowManager=new ZS;let t={},n=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=n.calendarOptions.initialView||n.pluginHooks.initialView,i=this.computeCurrentViewData(r,n,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(i.options);let o={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s=function(e,t,n){let r=e.initialDate;return null!=r?t.createMarker(r):n.getDateMarker()}(n.calendarOptions,n.dateEnv,this.nowManager),a=i.dateProfileGenerator.build(s);Kv(a.activeRange,s)||(s=a.currentRange.start);for(let d of n.pluginHooks.contextInit)d(o);let l=ES(n.calendarOptions,a,o),c={dynamicOptionOverrides:t,currentViewType:r,currentDate:s,dateProfile:a,businessHours:this.parseContextBusinessHours(o),eventSources:l,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},u=Object.assign(Object.assign({},o),c);for(let d of n.pluginHooks.reducers)Object.assign(c,d(null,null,u));aE(c,o)&&this.emitter.trigger("loading",!0),this.state=c,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:n}=this;void 0===t?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(void 0===t||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:n,emitter:r}=this,i=function(e,t){return"SET_OPTION"===t.type?Object.assign(Object.assign({},e),{[t.optionName]:t.rawOptionValue}):e}(n.dynamicOptionOverrides,e),o=this.computeOptionsData(t.optionOverrides,i,t.calendarApi),s=function(e,t){"CHANGE_VIEW_TYPE"===t.type&&(e=t.viewType);return e}(n.currentViewType,e),a=this.computeCurrentViewData(s,o,t.optionOverrides,i);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(a.options);let l={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:c,dateProfile:u}=n;this.data&&this.data.dateProfileGenerator!==a.dateProfileGenerator&&(u=a.dateProfileGenerator.build(c)),c=function(e,t){return"CHANGE_DATE"===t.type?t.dateMarker:e}(c,e),u=function(e,t,n,r){let i;switch(t.type){case"CHANGE_VIEW_TYPE":return r.build(t.dateMarker||n);case"CHANGE_DATE":return r.build(t.dateMarker);case"PREV":if(i=r.buildPrev(e,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(e,n),i.isValid)return i}return e}(u,e,c,a.dateProfileGenerator),"PREV"!==e.type&&"NEXT"!==e.type&&Kv(u.currentRange,c)||(c=u.currentRange.start);let d=CS(n.eventSources,e,u,l),h=_y(n.eventStore,e,d,u,l),f=xS(d)&&!a.options.progressiveEventRendering&&n.renderableEventStore||h,{eventUiSingleBase:p,selectionConfig:g}=this.buildViewUiProps(l),m=this.buildEventUiBySource(d),v={dynamicOptionOverrides:i,currentViewType:s,currentDate:c,dateProfile:u,eventSources:d,eventStore:h,renderableEventStore:f,selectionConfig:g,eventUiBases:this.buildEventUiBases(f.defs,p,m),businessHours:this.parseContextBusinessHours(l),dateSelection:IS(n.dateSelection,e),eventSelection:NS(n.eventSelection,e),eventDrag:PS(n.eventDrag,e),eventResize:MS(n.eventResize,e)},y=Object.assign(Object.assign({},l),v);for(let S of o.pluginHooks.reducers)Object.assign(v,S(n,e,y));let b=aE(n,l),w=aE(v,l);!b&&w?r.trigger("loading",!0):b&&!w&&r.trigger("loading",!1),this.state=v,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,n=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),i=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,i.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),i),t),s=r.pluginHooks.optionChangeHandlers,a=n&&n.calendarOptions,l=r.calendarOptions;if(a&&a!==l){a.timeZone!==l.timeZone&&(t.eventSources=o.eventSources=function(e,t,n){let r=t?t.activeRange:null;return TS(e,RS(e,n),r,!0,n)}(o.eventSources,t.dateProfile,o),t.eventStore=o.eventStore=ky(o.eventStore,n.dateEnv,o.dateEnv),t.renderableEventStore=o.renderableEventStore=ky(o.renderableEventStore,n.dateEnv,o.dateEnv));for(let e in s)-1===this.optionsForHandling.indexOf(e)&&a[e]===l[e]||s[e](l[e],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,t,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:i,localeDefaults:o,availableLocaleData:s,extra:a}=this.processRawCalendarOptions(e,t);cE(a);let l=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,i,s,r.defaultRangeSeparator),c=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),u=this.buildTheme(r,i),d=this.parseToolbars(r,this.stableOptionOverrides,u,c,n);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:i,dateEnv:l,viewSpecs:c,theme:u,toolbarConfig:d,localeDefaults:o,availableRawLocales:s.map}}processRawCalendarOptions(e,t){let{locales:n,locale:r}=ov([Zm,e,t]),i=this.organizeRawLocales(n),o=i.map,s=this.buildLocale(r||i.defaultCode,o).options,a=this.buildPluginHooks(e.plugins||[],YS),l=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Xm),Jm),ev),a.listenerRefiners),a.optionRefiners),c={},u=ov([Zm,s,e,t]),d={},h=this.currentCalendarOptionsInput,f=this.currentCalendarOptionsRefined,p=!1;for(let g in u)-1===this.optionsForRefining.indexOf(g)&&(u[g]===h[g]||tv[g]&&g in h&&tv[g](h[g],u[g]))?d[g]=f[g]:l[g]?(d[g]=l[g](u[g]),p=!0):c[g]=h[g];return p&&(this.currentCalendarOptionsInput=u,this.currentCalendarOptionsRefined=d,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:a,availableLocaleData:i,localeDefaults:s,extra:c}}_computeCurrentViewData(e,t,n,r){let i=t.viewSpecs[e];if(!i)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:s}=this.processRawViewOptions(i,t.pluginHooks,t.localeDefaults,n,r);return cE(s),this.nowManager.handleInput(t.dateEnv,o.now),{viewSpec:i,options:o,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),viewApi:this.buildViewApi(e,this.getCurrentData,t.dateEnv)}}processRawViewOptions(e,t,n,r,i){let o=ov([Zm,e.optionDefaults,n,r,e.optionOverrides,i]),s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Xm),Jm),ev),iv),t.listenerRefiners),t.optionRefiners),a={},l=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,u=!1,d={};for(let h in o)o[h]===l[h]||tv[h]&&tv[h](o[h],l[h])?a[h]=c[h]:(o[h]===this.currentCalendarOptionsInput[h]||tv[h]&&tv[h](o[h],this.currentCalendarOptionsInput[h])?h in this.currentCalendarOptionsRefined&&(a[h]=this.currentCalendarOptionsRefined[h]):s[h]?a[h]=s[h](o[h]):d[h]=o[h],u=!0);return u&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=a),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:d}}}function eE(e,t,n,r,i,o,s,a){let l=uS(t||s.defaultCode,s.map);return new xv({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:o.cmdFormatter,defaultSeparator:a})}function tE(e,t){return new(t.themeClasses[e.themeSystem]||gS)(e)}function nE(e){return new(e.dateProfileGeneratorClass||ey)(e)}function rE(e,t,n){return new zS(e,t,n)}function iE(e){return dv(e,(e=>e.ui))}function oE(e,t,n){let r={"":t};for(let i in e){let t=e[i];t.sourceId&&n[t.sourceId]&&(r[i]=n[t.sourceId])}return r}function sE(e){let{options:t}=e;return{eventUiSingleBase:by({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:"boolean"===typeof t.eventOverlap?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:by({constraint:t.selectConstraint,overlap:"boolean"===typeof t.selectOverlap?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function aE(e,t){for(let n of t.pluginHooks.isLoadingFuncs)if(n(e))return!0;return!1}function lE(e){return Ny(e.options.businessHours,e)}function cE(e,t){for(let n in e)console.warn(`Unknown option '${n}'`+(t?` for view '${t}'`:""))}class uE extends Pv{render(){return dp("div",{className:"fc-toolbar-chunk"},...this.props.widgetGroups.map((e=>this.renderWidgetGroup(e))))}renderWidgetGroup(e){let{props:t}=this,{theme:n}=this.context,r=[],i=!0;for(let o of e){let{buttonName:e,buttonClick:s,buttonText:a,buttonIcon:l,buttonHint:c}=o;if("title"===e)i=!1,r.push(dp("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let i=e===t.activeButton,o=!t.isTodayEnabled&&"today"===e||!t.isPrevEnabled&&"prev"===e||!t.isNextEnabled&&"next"===e,u=[`fc-${e}-button`,n.getClass("button")];i&&u.push(n.getClass("buttonActive")),r.push(dp("button",{type:"button",title:"function"===typeof c?c(t.navUnit):c,disabled:o,"aria-pressed":i,className:u.join(" "),onClick:s},a||(l?dp("span",{className:l,role:"img"}):"")))}}if(r.length>1){return dp("div",{className:i&&n.getClass("buttonGroup")||""},...r)}return r[0]}}class dE extends Pv{render(){let e,t,{model:n,extraClassName:r}=this.props,i=!1,o=n.sectionWidgets,s=o.center;return o.left?(i=!0,e=o.left):e=o.start,o.right?(i=!0,t=o.right):t=o.end,dp("div",{className:[r||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",e||[]),this.renderSection("center",s||[]),this.renderSection("end",t||[]))}renderSection(e,t){let{props:n}=this;return dp(uE,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class hE extends Pv{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Mv(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:n}=e,r=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",o="";return n?null!==t.availableWidth?i=t.availableWidth/n:o=1/n*100+"%":i=e.height||"",dp("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:i,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class fE extends pb{constructor(e){super(e),this.handleSegClick=(e,t)=>{let{component:n}=this,{context:r}=n,i=Wy(t);if(i&&n.isValidSegDownEl(e.target)){let o=Ng(e.target,".fc-event-forced-url"),s=o?o.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:t,event:new Fy(n.context,i.eventRange.def,i.eventRange.instance),jsEvent:e,view:r.viewApi}),s&&!e.defaultPrevented&&(window.location.href=s)}},this.destroy=$g(e.el,"click",".fc-event",this.handleSegClick)}}class pE extends pb{constructor(e){super(e),this.handleEventElRemove=e=>{e===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(e,t)=>{Wy(t)&&(this.currentSegEl=t,this.triggerEvent("eventMouseEnter",e,t))},this.handleSegLeave=(e,t)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",e,t))},this.removeHoverListeners=function(e,t,n,r){let i;return $g(e,"mouseover",t,((e,t)=>{if(t!==i){i=t,n(e,t);let o=e=>{i=null,r(e,t),t.removeEventListener("mouseleave",o)};t.addEventListener("mouseleave",o)}}))}(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){let{component:r}=this,{context:i}=r,o=Wy(n);t&&!r.isValidSegDownEl(t.target)||i.emitter.trigger(e,{el:n,event:new Fy(i,o.eventRange.def,o.eventRange.instance),jsEvent:t,view:i.viewApi})}}class gE extends Nv{constructor(){super(...arguments),this.buildViewContext=Pm(Iv),this.buildViewPropTransformers=Pm(vE),this.buildToolbarProps=Pm(mE),this.headerRef={current:null},this.footerRef={current:null},this.interactionsStore={},this.state={viewLabelId:Fg()},this.registerInteractiveComponent=(e,t)=>{let n=function(e,t){return{component:e,el:t.el,useEventCenter:null==t.useEventCenter||t.useEventCenter,isHitComboAllowed:t.isHitComboAllowed||null}}(e,t),r=[fE,pE].concat(this.props.pluginHooks.componentInteractions).map((e=>new e(n)));this.interactionsStore[e.uid]=r,mb[e.uid]=n},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let e of t)e.destroy();delete this.interactionsStore[e.uid]}delete mb[e.uid]},this.resizeRunner=new Ag((()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})})),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let e,{props:t}=this,{toolbarConfig:n,options:r}=t,i=!1,o="";t.isHeightAuto||t.forPrint?o="":null!=r.height?i=!0:null!=r.contentHeight?o=r.contentHeight:e=Math.max(r.aspectRatio,.5);let s=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.nowManager,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),a=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return dp(Av.Provider,{value:s},dp(vb,{unit:"day"},(r=>{let s=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,r,t.viewTitle);return dp(fp,null,n.header&&dp(dE,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:a},s)),dp(hE,{liquid:i,height:o,aspectRatio:e,labeledById:a},this.renderView(t),this.buildAppendContent()),n.footer&&dp(dE,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},s)))})))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map((t=>new t(e))),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let n in t)t[n](e[n],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:n}=t.pluginHooks;for(let r in n)t[r]!==e[r]&&n[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this;return dp(fp,{},...e.pluginHooks.viewContainerAppends.map((t=>t(e))))}renderView(e){let{pluginHooks:t}=e,{viewSpec:n}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},i=this.buildViewPropTransformers(t.viewPropsTransformers);for(let o of i)Object.assign(r,o.transform(r,e));return dp(n.component,Object.assign({},r))}}function mE(e,t,n,r,i,o){let s=n.build(i,void 0,!1),a=n.buildPrev(t,r,!1),l=n.buildNext(t,r,!1);return{title:o,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:s.isValid&&!Kv(t.currentRange,i),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function vE(e){return e.map((e=>new e))}class yE extends bb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=e=>{switch(e.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=e=>{this.currentData=e,this.renderRunner.request(e.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:e}=this;Dv((()=>{Op(dp(fb,{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},((t,n,r,i)=>(this.setClassNames(t),this.setHeight(n),dp(Bv.Provider,{value:this.customContentRenderId},dp(gE,Object.assign({isHeightAuto:r,forPrint:i},e)))))),this.el)}))}else this.isRendered&&(this.isRendered=!1,Op(null,this.el),this.setClassNames([]),this.setHeight(""))},function(e){e.isConnected&&e.getRootNode&&Tg(e.getRootNode())}(e),this.el=e,this.renderRunner=new Ag(this.handleRenderRequest),new JS({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Dv((()=>{super.updateSize()}))}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!pm(e,this.currentClassNames)){let{classList:t}=this.el;for(let e of this.currentClassNames)t.remove(e);for(let n of e)t.add(n);this.currentClassNames=e}}setHeight(e){Lg(this.el,"height",e)}}const bE=parseInt(String(i.version).split(".")[0])<18;class wE extends i.Component{constructor(){super(...arguments),this.elRef=(0,i.createRef)(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame((()=>{this.doResize()})))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(i.createElement(SE,{key:t.id,customRendering:t}));return i.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new oS;let t;this.handleCustomRendering=e.handle.bind(e),this.calendar=new yE(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",(()=>{(0,a.flushSync)((()=>{}))})),e.subscribe((e=>{const n=Date.now(),r=!t;(bE||r||this.isUpdating||this.isUnmounting||n-t<100?EE:a.flushSync)((()=>{this.setState({customRenderingMap:e},(()=>{t=n,r?this.doResize():this.requestResize()}))}))}))}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){void 0!==this.resizeId&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}wE.act=EE;class SE extends i.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,n="function"===typeof t?t(e.renderProps):t;return(0,a.createPortal)(n,e.containerEl)}}function EE(e){e()}class CE extends qb{constructor(){super(...arguments),this.headerElRef={current:null}}renderSimpleLayout(e,t){let{props:n,context:r}=this,i=[],o=Mw(r.options);return e&&i.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),i.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),dp($v,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},dp(jw,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:i}))}renderHScrollLayout(e,t,n,r){let i=this.context.pluginHooks.scrollGridImpl;if(!i)throw new Error("No ScrollGrid implementation");let{props:o,context:s}=this,a=!o.forPrint&&Mw(s.options),l=!o.forPrint&&Ow(s.options),c=[];return e&&c.push({type:"header",key:"header",isSticky:a,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),c.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),l&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Pw}]}),dp($v,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},dp(i,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:n,minWidth:r}]}],sections:c}))}}function xE(e,t){let n=[];for(let r=0;r<t;r+=1)n[r]=[];for(let r of e)n[r.row].push(r);return n}function _E(e,t){let n=[];for(let r=0;r<t;r+=1)n[r]=[];for(let r of e)n[r.firstCol].push(r);return n}function DE(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)n[t.row].segs.push(t)}else for(let r=0;r<t;r+=1)n[r]=null;return n}const TE=Km({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function kE(e){let{display:t}=e.eventRange.ui;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class RE extends Pv{render(){let{props:e}=this;return dp(zw,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:TE,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class AE extends Pv{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,i=Jy(r,n.eventTimeFormat||TE,t,!0,e.defaultDisplayEventEnd);return dp(Lw,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:rb(e.seg,t),defaultGenerator:IE,timeText:i,isResizing:!1,isDateSelecting:!1}))}}function IE(e){return dp(fp,null,dp("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&dp("div",{className:"fc-event-time"},e.timeText),dp("div",{className:"fc-event-title"},e.event.title||dp(fp,null,"\xa0")))}class NE extends Pv{constructor(){super(...arguments),this.compileSegs=Pm(PE)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return dp(Zw,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let n=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return dp(fp,null,t.map((t=>{let r=t.eventRange.instance.instanceId;return dp("div",{className:"fc-daygrid-event-harness",key:r,style:{visibility:n[r]?"hidden":""}},kE(t)?dp(AE,Object.assign({seg:t,isDragging:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},eb(t,e.todayRange))):dp(RE,Object.assign({seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},eb(t,e.todayRange))))})))}})}}function PE(e){let t=[],n=[];for(let r of e)t.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:t,invisibleSegs:n}}const ME=Km({week:"narrow"});class OE extends qb{constructor(){super(...arguments),this.rootElRef={current:null},this.state={dayNumberId:Fg()},this.handleRootEl=e=>{Mv(this.rootElRef,e),Mv(this.props.elRef,e)}}render(){let{context:e,props:t,state:n,rootElRef:r}=this,{options:i,dateEnv:o}=e,{date:s,dateProfile:a}=t;const l=t.showDayNumber&&function(e,t,n){const{start:r,end:i}=t,o=ym(i,-1),s=n.getYear(r),a=n.getMonth(r),l=n.getYear(o),c=n.getMonth(o);return!(s===l&&a===c)&&Boolean(e.valueOf()===r.valueOf()||1===n.getDay(e)&&e.valueOf()<i.valueOf())}(s,a.currentRange,o);return dp($w,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:jE,date:s,dateProfile:a,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:l,extraRenderProps:t.extraRenderProps},((o,a)=>dp("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&dp(Qw,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Ib(e,s,"week"),date:s,defaultFormat:ME}),!a.isDisabled&&(t.showDayNumber||Hw(i)||t.forceDayTop)?dp("div",{className:"fc-daygrid-day-top"},dp(o,{elTag:"a",elClasses:["fc-daygrid-day-number",l&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Ib(e,s)),{id:n.dayNumberId})})):t.showDayNumber?dp("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},dp("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,dp("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,dp("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},dp(NE,{allDayDate:s,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),dp("div",{className:"fc-daygrid-day-bg"},t.bgContent))))}}function jE(e){return e.dayNumberText||dp(fp,null,"\xa0")}function LE(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function zE(e){return LE(e)+":"+e.lastCol}function BE(e,t,n,r,i,o,s){let a=new UE((t=>{let n=e[t.index].eventRange.instance.instanceId+":"+t.span.start+":"+(t.span.end-1);return i[n]||1}));a.allowReslicing=!0,a.strictOrder=r,!0===t||!0===n?(a.maxCoord=o,a.hiddenConsumes=!0):"number"===typeof t?a.maxStackCnt=t:"number"===typeof n&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],c=[];for(let v=0;v<e.length;v+=1){let t=e[v],n=zE(t);null!=i[n]?l.push({index:v,span:{start:t.firstCol,end:t.lastCol+1}}):c.push(t)}let u=a.addSegs(l),d=a.toRects(),{singleColPlacements:h,multiColPlacements:f,leftoverMargins:p}=function(e,t,n){let r=function(e,t){let n=[];for(let r=0;r<t;r+=1)n.push([]);for(let r of e)for(let e=r.span.start;e<r.span.end;e+=1)n[e].push(r);return n}(e,n.length),i=[],o=[],s=[];for(let a=0;a<n.length;a+=1){let e=r[a],l=[],c=0,u=0;for(let r of e){let e=t[r.index];l.push({seg:FE(e,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:r.levelCoord-c}),c=r.levelCoord+r.thickness}let d=[];c=0,u=0;for(let r of e){let e=t[r.index],i=r.span.end-r.span.start>1,o=r.span.start===a;u+=r.levelCoord-c,c=r.levelCoord+r.thickness,i?(u+=r.thickness,o&&d.push({seg:FE(e,r.span.start,r.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:r.levelCoord,marginTop:0})):o&&(d.push({seg:FE(e,r.span.start,r.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:u}),u=0)}i.push(l),o.push(d),s.push(u)}return{singleColPlacements:i,multiColPlacements:o,leftoverMargins:s}}(d,e,s),g=[],m=[];for(let v of c){f[v.firstCol].push({seg:v,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=v.firstCol;e<=v.lastCol;e+=1)h[e].push({seg:FE(v,e,e+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let v=0;v<s.length;v+=1)g.push(0);for(let v of u){let t=e[v.index],n=v.span;f[n.start].push({seg:FE(t,n.start,n.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=n.start;e<n.end;e+=1)g[e]+=1,h[e].push({seg:FE(t,e,e+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let v=0;v<s.length;v+=1)m.push(p[v]);return{singleColPlacements:h,multiColPlacements:f,moreCnts:g,moreMarginTops:m}}function FE(e,t,n,r){if(e.firstCol===t&&e.lastCol===n-1)return e;let i=e.eventRange,o=i.range,s=qv(o,{start:r[t].date,end:vm(r[n-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:s},isStart:e.isStart&&s.start.valueOf()===o.start.valueOf(),isEnd:e.isEnd&&s.end.valueOf()===o.end.valueOf()})}class UE extends Gb{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:n}=this,r=e=>!this.forceHidden[Yb(e)];for(let i=0;i<n.length;i+=1)n[i]=n[i].filter(r);return t}handleInvalidInsertion(e,t,n){const{entriesByLevel:r,forceHidden:i}=this,{touchingEntry:o,touchingLevel:s,touchingLateral:a}=e;if(this.hiddenConsumes&&o){const e=Yb(o);if(!i[e])if(this.allowReslicing){const e=Object.assign(Object.assign({},o),{span:Kb(o.span,t.span)});i[Yb(e)]=!0,r[s][a]=e,n.push(e),this.splitEntry(o,t,n)}else i[e]=!0,n.push(o)}super.handleInvalidInsertion(e,t,n)}}class $E extends qb{constructor(){super(...arguments),this.cellElRefs=new Ew,this.frameElRefs=new Ew,this.fgElRefs=new Ew,this.segHarnessRefs=new Ew,this.rootElRef={current:null},this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:n}=this,{options:r}=n,i=e.cells.length,o=_E(e.businessHourSegs,i),s=_E(e.bgEventSegs,i),a=_E(this.getHighlightSegs(),i),l=_E(this.getMirrorSegs(),i),{singleColPlacements:c,multiColPlacements:u,moreCnts:d,moreMarginTops:h}=BE(Qy(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),f=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return dp("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map(((t,n)=>{let r=this.renderFgSegs(n,e.forPrint?c[n]:u[n],e.todayRange,f),i=this.renderFgSegs(n,function(e,t){if(!e.length)return[];let n=function(e){let t={};for(let n of e)for(let e of n)t[e.seg.eventRange.instance.instanceId]=e.absoluteTop;return t}(t);return e.map((e=>({seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:n[e.eventRange.instance.instanceId],marginTop:0})))}(l[n],u),e.todayRange,{},Boolean(e.eventDrag),Boolean(e.eventResize),!1);return dp(OE,{key:t.key,elRef:this.cellElRefs.createRef(t.key),innerElRef:this.frameElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&0===n,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:d[n],moreMarginTop:h[n],singlePlacements:c[n],fgContentElRef:this.fgElRefs.createRef(t.key),fgContent:dp(fp,null,dp(fp,null,r),dp(fp,null,i)),bgContent:dp(fp,null,this.renderFillSegs(a[n],"highlight"),this.renderFillSegs(o[n],"non-business"),this.renderFillSegs(s[n],"bg-event")),minHeight:e.cellMinHeight})})))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let n=this.props;this.updateSizing(!pv(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,n,r,i,o,s){let{context:a}=this,{eventSelection:l}=this.props,{framePositions:c}=this.state,u=1===this.props.cells.length,d=i||o||s,h=[];if(c)for(let f of t){let{seg:e}=f,{instanceId:t}=e.eventRange.instance,p=f.isVisible&&!r[t],g=f.isAbsolute,m="",v="";g&&(a.isRtl?(v=0,m=c.lefts[e.lastCol]-c.lefts[e.firstCol]):(m=0,v=c.rights[e.firstCol]-c.rights[e.lastCol])),h.push(dp("div",{className:"fc-daygrid-event-harness"+(g?" fc-daygrid-event-harness-abs":""),key:LE(e),ref:d?null:this.segHarnessRefs.createRef(zE(e)),style:{visibility:p?"":"hidden",marginTop:g?"":f.marginTop,top:g?f.absoluteTop:"",left:m,right:v}},kE(e)?dp(AE,Object.assign({seg:e,isDragging:i,isSelected:t===l,defaultDisplayEventEnd:u},eb(e,n))):dp(RE,Object.assign({seg:e,isDragging:i,isResizing:o,isDateSelecting:s,isSelected:t===l,defaultDisplayEventEnd:u},eb(e,n)))))}return h}renderFillSegs(e,t){let{isRtl:n}=this.context,{todayRange:r}=this.props,{framePositions:i}=this.state,o=[];if(i)for(let s of e){let e=n?{right:0,left:i.lefts[s.lastCol]-i.lefts[s.firstCol]}:{left:0,right:i.rights[s.firstCol]-i.rights[s.lastCol]};o.push(dp("div",{key:nb(s.eventRange),className:"fc-daygrid-bg-harness",style:e},"bg-event"===t?dp(Ww,Object.assign({seg:s},eb(s,r))):Gw(t)))}return dp(fp,{},...o)}updateSizing(e){let{props:t,state:n,frameElRefs:r}=this;if(!t.forPrint&&null!==t.clientWidth){if(e){let e=t.cells.map((e=>r.currentMap[e.key]));if(e.length){let t=this.rootElRef.current,r=new Ub(t,e,!0,!1);n.framePositions&&n.framePositions.similarTo(r)||this.setState({framePositions:new Ub(t,e,!0,!1)})}}const i=this.state.segHeights,o=this.querySegHeights(),s=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({segHeights:Object.assign(Object.assign({},i),o),maxContentHeight:s?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let n in e){let r=Math.round(e[n].getBoundingClientRect().height);t[n]=Math.max(t[n]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map((t=>e[t.key]))}}$E.addStateEquality({segHeights:pv});class HE extends qb{constructor(){super(...arguments),this.splitBusinessHourSegs=Pm(xE),this.splitBgEventSegs=Pm(xE),this.splitFgEventSegs=Pm(xE),this.splitDateSelectionSegs=Pm(xE),this.splitEventDrag=Pm(DE),this.splitEventResize=Pm(DE),this.rowRefs=new Ew}render(){let{props:e,context:t}=this,n=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,n),i=this.splitBgEventSegs(e.bgEventSegs,n),o=this.splitFgEventSegs(e.fgEventSegs,n),s=this.splitDateSelectionSegs(e.dateSelectionSegs,n),a=this.splitEventDrag(e.eventDrag,n),l=this.splitEventResize(e.eventResize,n),c=n>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return dp(vb,{unit:"day"},((t,u)=>dp(fp,null,e.cells.map(((t,d)=>dp($E,{ref:this.rowRefs.createRef(d),key:t.length?t[0].date.toISOString():d,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:u,dateProfile:e.dateProfile,cells:t,renderIntro:e.renderRowIntro,businessHourSegs:r[d],eventSelection:e.eventSelection,bgEventSegs:i[d].filter(VE),fgEventSegs:o[d],dateSelectionSegs:s[d],eventDrag:a[d],eventResize:l[d],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:c,forPrint:e.forPrint}))))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Ub(this.rootEl,this.rowRefs.collect().map((e=>e.getCellEls()[0])),!1,!0),this.colPositions=new Ub(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:n,rowPositions:r}=this,i=n.leftToIndex(e),o=r.topToIndex(t);if(null!=o&&null!=i){let e=this.props.cells[o][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,i),allDay:!0},e.extraDateSpan),dayEl:this.getCellEl(o,i),rect:{left:n.lefts[i],right:n.rights[i],top:r.tops[o],bottom:r.bottoms[o]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let n=this.props.cells[e][t].date;return{start:n,end:vm(n,1)}}}function VE(e){return e.eventRange.def.allDay}class WE extends qb{constructor(){super(...arguments),this.elRef={current:null},this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:r}=e,i=!0===n||!0===t;i&&!r&&(i=!1,t=null,n=null);let o=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return dp("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},dp("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,dp("tbody",{role:"presentation"},dp(HE,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=function(e,t){let n;t.currentRangeUnit.match(/year|month/)&&(n=e.querySelector(`[data-date="${r=t.currentDate,r.toISOString().match(/^\d{4}-\d{2}/)[0]}-01"]`));var r;n||(n=e.querySelector(`[data-date="${Im(t.currentDate)}"]`));return n}(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),n=t.closest(".fc-scroller"),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;n.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}class qE extends dw{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class GE extends qb{constructor(){super(...arguments),this.slicer=new qE,this.tableRef={current:null}}render(){let{props:e,context:t}=this;return dp(WE,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}function QE(e,t){let n=new cw(e.renderRange,t);return new uw(n,/year|month|week/.test(e.currentRangeUnit))}Dg(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');var YE=hS({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class extends CE{constructor(){super(...arguments),this.buildDayTableModel=Pm(QE),this.headerRef={current:null},this.tableRef={current:null}}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:n}=this,r=this.buildDayTableModel(n.dateProfile,t),i=e.dayHeaders&&dp(aw,{ref:this.headerRef,dateProfile:n.dateProfile,dates:r.headerDates,datesRepDistinctDays:1===r.rowCnt}),o=t=>dp(GE,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:r,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(i,o,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(i,o)}},dateProfileGeneratorClass:class extends ey{buildRenderRange(e,t,n){let r=super.buildRenderRange(e,t,n),{props:i}=this;return function(e){let t,{dateEnv:n,currentRange:r}=e,{start:i,end:o}=r;e.snapToWeek&&(i=n.startOfWeek(i),t=n.startOfWeek(o),t.valueOf()!==o.valueOf()&&(o=mm(t,1)));if(e.fixedWeekCount){let e=n.startOfWeek(n.startOfMonth(vm(r.end,-1)));o=mm(o,6-Math.ceil(bm(e,o)/7))}return{start:i,end:o}}({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});const KE=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],XE={position:"absolute",zIndex:99999,bottom:"1px",left:"1px",background:"#eee",borderColor:"#ddd",borderStyle:"solid",borderWidth:"1px 1px 0 0",padding:"2px 4px",fontSize:"12px",borderTopRightRadius:"3px"};var ZE=hS({name:"@fullcalendar/premium-common",premiumReleaseDate:"2025-04-02",optionRefiners:{schedulerLicenseKey:String},viewContainerAppends:[function(e){let t=e.options.schedulerLicenseKey,n="undefined"!==typeof window?window.location.href:"";if(!/\w+:\/\/fullcalendar\.io\/|\/examples\/[\w-]+\.html$/.test(n)){let n=function(e,t){if(-1!==KE.indexOf(e))return"valid";const n=(e||"").match(/^(\d+)-fcs-(\d+)$/);if(n&&10===n[1].length){const e=new Date(1e3*parseInt(n[2],10)),r=ew.mockSchedulerReleaseDate||t;if(km(r)){return vm(r,-372)<e?"valid":"outdated"}}return"invalid"}(t,e.pluginHooks.premiumReleaseDate);if("valid"!==n)return dp("div",{className:"fc-license-message",style:XE},"outdated"===n?dp(fp,null,"Your license key is too old to work with this version. ",dp("a",{href:"https://fullcalendar.io/docs/schedulerLicenseKey#outdated"},"More Info")):dp(fp,null,"Your license key is invalid. ",dp("a",{href:"https://fullcalendar.io/docs/schedulerLicenseKey#invalid"},"More Info")))}return null}]});function JE(e){let t=e.scrollLeft;if("rtl"===window.getComputedStyle(e).direction)switch(nC()){case"negative":t*=-1;case"reverse":t=e.scrollWidth-t-e.clientWidth}return t}function eC(e,t){if("rtl"===window.getComputedStyle(e).direction)switch(nC()){case"reverse":t=e.scrollWidth-t;break;case"negative":t=-(e.scrollWidth-t)}e.scrollLeft=t}let tC;function nC(){return tC||(tC=function(){let e=document.createElement("div");e.style.position="absolute",e.style.top="-1000px",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.direction="rtl";let t,n=document.createElement("div");n.style.width="200px",n.style.height="200px",e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?t="positive":(e.scrollLeft=1,t=e.scrollLeft>0?"reverse":"negative");return Ig(e),t}())}class rC{constructor(e,t){this.scrollEl=e,this.isRtl=t,this.updateSize=()=>{let{scrollEl:e}=this,t=Mg(e,".fc-sticky");!function(e,t,n){e.forEach(((e,r)=>{let i,{textAlign:o,elWidth:s,parentBound:a}=t[r],l=a.right-a.left;i="center"===o&&l>n?(n-s)/2:"",jg(e,{left:i,right:i,top:0})}))}(t,this.queryElGeoms(t),e.clientWidth)}}queryElGeoms(e){let{scrollEl:t,isRtl:n}=this,r=function(e){let t=e.getBoundingClientRect(),n=Lb(e);return{left:t.left+n.borderLeft+n.scrollbarLeft-JE(e),top:t.top+n.borderTop-e.scrollTop}}(t),i=[];for(let o of e){let e=Eb(zb(o.parentNode,!0,!0),-r.left,-r.top),t=o.getBoundingClientRect(),s=window.getComputedStyle(o),a=window.getComputedStyle(o.parentNode).textAlign,l=null;"start"===a?a=n?"right":"left":"end"===a&&(a=n?"left":"right"),"sticky"!==s.position&&(l=Eb(t,-r.left-(parseFloat(s.left)||0),-r.top-(parseFloat(s.top)||0))),i.push({parentBound:e,naturalBound:l,elWidth:t.width,elHeight:t.height,textAlign:a})}return i}}class iC extends Pv{constructor(){super(...arguments),this.elRef={current:null},this.state={xScrollbarWidth:0,yScrollbarWidth:0},this.handleScroller=e=>{this.scroller=e,Mv(this.props.scrollerRef,e)},this.handleSizing=()=>{let{props:e}=this;"scroll-hidden"===e.overflowY&&this.setState({yScrollbarWidth:this.scroller.getYScrollbarWidth()}),"scroll-hidden"===e.overflowX&&this.setState({xScrollbarWidth:this.scroller.getXScrollbarWidth()})}}render(){let{props:e,state:t,context:n}=this,r=n.isRtl&&Mb(),i=0,o=0,s=0,{overflowX:a,overflowY:l}=e;return e.forPrint&&(a="visible",l="visible"),"scroll-hidden"===a&&(s=t.xScrollbarWidth),"scroll-hidden"===l&&null!=t.yScrollbarWidth&&(r?i=t.yScrollbarWidth:o=t.yScrollbarWidth),dp("div",{ref:this.elRef,className:"fc-scroller-harness"+(e.liquid?" fc-scroller-harness-liquid":"")},dp(Sw,{ref:this.handleScroller,elRef:this.props.scrollerElRef,overflowX:"scroll-hidden"===a?"scroll":a,overflowY:"scroll-hidden"===l?"scroll":l,overcomeLeft:i,overcomeRight:o,overcomeBottom:s,maxHeight:"number"===typeof e.maxHeight?e.maxHeight+("scroll-hidden"===a?t.xScrollbarWidth:0):"",liquid:e.liquid,liquidIsAbsolute:!0},e.children))}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}getSnapshotBeforeUpdate(e){return this.props.forPrint&&!e.forPrint?{simulateScrollLeft:this.scroller.el.scrollLeft}:{}}componentDidUpdate(e,t,n){const{props:r,scroller:{el:i}}=this;if(pv(e,r)||this.handleSizing(),void 0!==n.simulateScrollLeft)i.style.left=-n.simulateScrollLeft+"px";else if(!r.forPrint&&e.forPrint){const e=-parseInt(i.style.left);i.style.left="",i.scrollLeft=e}}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}needsXScrolling(){return this.scroller.needsXScrolling()}needsYScrolling(){return this.scroller.needsYScrolling()}}const oC="wheel mousewheel DomMouseScroll MozMousePixelScroll".split(" ");class sC{constructor(e){this.el=e,this.emitter=new Ay,this.isScrolling=!1,this.isTouching=!1,this.isRecentlyWheeled=!1,this.isRecentlyScrolled=!1,this.wheelWaiter=new Ag(this._handleWheelWaited.bind(this)),this.scrollWaiter=new Ag(this._handleScrollWaited.bind(this)),this.handleScroll=()=>{this.startScroll(),this.emitter.trigger("scroll",this.isRecentlyWheeled,this.isTouching),this.isRecentlyScrolled=!0,this.scrollWaiter.request(500)},this.handleWheel=()=>{this.isRecentlyWheeled=!0,this.wheelWaiter.request(500)},this.handleTouchStart=()=>{this.isTouching=!0},this.handleTouchEnd=()=>{this.isTouching=!1,this.isRecentlyScrolled||this.endScroll()},e.addEventListener("scroll",this.handleScroll),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.addEventListener("touchend",this.handleTouchEnd);for(let t of oC)e.addEventListener(t,this.handleWheel)}destroy(){let{el:e}=this;e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.removeEventListener("touchend",this.handleTouchEnd);for(let t of oC)e.removeEventListener(t,this.handleWheel)}startScroll(){this.isScrolling||(this.isScrolling=!0,this.emitter.trigger("scrollStart",this.isRecentlyWheeled,this.isTouching))}endScroll(){this.isScrolling&&(this.emitter.trigger("scrollEnd"),this.isScrolling=!1,this.isRecentlyScrolled=!0,this.isRecentlyWheeled=!1,this.scrollWaiter.clear(),this.wheelWaiter.clear())}_handleScrollWaited(){this.isRecentlyScrolled=!1,this.isTouching||this.endScroll()}_handleWheelWaited(){this.isRecentlyWheeled=!1}}class aC{constructor(e,t){this.isVertical=e,this.scrollEls=t,this.isPaused=!1,this.scrollListeners=t.map((e=>this.bindScroller(e)))}destroy(){for(let e of this.scrollListeners)e.destroy()}bindScroller(e){let{scrollEls:t,isVertical:n}=this,r=new sC(e);return r.emitter.on("scroll",((r,i)=>{if(!this.isPaused&&((!this.masterEl||this.masterEl!==e&&(r||i))&&this.assignMaster(e),this.masterEl===e))for(let o of t)o!==e&&(n?o.scrollTop=e.scrollTop:o.scrollLeft=e.scrollLeft)})),r.emitter.on("scrollEnd",(()=>{this.masterEl===e&&(this.masterEl=null)})),r}assignMaster(e){this.masterEl=e;for(let t of this.scrollListeners)t.el!==e&&t.endScroll()}forceScrollLeft(e){this.isPaused=!0;for(let t of this.scrollListeners)eC(t.el,e);this.isPaused=!1}forceScrollTop(e){this.isPaused=!0;for(let t of this.scrollListeners)t.el.scrollTop=e;this.isPaused=!1}}ew.SCROLLGRID_RESIZE_INTERVAL=500;class lC extends Pv{constructor(){super(...arguments),this.compileColGroupStats=Om(hC,gC),this.renderMicroColGroups=Om(kw),this.clippedScrollerRefs=new Ew,this.scrollerElRefs=new Ew(this._handleScrollerEl.bind(this)),this.chunkElRefs=new Ew(this._handleChunkEl.bind(this)),this.scrollSyncersBySection={},this.scrollSyncersByColumn={},this.rowUnstableMap=new Map,this.rowInnerMaxHeightMap=new Map,this.anyRowHeightsChanged=!1,this.recentSizingCnt=0,this.state={shrinkWidths:[],forceYScrollbars:!1,forceXScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{},sectionRowMaxHeights:[]},this.handleSizing=(e,t)=>{if(!this.allowSizing())return;t||(this.anyRowHeightsChanged=!0);let n={};(e||!t&&!this.rowUnstableMap.size)&&(n.sectionRowMaxHeights=this.computeSectionRowMaxHeights()),this.setState(Object.assign(Object.assign({shrinkWidths:this.computeShrinkWidths()},this.computeScrollerDims()),n),(()=>{this.rowUnstableMap.size||this.updateStickyScrolling()}))},this.handleRowHeightChange=(e,t)=>{let{rowUnstableMap:n,rowInnerMaxHeightMap:r}=this;if(t){n.delete(e);let t=uC(e);r.has(e)&&r.get(e)===t||(r.set(e,t),this.anyRowHeightsChanged=!0),!n.size&&this.anyRowHeightsChanged&&(this.anyRowHeightsChanged=!1,this.setState({sectionRowMaxHeights:this.computeSectionRowMaxHeights()}))}else n.set(e,!0)}}render(){let{props:e,state:t,context:n}=this,{shrinkWidths:r}=t,i=this.compileColGroupStats(e.colGroups.map((e=>[e]))),o=this.renderMicroColGroups(i.map(((e,t)=>[e.cols,r[t]]))),s=Iw(e.liquid,n);this.getDims();let a,l=e.sections,c=l.length,u=0,d=[],h=[],f=[];for(;u<c&&"header"===(a=l[u]).type;)d.push(this.renderSection(a,u,i,o,t.sectionRowMaxHeights,!0)),u+=1;for(;u<c&&"body"===(a=l[u]).type;)h.push(this.renderSection(a,u,i,o,t.sectionRowMaxHeights,!1)),u+=1;for(;u<c&&"footer"===(a=l[u]).type;)f.push(this.renderSection(a,u,i,o,t.sectionRowMaxHeights,!0)),u+=1;const p=!hb(),g={role:"rowgroup"};return dp("table",{ref:e.elRef,role:"grid",className:s.join(" ")},function(e,t){let n=e.map(((e,n)=>{let r=e.width;return"shrink"===r&&(r=e.totalColWidth+Rw(t[n])+1),dp("col",{style:{width:r}})}));return dp("colgroup",{},...n)}(i,r),Boolean(!p&&d.length)&&dp("thead",g,...d),Boolean(!p&&h.length)&&dp("tbody",g,...h),Boolean(!p&&f.length)&&dp("tfoot",g,...f),p&&dp("tbody",g,...d,...h,...f))}renderSection(e,t,n,r,i,o){return"outerContent"in e?dp(fp,{key:e.key},e.outerContent):dp("tr",{key:e.key,role:"presentation",className:Nw(e,this.props.liquid).join(" ")},e.chunks.map(((s,a)=>this.renderChunk(e,t,n[a],r[a],s,a,(i[t]||[])[a]||[],o))))}renderChunk(e,t,n,r,i,o,s,a){if("outerContent"in i)return dp(fp,{key:i.key},i.outerContent);let{state:l}=this,{scrollerClientWidths:c,scrollerClientHeights:u}=l,[d,h]=this.getDims(),f=t*h+o,p=o===(!this.context.isRtl||Mb()?h-1:0),g=t===d-1,m=g&&l.forceXScrollbars,v=p&&l.forceYScrollbars,y=n&&n.allowXScrolling,b=_w(this.props,e),w=xw(this.props,e),S=e.expandRows&&w,E=Dw(e,i,{tableColGroupNode:r,tableMinWidth:n&&n.totalColMinWidth||"",clientWidth:void 0!==c[f]?c[f]:null,clientHeight:void 0!==u[f]?u[f]:null,expandRows:S,syncRowHeights:Boolean(e.syncRowHeights),rowSyncHeights:s,reportRowHeightChange:this.handleRowHeightChange},a),C=m?g?"scroll":"scroll-hidden":y?g?"auto":"scroll-hidden":"hidden",x=v?p?"scroll":"scroll-hidden":b?p?"auto":"scroll-hidden":"hidden";return E=dp(iC,{ref:this.clippedScrollerRefs.createRef(f),scrollerElRef:this.scrollerElRefs.createRef(f),overflowX:C,overflowY:x,forPrint:this.props.forPrint,liquid:w,maxHeight:e.maxHeight},E),dp(a?"th":"td",{key:i.key,ref:this.chunkElRefs.createRef(f),role:"presentation"},E)}componentDidMount(){this.getStickyScrolling=Om(yC),this.getScrollSyncersBySection=jm(mC.bind(this,!0),null,vC),this.getScrollSyncersByColumn=jm(mC.bind(this,!1),null,vC),this.updateScrollSyncers(),this.handleSizing(!1),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(e,t){this.updateScrollSyncers(),this.handleSizing(!1,t.sectionRowMaxHeights!==this.state.sectionRowMaxHeights)}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing),this.destroyScrollSyncers()}allowSizing(){let e=new Date;return!this.lastSizingDate||e.valueOf()>this.lastSizingDate.valueOf()+ew.SCROLLGRID_RESIZE_INTERVAL?(this.lastSizingDate=e,this.recentSizingCnt=0,!0):(this.recentSizingCnt+=1)<=10}computeShrinkWidths(){let e=this.compileColGroupStats(this.props.colGroups.map((e=>[e]))),[t,n]=this.getDims(),r=t*n,i=[];return e.forEach(((e,t)=>{if(e.hasShrinkCol){let e=this.chunkElRefs.collect(t,r,n);i[t]=Cw(e)}})),i}computeSectionRowMaxHeights(){let e=new Map,[t,n]=this.getDims(),r=[];for(let i=0;i<t;i+=1){let t=this.props.sections[i],o=[];if(t&&t.syncRowHeights){let r=[];for(let t=0;t<n;t+=1){let o=i*n+t,s=[],a=this.chunkElRefs.currentMap[o];s=a?Mg(a,".fc-scrollgrid-sync-table tr").map((t=>{let n=uC(t);return e.set(t,n),n})):[],r.push(s)}let s=r[0].length,a=!0;for(let e=1;e<n;e+=1){if(!(t.chunks[e]&&void 0!==t.chunks[e].outerContent)&&r[e].length!==s){a=!1;break}}if(a){for(let e=0;e<n;e+=1)o.push([]);for(let e=0;e<s;e+=1){let t=[];for(let o=0;o<n;o+=1){let n=r[o][e];null!=n&&t.push(n)}let i=Math.max(...t);for(let e=0;e<n;e+=1)o[e].push(i)}}else{let e=[];for(let i=0;i<n;i+=1)e.push(cC(r[i])+r[i].length);let t=Math.max(...e);for(let i=0;i<n;i+=1){let e=r[i].length,n=t-e,s=Math.floor(n/e),a=n-s*(e-1),l=[],c=0;for(c<e&&(l.push(a),c+=1);c<e;)l.push(s),c+=1;o.push(l)}}}r.push(o)}return this.rowInnerMaxHeightMap=e,r}computeScrollerDims(){let e=Ob(),[t,n]=this.getDims(),r=!this.context.isRtl||Mb()?n-1:0,i=t-1,o=this.clippedScrollerRefs.currentMap,s=this.scrollerElRefs.currentMap,a=!1,l=!1,c={},u={};for(let d=0;d<t;d+=1){let e=o[d*n+r];if(e&&e.needsYScrolling()){a=!0;break}}for(let d=0;d<n;d+=1){let e=o[i*n+d];if(e&&e.needsXScrolling()){l=!0;break}}for(let d=0;d<t;d+=1)for(let t=0;t<n;t+=1){let o=d*n+t,h=s[o];if(h){let n=h.parentNode;c[o]=Math.floor(n.getBoundingClientRect().width-(t===r&&a?e.y:0)),u[o]=Math.floor(n.getBoundingClientRect().height-(d===i&&l?e.x:0))}}return{forceYScrollbars:a,forceXScrollbars:l,scrollerClientWidths:c,scrollerClientHeights:u}}updateStickyScrolling(){let{isRtl:e}=this.context,t=this.scrollerElRefs.getAll().map((t=>[t,e]));this.getStickyScrolling(t).forEach((e=>e.updateSize()))}updateScrollSyncers(){let[e,t]=this.getDims(),n=e*t,r={},i={},o=this.scrollerElRefs.currentMap;for(let s=0;s<e;s+=1){let e=s*t,n=e+t;r[s]=bv(o,e,n,1)}for(let s=0;s<t;s+=1)i[s]=this.scrollerElRefs.collect(s,n,t);this.scrollSyncersBySection=this.getScrollSyncersBySection(r),this.scrollSyncersByColumn=this.getScrollSyncersByColumn(i)}destroyScrollSyncers(){dv(this.scrollSyncersBySection,vC),dv(this.scrollSyncersByColumn,vC)}getChunkConfigByIndex(e){let t=this.getDims()[1],n=Math.floor(e/t),r=e%t,i=this.props.sections[n];return i&&i.chunks[r]}forceScrollLeft(e,t){let n=this.scrollSyncersByColumn[e];n&&n.forceScrollLeft(t)}forceScrollTop(e,t){let n=this.scrollSyncersBySection[e];n&&n.forceScrollTop(t)}_handleChunkEl(e,t){let n=this.getChunkConfigByIndex(parseInt(t,10));n&&Mv(n.elRef,e)}_handleScrollerEl(e,t){let n=this.getChunkConfigByIndex(parseInt(t,10));n&&Mv(n.scrollerElRef,e)}getDims(){let e=this.props.sections.length;return[e,e?this.props.sections[0].chunks.length:0]}}function cC(e){let t=0;for(let n of e)t+=n;return t}function uC(e){let t=Mg(e,".fc-scrollgrid-sync-inner").map(dC);return t.length?Math.max(...t):0}function dC(e){return e.offsetHeight}function hC(e){let t=fC(e.cols,"width"),n=fC(e.cols,"minWidth"),r=Aw(e.cols);return{hasShrinkCol:r,totalColWidth:t,totalColMinWidth:n,allowXScrolling:"shrink"!==e.width&&Boolean(t||n||r),cols:e.cols,width:e.width}}function fC(e,t){let n=0;for(let r of e){let e=r[t];"number"===typeof e&&(n+=e*(r.span||1))}return n}lC.addStateEquality({shrinkWidths:pm,scrollerClientWidths:pv,scrollerClientHeights:pv});const pC={cols:Tw};function gC(e,t){return vv(e,t,pC)}function mC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new aC(e,n)}function vC(e){e.destroy()}function yC(e,t){return new rC(e,t)}Dg('.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;pointer-events:none;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:var(--fc-small-font-size);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:"";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;font-size:var(--fc-small-font-size);padding:1px}.fc-timeline-more-link-inner{display:inline-block;left:0;padding:2px;right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}');ew.MAX_TIMELINE_SLOTS=1e3;const bC=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}];function wC(e,t,n,r){let i={labelInterval:n.slotLabelInterval,slotDuration:n.slotDuration};!function(e,t,n){const{currentRange:r}=t;if(e.labelInterval){n.countDurationsBetween(r.start,r.end,e.labelInterval)>ew.MAX_TIMELINE_SLOTS&&(console.warn("slotLabelInterval results in too many cells"),e.labelInterval=null)}if(e.slotDuration){n.countDurationsBetween(r.start,r.end,e.slotDuration)>ew.MAX_TIMELINE_SLOTS&&(console.warn("slotDuration results in too many cells"),e.slotDuration=null)}if(e.labelInterval&&e.slotDuration){const t=hm(e.labelInterval,e.slotDuration);(null===t||t<1)&&(console.warn("slotLabelInterval must be a multiple of slotDuration"),e.slotDuration=null)}}(i,e,t),CC(i,e,t),function(e,t,n){const{currentRange:r}=t;let{slotDuration:i}=e;if(!i){const o=CC(e,t,n);for(let e of bC){const t=am(e),n=hm(o,t);if(null!==n&&n>1&&n<=6){i=t;break}}if(i){n.countDurationsBetween(r.start,r.end,i)>200&&(i=null)}i||(i=o),e.slotDuration=i}}(i,e,t);let o=n.slotLabelFormat,s=Array.isArray(o)?o:null!=o?[o]:function(e,t,n,r){let i,o;const{labelInterval:s}=e;let a=fm(s).unit;const l=r.weekNumbers;let c=i=o=null;"week"!==a||l||(a="day");switch(a){case"year":c={year:"numeric"};break;case"month":xC("years",t,n)>1&&(c={year:"numeric"}),i={month:"short"};break;case"week":xC("years",t,n)>1&&(c={year:"numeric"}),i={week:"narrow"};break;case"day":xC("years",t,n)>1?c={year:"numeric",month:"long"}:xC("months",t,n)>1&&(c={month:"long"}),l&&(i={week:"short"}),o={weekday:"narrow",day:"numeric"};break;case"hour":l&&(c={week:"short"}),xC("days",t,n)>1&&(i={weekday:"short",day:"numeric",month:"numeric",omitCommas:!0}),o={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"};break;case"minute":dm(s)/6e4/60>=6?(c={hour:"numeric",meridiem:"short"},i=e=>":"+em(e.date.minute,2)):c={hour:"numeric",minute:"numeric",meridiem:"short"};break;case"second":(function(e){return dm(e)/1e3})(s)/60>=6?(c={hour:"numeric",minute:"2-digit",meridiem:"lowercase"},i=e=>":"+em(e.date.second,2)):c={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"};break;case"millisecond":c={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"},i=e=>"."+em(e.millisecond,3)}return[].concat(c||[],i||[],o||[])}(i,e,t,n);i.headerFormats=s.map((e=>Km(e))),i.isTimeScale=Boolean(i.slotDuration.milliseconds);let a=null;if(!i.isTimeScale){const e=fm(i.slotDuration).unit;/year|month|week/.test(e)&&(a=e)}i.largeUnit=a,i.emphasizeWeeks=1===cm(i.slotDuration)&&xC("weeks",e,t)>=2&&!n.businessHours;let l,c,u=n.snapDuration;u&&(l=am(u),c=hm(i.slotDuration,l)),null==c&&(l=i.slotDuration,c=1),i.snapDuration=l,i.snapsPerSlot=c;let d=dm(e.slotMaxTime)-dm(e.slotMinTime),h=SC(e.renderRange.start,i,t),f=SC(e.renderRange.end,i,t);i.isTimeScale&&(h=t.add(h,e.slotMinTime),f=t.add(vm(f,-1),e.slotMaxTime)),i.timeWindowMs=d,i.normalizedRange={start:h,end:f};let p=[],g=h;for(;g<f;)EC(g,i,e,r)&&p.push(g),g=t.add(g,i.slotDuration);i.slotDates=p;let m=-1,v=0;const y=[],b=[];for(g=h;g<f;)EC(g,i,e,r)?(m+=1,y.push(m),b.push(v)):y.push(m+.5),g=t.add(g,i.snapDuration),v+=1;return i.snapDiffToIndex=y,i.snapIndexToDiff=b,i.snapCnt=m+1,i.slotCnt=i.snapCnt/i.snapsPerSlot,i.isWeekStarts=function(e,t){let{slotDates:n,emphasizeWeeks:r}=e,i=null,o=[];for(let s of n){let e=t.computeWeekNumber(s),n=r&&null!==i&&i!==e;i=e,o.push(n)}return o}(i,t),i.cellRows=function(e,t){let n=e.slotDates,r=e.headerFormats,i=r.map((()=>[])),o=cm(e.slotDuration),s=7===o?"week":1===o?"day":null,a=r.map((e=>e.getSmallestUnit?e.getSmallestUnit():null));for(let l=0;l<n.length;l+=1){let o=n[l],c=e.isWeekStarts[l];for(let n=0;n<r.length;n+=1){let l=r[n],u=i[n],d=u[u.length-1],h=n===r.length-1,f=r.length>1&&!h,p=null,g=a[n]||(h?s:null);if(f){let e=t.format(o,l);d&&d.text===e?d.colspan+=1:p=_C(o,e,g)}else if(!d||rm(t.countDurationsBetween(e.normalizedRange.start,o,e.labelInterval))){p=_C(o,t.format(o,l),g)}else d.colspan+=1;p&&(p.weekStart=c,u.push(p))}}return i}(i,t),i.slotsPerLabel=hm(i.labelInterval,i.slotDuration),i}function SC(e,t,n){let r=e;return t.isTimeScale||(r=Sm(r),t.largeUnit&&(r=n.startOf(r,t.largeUnit))),r}function EC(e,t,n,r){if(r.isHiddenDay(e))return!1;if(t.isTimeScale){let r=Sm(e),i=e.valueOf()-r.valueOf()-dm(n.slotMinTime);return i=(i%864e5+864e5)%864e5,i<t.timeWindowMs}return!0}function CC(e,t,n){const{currentRange:r}=t;let{labelInterval:i}=e;if(!i){let t;if(e.slotDuration){for(t of bC){const n=am(t),r=hm(n,e.slotDuration);if(null!==r&&r<=6){i=n;break}}i||(i=e.slotDuration)}else for(t of bC){i=am(t);if(n.countDurationsBetween(r.start,r.end,i)>=18)break}e.labelInterval=i}return i}function xC(e,t,n){let r=t.currentRange,i=null;return"years"===e?i=n.diffWholeYears(r.start,r.end):"months"===e||"weeks"===e?i=n.diffWholeMonths(r.start,r.end):"days"===e&&(i=wm(r.start,r.end)),i||0}function _C(e,t,n){return{date:e,text:t,rowUnit:n,colspan:1,isWeekStart:!1}}class DC extends Pv{constructor(){super(...arguments),this.refineRenderProps=Mm(RC),this.buildCellNavLinkAttrs=Pm(TC)}render(){let{props:e,context:t}=this,{dateEnv:n,options:r}=t,{cell:i,dateProfile:o,tDateProfile:s}=e,a=Db(i.date,e.todayRange,e.nowDate,o),l=this.refineRenderProps({level:e.rowLevel,dateMarker:i.date,text:i.text,dateEnv:t.dateEnv,viewApi:t.viewApi});return dp(Fv,{elTag:"th",elClasses:["fc-timeline-slot","fc-timeline-slot-label",i.isWeekStart&&"fc-timeline-slot-em",..."time"===i.rowUnit?kb(a,t.theme):Tb(a,t.theme)],elAttrs:{colSpan:i.colspan,"data-date":n.formatIso(i.date,{omitTime:!s.isTimeScale,omitTimeZoneOffset:!0})},renderProps:l,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:kC,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},(n=>dp("div",{className:"fc-timeline-slot-frame",style:{height:e.rowInnerHeight}},dp(n,{elTag:"a",elClasses:["fc-timeline-slot-cushion","fc-scrollgrid-sync-inner",e.isSticky&&"fc-sticky"],elAttrs:this.buildCellNavLinkAttrs(t,i.date,i.rowUnit)}))))}}function TC(e,t,n){return n&&"time"!==n?Ib(e,t,n):{}}function kC(e){return e.text}function RC(e){return{level:e.level,date:e.dateEnv.toDate(e.dateMarker),view:e.viewApi,text:e.text}}class AC extends Pv{render(){let{dateProfile:e,tDateProfile:t,rowInnerHeights:n,todayRange:r,nowDate:i}=this.props,{cellRows:o}=t;return dp(fp,null,o.map(((s,a)=>{let l=a===o.length-1,c=t.isTimeScale&&l;return dp("tr",{key:a,className:["fc-timeline-header-row",c?"fc-timeline-header-row-chrono":""].join(" ")},s.map((o=>dp(DC,{key:o.date.toISOString(),cell:o,rowLevel:a,dateProfile:e,tDateProfile:t,todayRange:r,nowDate:i,rowInnerHeight:n&&n[a],isSticky:!l}))))})))}}class IC{constructor(e,t,n,r,i,o){this.slatRootEl=e,this.dateProfile=n,this.tDateProfile=r,this.dateEnv=i,this.isRtl=o,this.outerCoordCache=new Ub(e,t,!0,!1),this.innerCoordCache=new Ub(e,function(e,t){let n=e instanceof HTMLElement?[e]:e,r=[];for(let i=0;i<n.length;i+=1){let e=n[i].children;for(let n=0;n<e.length;n+=1){let i=e[n];t&&!Pg(i,t)||r.push(i)}}return r}(t,"div"),!0,!1)}isDateInRange(e){return Kv(this.dateProfile.currentRange,e)}dateToCoord(e){let{tDateProfile:t}=this,n=this.computeDateSnapCoverage(e)/t.snapsPerSlot,r=Math.floor(n);r=Math.min(r,t.slotCnt-1);let i=n-r,{innerCoordCache:o,outerCoordCache:s}=this;return this.isRtl?s.originClientRect.width-(s.rights[r]-o.getWidth(r)*i):s.lefts[r]+o.getWidth(r)*i}rangeToCoords(e){return{start:this.dateToCoord(e.start),end:this.dateToCoord(e.end)}}durationToCoord(e){let{dateProfile:t,tDateProfile:n,dateEnv:r,isRtl:i}=this,o=0;if(t){let s=r.add(t.activeRange.start,e);n.isTimeScale||(s=Sm(s)),o=this.dateToCoord(s),!i&&o&&(o+=1)}return o}coordFromLeft(e){return this.isRtl?this.outerCoordCache.originClientRect.width-e:e}computeDateSnapCoverage(e){return NC(e,this.tDateProfile,this.dateEnv)}}function NC(e,t,n){let r=n.countDurationsBetween(t.normalizedRange.start,e,t.snapDuration);if(r<0)return 0;if(r>=t.snapDiffToIndex.length)return t.snapCnt;let i=Math.floor(r),o=t.snapDiffToIndex[i];return rm(o)?o+=r-i:o=Math.ceil(o),o}function PC(e,t){return null===e?{left:"",right:""}:t?{right:e,left:""}:{left:e,right:""}}function MC(e,t){return e?t?{right:e.start,left:-e.end}:{left:e.start,right:-e.end}:{left:"",right:""}}class OC extends Pv{constructor(){super(...arguments),this.rootElRef={current:null}}render(){let{props:e,context:t}=this,n=fm(e.tDateProfile.slotDuration).unit,r=e.slatCoords&&e.slatCoords.dateProfile===e.dateProfile?e.slatCoords:null;return dp(vb,{unit:n},((n,i)=>dp("div",{className:"fc-timeline-header",ref:this.rootElRef},dp("table",{"aria-hidden":!0,className:"fc-scrollgrid-sync-table",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,dp("tbody",null,dp(AC,{dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:n,todayRange:i,rowInnerHeights:e.rowInnerHeights}))),t.options.nowIndicator&&dp("div",{className:"fc-timeline-now-indicator-container"},r&&r.isDateInRange(n)&&dp(Fw,{elClasses:["fc-timeline-now-indicator-arrow"],elStyle:PC(r.dateToCoord(n),t.isRtl),isAxis:!0,date:n})))))}componentDidMount(){this.updateSize()}componentDidUpdate(){this.updateSize()}updateSize(){this.props.onMaxCushionWidth&&this.props.onMaxCushionWidth(this.computeMaxCushionWidth())}computeMaxCushionWidth(){return Math.max(...Mg(this.rootElRef.current,".fc-timeline-header-row:last-child .fc-timeline-slot-cushion").map((e=>e.getBoundingClientRect().width)))}}class jC extends Pv{render(){let{props:e,context:t}=this,{dateEnv:n,options:r,theme:i}=t,{date:o,tDateProfile:s,isEm:a}=e,l=Db(e.date,e.todayRange,e.nowDate,e.dateProfile),c=Object.assign(Object.assign({date:n.toDate(e.date)},l),{view:t.viewApi});return dp(Fv,{elTag:"td",elRef:e.elRef,elClasses:["fc-timeline-slot","fc-timeline-slot-lane",a&&"fc-timeline-slot-em",s.isTimeScale?rm(n.countDurationsBetween(s.normalizedRange.start,e.date,s.labelInterval))?"fc-timeline-slot-major":"fc-timeline-slot-minor":"",...e.isDay?Tb(l,i):kb(l,i)],elAttrs:{"data-date":n.formatIso(o,{omitTimeZoneOffset:!0,omitTime:!s.isTimeScale})},renderProps:c,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount},(e=>dp(e,{elTag:"div"})))}}class LC extends Pv{render(){let{props:e}=this,{tDateProfile:t,cellElRefs:n}=e,{slotDates:r,isWeekStarts:i}=t,o=!t.isTimeScale&&!t.largeUnit;return dp("tbody",null,dp("tr",null,r.map(((r,s)=>{let a=r.toISOString();return dp(jC,{key:a,elRef:n.createRef(a),date:r,dateProfile:e.dateProfile,tDateProfile:t,nowDate:e.nowDate,todayRange:e.todayRange,isEm:i[s],isDay:o})}))))}}class zC extends Pv{constructor(){super(...arguments),this.rootElRef={current:null},this.cellElRefs=new Ew,this.handleScrollRequest=e=>{let{onScrollLeftRequest:t}=this.props,{coords:n}=this;if(t&&n){if(e.time){t(n.coordFromLeft(n.durationToCoord(e.time)))}return!0}return null}}render(){let{props:e,context:t}=this;return dp("div",{className:"fc-timeline-slots",ref:this.rootElRef},dp("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,dp(LC,{cellElRefs:this.cellElRefs,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange})))}componentDidMount(){this.updateSizing(),this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.updateSizing(),this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach(),this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{props:e,context:t}=this;if(null!==e.clientWidth&&this.scrollResponder){this.rootElRef.current.offsetWidth&&(this.coords=new IC(this.rootElRef.current,(n=this.cellElRefs.currentMap,e.tDateProfile.slotDates.map((e=>{let t=e.toISOString();return n[t]}))),e.dateProfile,e.tDateProfile,t.dateEnv,t.isRtl),e.onCoords&&e.onCoords(this.coords),this.scrollResponder.update(!1))}var n}positionToHit(e){let{outerCoordCache:t}=this.coords,{dateEnv:n,isRtl:r}=this.context,{tDateProfile:i}=this.props,o=t.leftToIndex(e);if(null!=o){let s=t.getWidth(o),a=r?(t.rights[o]-e)/s:(e-t.lefts[o])/s,l=Math.floor(a*i.snapsPerSlot),c=n.add(i.slotDates[o],function(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}(i.snapDuration,l));return{dateSpan:{range:{start:c,end:n.add(c,i.snapDuration)},allDay:!this.props.tDateProfile.isTimeScale},dayEl:this.cellElRefs.currentMap[o],left:t.lefts[o],right:t.rights[o]}}return null}}function BC(e,t,n){let r=[];if(n)for(let i of e){let e=n.rangeToCoords(i),o=Math.round(e.start),s=Math.round(e.end);s-o<t&&(s=o+t),r.push({start:o,end:s})}return r}function FC(e,t,n,r,i,o){let s=[],a=[];for(let y=0;y<e.length;y+=1){let r=e[y],i=n[r.eventRange.instance.instanceId],o=t[y];i&&o?s.push({index:y,span:o,thickness:i}):a.push({seg:r,hcoords:o,top:null})}let l=new Gb;null!=i&&(l.strictOrder=i),null!=o&&(l.maxStackCnt=o);let c=l.addSegs(s),u=c.map((t=>({seg:e[t.index],hcoords:t.span,top:null}))),d=function(e){let t=[];for(let i of e){let e=[],o={span:i.span,entries:[i]};for(let i of t)Kb(i.span,o.span)?o={entries:i.entries.concat(o.entries),span:(n=i.span,r=o.span,{start:Math.min(n.start,r.start),end:Math.max(n.end,r.end)})}:e.push(i);e.push(o),t=e}var n,r;return t}(c),h=[],f=[];const p=t=>e[t.index];for(let y=0;y<d.length;y+=1){let t=d[y],n=t.entries.map(p),i=r[Am(tS(n))];null!=i?h.push({index:e.length+y,thickness:i,span:t.span}):f.push({seg:n,hcoords:t.span,top:null})}l.maxStackCnt=-1,l.addSegs(h);let g=l.toRects(),m=[],v=0;for(let y of g){let t=y.index;m.push({seg:t<e.length?e[t]:d[t-e.length].entries.map(p),hcoords:y.span,top:y.levelCoord}),v=Math.max(v,y.levelCoord+y.thickness)}return[m.concat(a,u,f),v]}class UC extends Pv{render(){let{props:e}=this,t=[].concat(e.eventResizeSegs,e.dateSelectionSegs);return e.timelineCoords&&dp("div",{className:"fc-timeline-bg"},this.renderSegs(e.businessHourSegs||[],e.timelineCoords,"non-business"),this.renderSegs(e.bgEventSegs||[],e.timelineCoords,"bg-event"),this.renderSegs(t,e.timelineCoords,"highlight"))}renderSegs(e,t,n){let{todayRange:r,nowDate:i}=this.props,{isRtl:o}=this.context,s=BC(e,0,t),a=e.map(((e,t)=>{let a=MC(s[t],o);return dp("div",{key:nb(e.eventRange),className:"fc-timeline-bg-harness",style:a},"bg-event"===n?dp(Ww,Object.assign({seg:e},eb(e,r,i))):Gw(n))}));return dp(fp,null,a)}}class $C extends dw{sliceRange(e,t,n,r,i){let o=function(e,t,n){if(!t.isTimeScale&&(e=Zv(e),t.largeUnit)){let r=e;((e={start:n.startOf(e.start,t.largeUnit),end:n.startOf(e.end,t.largeUnit)}).end.valueOf()!==r.end.valueOf()||e.end<=e.start)&&(e={start:e.start,end:n.add(e.end,t.slotDuration)})}return e}(e,r,i),s=[];if(NC(o.start,r,i)<NC(o.end,r,i)){let e=qv(o,r.normalizedRange);e&&s.push({start:e.start,end:e.end,isStart:e.start.valueOf()===o.start.valueOf()&&EC(e.start,r,t,n),isEnd:e.end.valueOf()===o.end.valueOf()&&EC(ym(e.end,-1),r,t,n)})}return s}}const HC=Km({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});class VC extends Pv{render(){let{props:e}=this;return dp(zw,Object.assign({},e,{elClasses:["fc-timeline-event","fc-h-event"],defaultTimeFormat:HC,defaultDisplayEventTime:!e.isTimeScale}))}}class WC extends Pv{render(){let{props:e,context:t}=this,{hiddenSegs:n,placement:r,resourceId:i}=e,{top:o,hcoords:s}=r,a=s&&null!==o,l=MC(s,t.isRtl),c=i?{resourceId:i}:{};return dp(Zw,{elRef:e.elRef,elClasses:["fc-timeline-more-link"],elStyle:Object.assign({visibility:a?"":"hidden",top:o||0},l),allDayDate:null,moreCnt:n.length,allSegs:n,hiddenSegs:n,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:c,popoverContent:()=>dp(fp,null,n.map((t=>{let n=t.eventRange.instance.instanceId;return dp("div",{key:n,style:{visibility:e.isForcedInvisible[n]?"hidden":""}},dp(VC,Object.assign({isTimeScale:e.isTimeScale,seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:n===e.eventSelection},eb(t,e.todayRange,e.nowDate))))})))},(e=>dp(e,{elTag:"div",elClasses:["fc-timeline-more-link-inner","fc-sticky"]})))}}class qC extends Pv{constructor(){super(...arguments),this.slicer=new $C,this.sortEventSegs=Pm(Qy),this.harnessElRefs=new Ew,this.moreElRefs=new Ew,this.innerElRef={current:null},this.state={eventInstanceHeights:{},moreLinkHeights:{}},this.handleResize=e=>{e&&this.updateSize()}}render(){let{props:e,state:t,context:n}=this,{options:r}=n,{dateProfile:i,tDateProfile:o}=e,s=this.slicer.sliceProps(e,i,o.isTimeScale?null:e.nextDayThreshold,n,i,n.dateProfileGenerator,o,n.dateEnv),a=(s.eventDrag?s.eventDrag.segs:null)||(s.eventResize?s.eventResize.segs:null)||[],l=this.sortEventSegs(s.fgEventSegs,r.eventOrder),c=BC(l,r.eventMinWidth,e.timelineCoords),[u,d]=FC(l,c,t.eventInstanceHeights,t.moreLinkHeights,r.eventOrderStrict,r.eventMaxStack),h=(s.eventDrag?s.eventDrag.affectedInstances:null)||(s.eventResize?s.eventResize.affectedInstances:null)||{};return dp(fp,null,dp(UC,{businessHourSegs:s.businessHourSegs,bgEventSegs:s.bgEventSegs,timelineCoords:e.timelineCoords,eventResizeSegs:s.eventResize?s.eventResize.segs:[],dateSelectionSegs:s.dateSelectionSegs,nowDate:e.nowDate,todayRange:e.todayRange}),dp("div",{className:"fc-timeline-events fc-scrollgrid-sync-inner",ref:this.innerElRef,style:{height:d}},this.renderFgSegs(u,h,!1,!1,!1),this.renderFgSegs(function(e,t,n){if(!e.length||!t)return[];let r=function(e){let t={};for(let n of e){let{seg:e}=n;Array.isArray(e)||(t[e.eventRange.instance.instanceId]=n.top)}return t}(n);return e.map((e=>({seg:e,hcoords:t.rangeToCoords(e),top:r[e.eventRange.instance.instanceId]})))}(a,e.timelineCoords,u),{},Boolean(s.eventDrag),Boolean(s.eventResize),!1)))}componentDidMount(){this.updateSize(),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){e.eventStore===this.props.eventStore&&e.timelineCoords===this.props.timelineCoords&&t.moreLinkHeights===this.state.moreLinkHeights||this.updateSize()}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateSize(){let{props:e}=this,{timelineCoords:t}=e;const n=this.innerElRef.current;e.onHeightChange&&e.onHeightChange(n,!1),t&&this.setState({eventInstanceHeights:dv(this.harnessElRefs.currentMap,(e=>Math.round(e.getBoundingClientRect().height))),moreLinkHeights:dv(this.moreElRefs.currentMap,(e=>Math.round(e.getBoundingClientRect().height)))},(()=>{e.onHeightChange&&e.onHeightChange(n,!0)})),e.syncParentMinHeight&&(n.parentElement.style.minHeight=n.style.height)}renderFgSegs(e,t,n,r,i){let{harnessElRefs:o,moreElRefs:s,props:a,context:l}=this,c=n||r||i;return dp(fp,null,e.map((e=>{let{seg:u,hcoords:d,top:h}=e;if(Array.isArray(u)){let n=Am(tS(u));return dp(WC,{key:"m:"+n,elRef:s.createRef(n),hiddenSegs:u,placement:e,dateProfile:a.dateProfile,nowDate:a.nowDate,todayRange:a.todayRange,isTimeScale:a.tDateProfile.isTimeScale,eventSelection:a.eventSelection,resourceId:a.resourceId,isForcedInvisible:t})}let f=u.eventRange.instance.instanceId,p=c||Boolean(!t[f]&&d&&null!==h),g=MC(d,l.isRtl);return dp("div",{key:"e:"+f,ref:c?null:o.createRef(f),className:"fc-timeline-event-harness",style:Object.assign({visibility:p?"":"hidden",top:h||0},g)},dp(VC,Object.assign({isTimeScale:a.tDateProfile.isTimeScale,seg:u,isDragging:n,isResizing:r,isDateSelecting:i,isSelected:f===a.eventSelection},eb(u,a.todayRange,a.nowDate))))})))}}qC.addStateEquality({eventInstanceHeights:pv,moreLinkHeights:pv});class GC extends qb{constructor(){super(...arguments),this.slatsRef={current:null},this.state={coords:null},this.handeEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)},this.handleCoords=e=>{this.setState({coords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t,context:n}=this,{options:r}=n,{dateProfile:i,tDateProfile:o}=e,s=fm(o.slotDuration).unit;return dp("div",{className:"fc-timeline-body",ref:this.handeEl,style:{minWidth:e.tableMinWidth,height:e.clientHeight,width:e.clientWidth}},dp(vb,{unit:s},((s,a)=>dp(fp,null,dp(zC,{ref:this.slatsRef,dateProfile:i,tDateProfile:o,nowDate:s,todayRange:a,clientWidth:e.clientWidth,tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,onCoords:this.handleCoords,onScrollLeftRequest:e.onScrollLeftRequest}),dp(qC,{dateProfile:i,tDateProfile:e.tDateProfile,nowDate:s,todayRange:a,nextDayThreshold:r.nextDayThreshold,businessHours:e.businessHours,eventStore:e.eventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,timelineCoords:t.coords,syncParentMinHeight:!0}),r.nowIndicator&&t.coords&&t.coords.isDateInRange(s)&&dp("div",{className:"fc-timeline-now-indicator-container"},dp(Fw,{elClasses:["fc-timeline-now-indicator-line"],elStyle:PC(t.coords.dateToCoord(s),n.isRtl),isAxis:!1,date:s}))))))}queryHit(e,t,n,r){let i=this.slatsRef.current.positionToHit(e);return i?{dateProfile:this.props.dateProfile,dateSpan:i.dateSpan,rect:{left:i.left,right:i.right,top:0,bottom:r},dayEl:i.dayEl,layer:0}:null}}function QC(e,t){return[{span:e.slotCnt,minWidth:t||1}]}var YC=hS({name:"@fullcalendar/timeline",premiumReleaseDate:"2025-04-02",deps:[ZE],initialView:"timelineDay",views:{timeline:{component:class extends qb{constructor(){super(...arguments),this.buildTimelineDateProfile=Pm(wC),this.scrollGridRef={current:null},this.state={slatCoords:null,slotCushionMaxWidth:null},this.handleSlatCoords=e=>{this.setState({slatCoords:e})},this.handleScrollLeftRequest=e=>{this.scrollGridRef.current.forceScrollLeft(0,e)},this.handleMaxCushionWidth=e=>{this.setState({slotCushionMaxWidth:Math.ceil(e)})}}render(){let{props:e,state:t,context:n}=this,{options:r}=n,i=!e.forPrint&&Mw(r),o=!e.forPrint&&Ow(r),s=this.buildTimelineDateProfile(e.dateProfile,n.dateEnv,r,n.dateProfileGenerator),{slotMinWidth:a}=r,l=QC(s,a||this.computeFallbackSlotMinWidth(s)),c=[{type:"header",key:"header",isSticky:i,chunks:[{key:"timeline",content:n=>dp(OC,{dateProfile:e.dateProfile,clientWidth:n.clientWidth,clientHeight:n.clientHeight,tableMinWidth:n.tableMinWidth,tableColGroupNode:n.tableColGroupNode,tDateProfile:s,slatCoords:t.slatCoords,onMaxCushionWidth:a?null:this.handleMaxCushionWidth})}]},{type:"body",key:"body",liquid:!0,chunks:[{key:"timeline",content:t=>dp(GC,Object.assign({},e,{clientWidth:t.clientWidth,clientHeight:t.clientHeight,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,tDateProfile:s,onSlatCoords:this.handleSlatCoords,onScrollLeftRequest:this.handleScrollLeftRequest}))}]}];return o&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"timeline",content:Pw}]}),dp($v,{elClasses:["fc-timeline",!1===r.eventOverlap?"fc-timeline-overlap-disabled":""],viewSpec:n.viewSpec},dp(lC,{ref:this.scrollGridRef,liquid:!e.isHeightAuto&&!e.forPrint,forPrint:e.forPrint,collapsibleWidth:!1,colGroups:[{cols:l}],sections:c}))}computeFallbackSlotMinWidth(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)}},usesMinMaxTime:!0,eventResizableFromStart:!0},timelineDay:{type:"timeline",duration:{days:1}},timelineWeek:{type:"timeline",duration:{weeks:1}},timelineMonth:{type:"timeline",duration:{months:1}},timelineYear:{type:"timeline",duration:{years:1}}}});const KC="_fc:",XC={id:String,parentId:String,children:av,title:String,businessHours:av,extendedProps:av,eventEditable:Boolean,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventConstraint:av,eventOverlap:Boolean,eventAllow:av,eventClassNames:my,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String};function ZC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,{refined:i,extra:o}=sv(e,XC),s={id:i.id||KC+Gg(),parentId:i.parentId||t,title:i.title||"",businessHours:i.businessHours?Ny(i.businessHours,r):null,ui:by({editable:i.eventEditable,startEditable:i.eventStartEditable,durationEditable:i.eventDurationEditable,constraint:i.eventConstraint,overlap:i.eventOverlap,allow:i.eventAllow,classNames:i.eventClassNames,backgroundColor:i.eventBackgroundColor,borderColor:i.eventBorderColor,textColor:i.eventTextColor,color:i.eventColor},r),extendedProps:Object.assign(Object.assign({},o),i.extendedProps)};if(Object.freeze(s.ui.classNames),Object.freeze(s.extendedProps),n[s.id]);else if(n[s.id]=s,i.children)for(let a of i.children)ZC(a,s.id,n,r);return s}function JC(e){return 0===e.indexOf(KC)?"":e}class ex{constructor(e,t){this._context=e,this._resource=t}setProp(e,t){let n=this._resource;this._context.dispatch({type:"SET_RESOURCE_PROP",resourceId:n.id,propName:e,propValue:t}),this.sync(n)}setExtendedProp(e,t){let n=this._resource;this._context.dispatch({type:"SET_RESOURCE_EXTENDED_PROP",resourceId:n.id,propName:e,propValue:t}),this.sync(n)}sync(e){let t=this._context,n=e.id;this._resource=t.getCurrentData().resourceStore[n],t.emitter.trigger("resourceChange",{oldResource:new ex(t,e),resource:this,revert(){t.dispatch({type:"ADD_RESOURCE",resourceHash:{[n]:e}})}})}remove(){let e=this._context,t=this._resource,n=t.id;e.dispatch({type:"REMOVE_RESOURCE",resourceId:n}),e.emitter.trigger("resourceRemove",{resource:this,revert(){e.dispatch({type:"ADD_RESOURCE",resourceHash:{[n]:t}})}})}getParent(){let e=this._context,t=this._resource.parentId;return t?new ex(e,e.getCurrentData().resourceStore[t]):null}getChildren(){let e=this._resource.id,t=this._context,{resourceStore:n}=t.getCurrentData(),r=[];for(let i in n)n[i].parentId===e&&r.push(new ex(t,n[i]));return r}getEvents(){let e=this._resource.id,t=this._context,{defs:n,instances:r}=t.getCurrentData().eventStore,i=[];for(let o in r){let s=r[o],a=n[s.defId];-1!==a.resourceIds.indexOf(e)&&i.push(new Fy(t,a,s))}return i}get id(){return JC(this._resource.id)}get title(){return this._resource.title}get eventConstraint(){return this._resource.ui.constraints[0]||null}get eventOverlap(){return this._resource.ui.overlap}get eventAllow(){return this._resource.ui.allows[0]||null}get eventBackgroundColor(){return this._resource.ui.backgroundColor}get eventBorderColor(){return this._resource.ui.borderColor}get eventTextColor(){return this._resource.ui.textColor}get eventClassNames(){return this._resource.ui.classNames}get extendedProps(){return this._resource.extendedProps}toPlainObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._resource,{ui:n}=t,r=this.id,i={};return r&&(i.id=r),t.title&&(i.title=t.title),e.collapseEventColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?i.eventColor=n.backgroundColor:(n.backgroundColor&&(i.eventBackgroundColor=n.backgroundColor),n.borderColor&&(i.eventBorderColor=n.borderColor)),n.textColor&&(i.eventTextColor=n.textColor),n.classNames.length&&(i.eventClassNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(i,t.extendedProps):i.extendedProps=t.extendedProps),i}toJSON(){return this.toPlainObject()}}class tx extends xb{getKeyInfo(e){return Object.assign({"":{}},e.resourceStore)}getKeysForDateSpan(e){return[e.resourceId||""]}getKeysForEventDef(e){let t=e.resourceIds;return t.length?t:[""]}}const nx=Kg("id,title");function rx(e){return{resource:new ex(e.context,e.resource)}}function ix(e,t,n,r,i,o){let s=function(e,t,n,r){let i=function(e,t){let n={};for(let r in e){let t=e[r];n[r]={resource:t,resourceFields:lx(t),children:[]}}for(let r in e){let i=e[r];if(i.parentId){let e=n[i.parentId];e&&ax(n[r],e.children,t)}}return n}(e,r),o=[];for(let s in i){let e=i[s];e.resource.parentId||sx(e,o,n,0,t,r)}return o}(e,r?-1:1,t,n),a=[];return ox(s,a,r,[],0,i,o),a}function ox(e,t,n,r,i,o,s){for(let a=0;a<e.length;a+=1){let l=e[a],c=l.group;if(c)if(n){let e=t.length,a=r.length;if(ox(l.children,t,n,r.concat(0),i,o,s),e<t.length){let n=t[e];(n.rowSpans=n.rowSpans.slice())[a]=t.length-e}}else{let e=c.spec.field+":"+c.value,a=null!=o[e]?o[e]:s;t.push({id:e,group:c,isExpanded:a}),a&&ox(l.children,t,n,r,i+1,o,s)}else if(l.resource){let e=l.resource.id,a=null!=o[e]?o[e]:s;t.push({id:e,rowSpans:r,depth:i,isExpanded:a,hasChildren:Boolean(l.children.length),resource:l.resource,resourceFields:l.resourceFields}),a&&ox(l.children,t,n,r,i+1,o,s)}}}function sx(e,t,n,r,i,o){if(n.length&&(-1===i||r<=i)){let s=function(e,t,n){let r,i,o=e.resourceFields[n.field];if(n.order)for(i=0;i<t.length;i+=1){let e=t[i];if(e.group){let t=Jg(o,e.group.value)*n.order;if(0===t){r=e;break}if(t<0)break}}else for(i=0;i<t.length;i+=1){let e=t[i];if(e.group&&o===e.group.value){r=e;break}}r||(r={group:{value:o,spec:n},children:[]},t.splice(i,0,r));return r}(e,t,n[0]);sx(e,s.children,n.slice(1),r+1,i,o)}else ax(e,t,o)}function ax(e,t,n){let r;for(r=0;r<t.length;r+=1){if(Xg(t[r].resourceFields,e.resourceFields,n)>0)break}t.splice(r,0,e)}function lx(e){let t=Object.assign(Object.assign(Object.assign({},e.extendedProps),e.ui),e);return delete t.ui,delete t.extendedProps,t}function cx(e,t){let{resourceEditable:n}=e;if(null==n){let r=e.sourceId&&t.getCurrentData().eventSources[e.sourceId];r&&(n=r.extendedProps.resourceEditable),null==n&&(n=t.options.eventResourceEditable,null==n&&(n=t.options.editable))}return n}function ux(e,t,n,r){if(t){let t=function(e,t){return uv(e,(e=>Qv(e.range,t)))}(n.instances,r),i=function(e,t){let n={};for(let r in e){let i=e[r];for(let e of t[i.defId].resourceIds)n[e]=!0}return n}(t,n.defs);return Object.assign(i,function(e,t){let n={};for(let r in e){let e;for(;(e=t[r])&&(r=e.parentId,r);)n[r]=!0}return n}(i,e)),uv(e,((e,t)=>i[t]))}return e}function dx(e){return dv(e,(e=>e.ui))}function hx(e,t,n){return dv(e,((e,r)=>r?function(e,t,n){let r=[];for(let i of t.resourceIds)n[i]&&r.unshift(n[i]);return r.unshift(e),wy(r)}(e,t[r],n):e))}let fx=[];function px(e){fx.push(e)}function gx(e){return fx[e]}function mx(){return fx}const vx={id:String,resources:av,url:String,method:String,startParam:String,endParam:String,timeZoneParam:String,extraParams:av};function yx(e){let t;if("string"===typeof e?t={url:e}:"function"===typeof e||Array.isArray(e)?t={resources:e}:"object"===typeof e&&e&&(t=e),t){let{refined:n,extra:r}=sv(t,vx);!function(e){for(let t in e)console.warn(`Unknown resource prop '${t}'`)}(r);let i=function(e){let t=mx();for(let n=t.length-1;n>=0;n-=1){let r=t[n].parseMeta(e);if(r)return{meta:r,sourceDefId:n}}return null}(n);if(i)return{_raw:e,sourceId:Gg(),sourceDefId:i.sourceDefId,meta:i.meta,publicId:n.id||"",isFetching:!1,latestFetchId:"",fetchRange:null}}return null}function bx(e,t,n){let{options:r,dateProfile:i}=n;if(!e||!t)return wx(r.initialResources||r.resources,i.activeRange,r.refetchResourcesOnNavigate,n);switch(t.type){case"RESET_RESOURCE_SOURCE":return wx(t.resourceSourceInput,i.activeRange,r.refetchResourcesOnNavigate,n);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return function(e,t,n,r){if(n&&!function(e){return Boolean(gx(e.sourceDefId).ignoreRange)}(e)&&(!e.fetchRange||!Gv(e.fetchRange,t)))return Sx(e,t,r);return e}(e,i.activeRange,r.refetchResourcesOnNavigate,n);case"RECEIVE_RESOURCES":case"RECEIVE_RESOURCE_ERROR":return function(e,t,n){if(t===e.latestFetchId)return Object.assign(Object.assign({},e),{isFetching:!1,fetchRange:n});return e}(e,t.fetchId,t.fetchRange);case"REFETCH_RESOURCES":return Sx(e,i.activeRange,n);default:return e}}function wx(e,t,n,r){if(e){let i=yx(e);return i=Sx(i,n?t:null,r),i}return null}function Sx(e,t,n){let r=gx(e.sourceDefId),i=Gg();return r.fetch({resourceSource:e,range:t,context:n},(e=>{n.dispatch({type:"RECEIVE_RESOURCES",fetchId:i,fetchRange:t,rawResources:e.rawResources})}),(e=>{n.dispatch({type:"RECEIVE_RESOURCE_ERROR",fetchId:i,fetchRange:t,error:e})})),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:i})}function Ex(e,t,n,r){if(!e||!t)return{};switch(t.type){case"RECEIVE_RESOURCES":return function(e,t,n,r,i){if(r.latestFetchId===n){let e={};for(let n of t)ZC(n,"",e,i);return e}return e}(e,t.rawResources,t.fetchId,n,r);case"ADD_RESOURCE":return i=e,o=t.resourceHash,Object.assign(Object.assign({},i),o);case"REMOVE_RESOURCE":return function(e,t){let n=Object.assign({},e);delete n[t];for(let r in n)n[r].parentId===t&&(n[r]=Object.assign(Object.assign({},n[r]),{parentId:""}));return n}(e,t.resourceId);case"SET_RESOURCE_PROP":return function(e,t,n,r){let i=e[t];if(i)return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{[n]:r})});return e}(e,t.resourceId,t.propName,t.propValue);case"SET_RESOURCE_EXTENDED_PROP":return function(e,t,n,r){let i=e[t];if(i)return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{extendedProps:Object.assign(Object.assign({},i.extendedProps),{[n]:r})})});return e}(e,t.resourceId,t.propName,t.propValue);default:return e}var i,o}const Cx={resourceId:String,resourceIds:av,resourceEditable:Boolean};function xx(e,t){return Object.assign(Object.assign({},t),{constraints:_x(e,t.constraints)})}function _x(e,t){return t.map((t=>{let n=t.defs;if(n)for(let r in n){let t=n[r].resourceIds;if(t.length&&-1===t.indexOf(e))return!1}return t}))}bb.prototype.addResource=function(e){let t,n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.getCurrentData();e instanceof ex?(n=e._resource,t={[n.id]:n}):(t={},n=ZC(e,"",t,i)),this.dispatch({type:"ADD_RESOURCE",resourceHash:t}),r&&this.trigger("_scrollRequest",{resourceId:n.id});let o=new ex(i,n);return i.emitter.trigger("resourceAdd",{resource:o,revert:()=>{this.dispatch({type:"REMOVE_RESOURCE",resourceId:n.id})}}),o},bb.prototype.getResourceById=function(e){e=String(e);let t=this.getCurrentData();if(t.resourceStore){let n=t.resourceStore[e];if(n)return new ex(t,n)}return null},bb.prototype.getResources=function(){let e=this.getCurrentData(),{resourceStore:t}=e,n=[];if(t)for(let r in t)n.push(new ex(e,t[r]));return n},bb.prototype.getTopLevelResources=function(){let e=this.getCurrentData(),{resourceStore:t}=e,n=[];if(t)for(let r in t)t[r].parentId||n.push(new ex(e,t[r]));return n},bb.prototype.refetchResources=function(){this.dispatch({type:"REFETCH_RESOURCES"})};const Dx={resources:function(e,t){t.getCurrentData().resourceSource._raw!==e&&t.dispatch({type:"RESET_RESOURCE_SOURCE",resourceSourceInput:e})}};const Tx={initialResources:av,resources:av,eventResourceEditable:Boolean,refetchResourcesOnNavigate:Boolean,resourceOrder:Kg,filterResourcesWithEvents:Boolean,resourceGroupField:String,resourceAreaWidth:av,resourceAreaColumns:av,resourcesInitiallyExpanded:Boolean,datesAboveResources:Boolean,needsResourceData:Boolean,resourceAreaHeaderClassNames:av,resourceAreaHeaderContent:av,resourceAreaHeaderDidMount:av,resourceAreaHeaderWillUnmount:av,resourceGroupLabelClassNames:av,resourceGroupLabelContent:av,resourceGroupLabelDidMount:av,resourceGroupLabelWillUnmount:av,resourceLabelClassNames:av,resourceLabelContent:av,resourceLabelDidMount:av,resourceLabelWillUnmount:av,resourceLaneClassNames:av,resourceLaneContent:av,resourceLaneDidMount:av,resourceLaneWillUnmount:av,resourceGroupLaneClassNames:av,resourceGroupLaneContent:av,resourceGroupLaneDidMount:av,resourceGroupLaneWillUnmount:av},kx={resourcesSet:av,resourceAdd:av,resourceChange:av,resourceRemove:av};Fy.prototype.getResources=function(){let{calendarApi:e}=this._context;return this._def.resourceIds.map((t=>e.getResourceById(t)))},Fy.prototype.setResources=function(e){let t=[];for(let n of e){let e=null;"string"===typeof n?e=n:"number"===typeof n?e=String(n):n instanceof ex?e=n.id:console.warn("unknown resource type: "+n),e&&t.push(e)}this.mutate({standardProps:{resourceIds:t}})},px({ignoreRange:!0,parseMeta:e=>Array.isArray(e.resources)?e.resources:null,fetch(e,t){t({rawResources:e.resourceSource.meta})}}),px({parseMeta:e=>"function"===typeof e.resources?e.resources:null,fetch(e,t,n){const r=e.context.dateEnv,i=e.resourceSource.meta,o=e.range?{start:r.toDate(e.range.start),end:r.toDate(e.range.end),startStr:r.formatIso(e.range.start),endStr:r.formatIso(e.range.end),timeZone:r.timeZone}:{};lb(i.bind(null,o),(e=>t({rawResources:e})),n)}}),px({parseMeta:e=>e.url?{url:e.url,method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams}:null,fetch(e,t,n){const r=e.resourceSource.meta,i=function(e,t,n){let r,i,o,s,{dateEnv:a,options:l}=n,c={};t&&(r=e.startParam,null==r&&(r=l.startParam),i=e.endParam,null==i&&(i=l.endParam),o=e.timeZoneParam,null==o&&(o=l.timeZoneParam),c[r]=a.formatIso(t.start),c[i]=a.formatIso(t.end),"local"!==a.timeZone&&(c[o]=a.timeZone));s="function"===typeof e.extraParams?e.extraParams():e.extraParams||{};return Object.assign(c,s),c}(r,e.range,e.context);ub(r.method,r.url,i).then((e=>{let[n,r]=e;t({rawResources:n,response:r})}),n)}});var Rx=hS({name:"@fullcalendar/resource",premiumReleaseDate:"2025-04-02",deps:[ZE],reducers:[function(e,t,n){let r=bx(e&&e.resourceSource,t,n),i=Ex(e&&e.resourceStore,t,r,n),o=function(e,t){return e&&t?"SET_RESOURCE_ENTITY_EXPANDED"===t.type?Object.assign(Object.assign({},e),{[t.id]:t.isExpanded}):e:{}}(e&&e.resourceEntityExpansions,t);return{resourceSource:r,resourceStore:i,resourceEntityExpansions:o}}],isLoadingFuncs:[e=>e.resourceSource&&e.resourceSource.isFetching],eventRefiners:Cx,eventDefMemberAdders:[function(e){return{resourceIds:(t=e.resourceIds,(t||[]).map((e=>String(e)))).concat(e.resourceId?[e.resourceId]:[]),resourceEditable:e.resourceEditable};var t}],isDraggableTransformers:[function(e,t,n,r){if(!e){let e=r.getCurrentData();if(e.viewSpecs[e.currentViewType].optionDefaults.needsResourceData&&cx(t,r))return!0}return e}],eventDragMutationMassagers:[function(e,t,n){let r=t.dateSpan.resourceId,i=n.dateSpan.resourceId;r&&i&&r!==i&&(e.resourceMutation={matchResourceId:r,setResourceId:i})}],eventDefMutationAppliers:[function(e,t,n){let r=t.resourceMutation;if(r&&cx(e,n)){let t=e.resourceIds.indexOf(r.matchResourceId);if(-1!==t){let n=e.resourceIds.slice();n.splice(t,1),-1===n.indexOf(r.setResourceId)&&n.push(r.setResourceId),e.resourceIds=n}}}],dateSelectionTransformers:[function(e,t){let n=e.dateSpan.resourceId,r=t.dateSpan.resourceId;return n&&r?{resourceId:n}:null}],datePointTransforms:[function(e,t){return e.resourceId?{resource:t.calendarApi.getResourceById(e.resourceId)}:{}}],dateSpanTransforms:[function(e,t){return e.resourceId?{resource:t.calendarApi.getResourceById(e.resourceId)}:{}}],viewPropsTransformers:[class{constructor(){this.filterResources=Pm(ux)}transform(e,t){return t.viewSpec.optionDefaults.needsResourceData?{resourceStore:this.filterResources(t.resourceStore,t.options.filterResourcesWithEvents,t.eventStore,t.dateProfile.activeRange),resourceEntityExpansions:t.resourceEntityExpansions}:null}},class{constructor(){this.buildResourceEventUis=Pm(dx,pv),this.injectResourceEventUis=Pm(hx)}transform(e,t){return t.viewSpec.optionDefaults.needsResourceData?null:{eventUiBases:this.injectResourceEventUis(e.eventUiBases,e.eventStore.defs,this.buildResourceEventUis(t.resourceStore))}}}],isPropsValid:function(e,t){let n=(new tx).splitProps(Object.assign(Object.assign({},e),{resourceStore:t.getCurrentData().resourceStore}));for(let r in n){let e=n[r];if(r&&n[""]&&(e=Object.assign(Object.assign({},e),{eventStore:py(n[""].eventStore,e.eventStore),eventUiBases:Object.assign(Object.assign({},n[""].eventUiBases),e.eventUiBases)})),!gw(e,t,{resourceId:r},xx.bind(null,r)))return!1}return!0},externalDefTransforms:[function(e){return e.resourceId?{resourceId:e.resourceId}:{}}],eventDropTransformers:[function(e,t){let{resourceMutation:n}=e;if(n){let{calendarApi:e}=t;return{oldResource:e.getResourceById(n.matchResourceId),newResource:e.getResourceById(n.setResourceId)}}return{oldResource:null,newResource:null}}],optionChangeHandlers:Dx,optionRefiners:Tx,listenerRefiners:kx,propSetHandlers:{resourceStore:function(e,t){let{emitter:n}=t;n.hasHandlers("resourcesSet")&&n.trigger("resourcesSet",function(e,t){let n=[];for(let r in e)n.push(new ex(t,e[r]));return n}(e,t))}}});function Ax(e){let{depth:t,hasChildren:n,isExpanded:r,onExpanderClick:i}=e,o=[];for(let a=0;a<t;a+=1)o.push(dp("span",{className:"fc-icon"}));let s=["fc-icon"];return n&&(r?s.push("fc-icon-minus-square"):s.push("fc-icon-plus-square")),o.push(dp("span",{className:"fc-datagrid-expander"+(n?"":" fc-datagrid-expander-placeholder"),onClick:i},dp("span",{className:s.join(" ")}))),dp(fp,{},...o)}class Ix extends Pv{constructor(){super(...arguments),this.refineRenderProps=Mm(Px),this.onExpanderClick=e=>{let{props:t}=this;t.hasChildren&&this.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:t.resource.id,isExpanded:!t.isExpanded})}}render(){let{props:e,context:t}=this,{colSpec:n}=e,r=this.refineRenderProps({resource:e.resource,fieldValue:e.fieldValue,context:t});return dp(Fv,{elTag:"td",elClasses:["fc-datagrid-cell","fc-resource"],elAttrs:{role:"gridcell","data-resource-id":e.resource.id},renderProps:r,generatorName:n.isMain?"resourceLabelContent":void 0,customGenerator:n.cellContent,defaultGenerator:Nx,classNameGenerator:n.cellClassNames,didMount:n.cellDidMount,willUnmount:n.cellWillUnmount},(t=>dp("div",{className:"fc-datagrid-cell-frame",style:{height:e.innerHeight}},dp("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},n.isMain&&dp(Ax,{depth:e.depth,hasChildren:e.hasChildren,isExpanded:e.isExpanded,onExpanderClick:this.onExpanderClick}),dp(t,{elTag:"span",elClasses:["fc-datagrid-cell-main"]})))))}}function Nx(e){return e.fieldValue||dp(fp,null,"\xa0")}function Px(e){return{resource:new ex(e.context,e.resource),fieldValue:e.fieldValue,view:e.context.viewApi}}class Mx extends Pv{render(){let{props:e,context:t}=this,{colSpec:n}=e,r={groupValue:e.fieldValue,view:t.viewApi};return dp(Fv,{elTag:"td",elClasses:["fc-datagrid-cell","fc-resource-group"],elAttrs:{role:"gridcell",rowSpan:e.rowSpan},renderProps:r,generatorName:"resourceGroupLabelContent",customGenerator:n.cellContent,defaultGenerator:Ox,classNameGenerator:n.cellClassNames,didMount:n.cellDidMount,willUnmount:n.cellWillUnmount},(e=>dp("div",{className:"fc-datagrid-cell-frame fc-datagrid-cell-frame-liquid"},dp(e,{elTag:"div",elClasses:["fc-datagrid-cell-cushion","fc-sticky"]}))))}}function Ox(e){return e.groupValue||dp(fp,null,"\xa0")}class jx extends Pv{render(){let{props:e}=this,{resource:t,rowSpans:n,depth:r}=e,i=lx(t);return dp("tr",{role:"row"},e.colSpecs.map(((o,s)=>{let a=n[s];if(0===a)return null;null==a&&(a=1);let l=o.field?i[o.field]:t.title||JC(t.id);return a>1?dp(Mx,{key:s,colSpec:o,fieldValue:l,rowSpan:a}):dp(Ix,{key:s,colSpec:o,resource:t,fieldValue:l,depth:r,hasChildren:e.hasChildren,isExpanded:e.isExpanded,innerHeight:e.innerHeight})})))}}jx.addPropsEquality({rowSpans:pm});class Lx extends Pv{constructor(){super(...arguments),this.innerInnerRef={current:null},this.onExpanderClick=()=>{let{props:e}=this;this.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:e.id,isExpanded:!e.isExpanded})}}render(){let{props:e,context:t}=this,n={groupValue:e.group.value,view:t.viewApi},r=e.group.spec;return dp("tr",{role:"row"},dp(Fv,{elTag:"th",elClasses:["fc-datagrid-cell","fc-resource-group",t.theme.getClass("tableCellShaded")],elAttrs:{role:"columnheader",scope:"colgroup",colSpan:e.spreadsheetColCnt},renderProps:n,generatorName:"resourceGroupLabelContent",customGenerator:r.labelContent,defaultGenerator:zx,classNameGenerator:r.labelClassNames,didMount:r.labelDidMount,willUnmount:r.labelWillUnmount},(t=>dp("div",{className:"fc-datagrid-cell-frame",style:{height:e.innerHeight}},dp("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:this.innerInnerRef},dp(Ax,{depth:0,hasChildren:!0,isExpanded:e.isExpanded,onExpanderClick:this.onExpanderClick}),dp(t,{elTag:"span",elClasses:["fc-datagrid-cell-main"]}))))))}}function zx(e){return e.groupValue||dp(fp,null,"\xa0")}Lx.addPropsEquality({group:function(e,t){return e.spec===t.spec&&e.value===t.value}});class Bx extends Pv{constructor(){super(...arguments),this.resizerElRefs=new Ew(this._handleColResizerEl.bind(this)),this.colDraggings={}}render(){let{colSpecs:e,superHeaderRendering:t,rowInnerHeights:n}=this.props,r={view:this.context.viewApi},i=[];if(n=n.slice(),t){let o=n.shift();i.push(dp("tr",{key:"row-super",role:"row"},dp(Fv,{elTag:"th",elClasses:["fc-datagrid-cell","fc-datagrid-cell-super"],elAttrs:{role:"columnheader",scope:"colgroup",colSpan:e.length},renderProps:r,generatorName:"resourceAreaHeaderContent",customGenerator:t.headerContent,defaultGenerator:t.headerDefault,classNameGenerator:t.headerClassNames,didMount:t.headerDidMount,willUnmount:t.headerWillUnmount},(e=>dp("div",{className:"fc-datagrid-cell-frame",style:{height:o}},dp(e,{elTag:"div",elClasses:["fc-datagrid-cell-cushion","fc-scrollgrid-sync-inner"]}))))))}let o=n.shift();return i.push(dp("tr",{key:"row",role:"row"},e.map(((t,n)=>{let i=n===e.length-1;return dp(Fv,{key:n,elTag:"th",elClasses:["fc-datagrid-cell"],elAttrs:{role:"columnheader"},renderProps:r,generatorName:"resourceAreaHeaderContent",customGenerator:t.headerContent,defaultGenerator:t.headerDefault,classNameGenerator:t.headerClassNames,didMount:t.headerDidMount,willUnmount:t.headerWillUnmount},(e=>dp("div",{className:"fc-datagrid-cell-frame",style:{height:o}},dp("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},t.isMain&&dp("span",{className:"fc-datagrid-expander fc-datagrid-expander-placeholder"},dp("span",{className:"fc-icon"})),dp(e,{elTag:"span",elClasses:["fc-datagrid-cell-main"]})),!i&&dp("div",{className:"fc-datagrid-cell-resizer",ref:this.resizerElRefs.createRef(n)}))))})))),dp(fp,null,i)}_handleColResizerEl(e,t){let{colDraggings:n}=this;if(e){let r=this.initColResizing(e,parseInt(t,10));r&&(n[t]=r)}else{let e=n[t];e&&(e.destroy(),delete n[t])}}initColResizing(e,t){let{pluginHooks:n,isRtl:r}=this.context,{onColWidthChange:i}=this.props,o=n.elementDraggingImpl;if(o){let n,s,a=new o(e);return a.emitter.on("dragstart",(()=>{let r=Mg(Ng(e,"tr"),"th");s=r.map((e=>e.getBoundingClientRect().width)),n=s[t]})),a.emitter.on("dragmove",(e=>{s[t]=Math.max(n+e.deltaX*(r?-1:1),20),i&&i(s.slice())})),a.setAutoScrollEnabled(!1),a}return null}}class Fx extends Pv{constructor(){super(...arguments),this.refineRenderProps=Mm(rx),this.handleHeightChange=(e,t)=>{this.props.onHeightChange&&this.props.onHeightChange(Ng(e,"tr"),t)}}render(){let{props:e,context:t}=this,{options:n}=t,r=this.refineRenderProps({resource:e.resource,context:t});return dp("tr",{ref:e.elRef},dp(Fv,{elTag:"td",elClasses:["fc-timeline-lane","fc-resource"],elAttrs:{"data-resource-id":e.resource.id},renderProps:r,generatorName:"resourceLaneContent",customGenerator:n.resourceLaneContent,classNameGenerator:n.resourceLaneClassNames,didMount:n.resourceLaneDidMount,willUnmount:n.resourceLaneWillUnmount},(t=>dp("div",{className:"fc-timeline-lane-frame",style:{height:e.innerHeight}},dp(t,{elTag:"div",elClasses:["fc-timeline-lane-misc"]}),dp(qC,{dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,nextDayThreshold:e.nextDayThreshold,businessHours:e.businessHours,eventStore:e.eventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,timelineCoords:e.timelineCoords,onHeightChange:this.handleHeightChange,resourceId:e.resource.id})))))}}class Ux extends Pv{render(){let{props:e,context:t}=this,{renderHooks:n}=e,r={groupValue:e.groupValue,view:t.viewApi};return dp("tr",{ref:e.elRef},dp(Fv,{elTag:"td",elRef:e.elRef,elClasses:["fc-timeline-lane","fc-resource-group",t.theme.getClass("tableCellShaded")],renderProps:r,generatorName:"resourceGroupLaneContent",customGenerator:n.laneContent,classNameGenerator:n.laneClassNames,didMount:n.laneDidMount,willUnmount:n.laneWillUnmount},(t=>dp(t,{elTag:"div",elStyle:{height:e.innerHeight}}))))}}class $x extends Pv{render(){let{props:e,context:t}=this,{rowElRefs:n,innerHeights:r}=e;return dp("tbody",null,e.rowNodes.map(((i,o)=>{if(i.group)return dp(Ux,{key:i.id,elRef:n.createRef(i.id),groupValue:i.group.value,renderHooks:i.group.spec,innerHeight:r[o]||""});if(i.resource){let s=i.resource;return dp(Fx,Object.assign({key:i.id,elRef:n.createRef(i.id)},e.splitProps[s.id],{resource:s,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,nextDayThreshold:t.options.nextDayThreshold,businessHours:s.businessHours||e.fallbackBusinessHours,innerHeight:r[o]||"",timelineCoords:e.slatCoords,onHeightChange:e.onRowHeightChange}))}return null})))}}class Hx extends Pv{constructor(){super(...arguments),this.rootElRef={current:null},this.rowElRefs=new Ew}render(){let{props:e,context:t}=this;return dp("table",{ref:this.rootElRef,"aria-hidden":!0,className:"fc-scrollgrid-sync-table "+t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},dp($x,{rowElRefs:this.rowElRefs,rowNodes:e.rowNodes,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,splitProps:e.splitProps,fallbackBusinessHours:e.fallbackBusinessHours,slatCoords:e.slatCoords,innerHeights:e.innerHeights,onRowHeightChange:e.onRowHeightChange}))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}componentWillUnmount(){this.props.onRowCoords&&this.props.onRowCoords(null)}updateCoords(){let{props:e}=this;var t;e.onRowCoords&&null!==e.clientWidth&&this.props.onRowCoords(new Ub(this.rootElRef.current,(t=this.rowElRefs.currentMap,e.rowNodes.map((e=>t[e.id]))),!1,!0))}}class Vx extends qb{constructor(){super(...arguments),this.computeHasResourceBusinessHours=Pm(Wx),this.resourceSplitter=new tx,this.bgSlicer=new $C,this.slatsRef={current:null},this.state={slatCoords:null},this.handleEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)},this.handleRowCoords=e=>{this.rowCoords=e,this.props.onRowCoords&&this.props.onRowCoords(e)}}render(){let{props:e,state:t,context:n}=this,{dateProfile:r,tDateProfile:i}=e,o=fm(i.slotDuration).unit,s=this.computeHasResourceBusinessHours(e.rowNodes),a=this.resourceSplitter.splitProps(e),l=a[""],c=this.bgSlicer.sliceProps(l,r,i.isTimeScale?null:e.nextDayThreshold,n,r,n.dateProfileGenerator,i,n.dateEnv),u=t.slatCoords&&t.slatCoords.dateProfile===e.dateProfile?t.slatCoords:null;return dp("div",{ref:this.handleEl,className:["fc-timeline-body",e.expandRows?"fc-timeline-body-expandrows":""].join(" "),style:{minWidth:e.tableMinWidth}},dp(vb,{unit:o},((t,o)=>dp(fp,null,dp(zC,{ref:this.slatsRef,dateProfile:r,tDateProfile:i,nowDate:t,todayRange:o,clientWidth:e.clientWidth,tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,onCoords:this.handleSlatCoords,onScrollLeftRequest:e.onScrollLeftRequest}),dp(UC,{businessHourSegs:s?null:c.businessHourSegs,bgEventSegs:c.bgEventSegs,timelineCoords:u,eventResizeSegs:c.eventResize?c.eventResize.segs:[],dateSelectionSegs:c.dateSelectionSegs,nowDate:t,todayRange:o}),dp(Hx,{rowNodes:e.rowNodes,dateProfile:r,tDateProfile:e.tDateProfile,nowDate:t,todayRange:o,splitProps:a,fallbackBusinessHours:s?e.businessHours:null,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,innerHeights:e.rowInnerHeights,slatCoords:u,onRowCoords:this.handleRowCoords,onRowHeightChange:e.onRowHeightChange}),n.options.nowIndicator&&u&&u.isDateInRange(t)&&dp("div",{className:"fc-timeline-now-indicator-container"},dp(Fw,{elClasses:["fc-timeline-now-indicator-line"],elStyle:PC(u.dateToCoord(t),n.isRtl),isAxis:!1,date:t}))))))}queryHit(e,t){let n=this.rowCoords,r=n.topToIndex(t);if(null!=r){let t=this.props.rowNodes[r].resource;if(t){let i=this.slatsRef.current.positionToHit(e);if(i)return{dateProfile:this.props.dateProfile,dateSpan:{range:i.dateSpan.range,allDay:i.dateSpan.allDay,resourceId:t.id},rect:{left:i.left,right:i.right,top:n.tops[r],bottom:n.bottoms[r]},dayEl:i.dayEl,layer:0}}}return null}}function Wx(e){for(let t of e){let e=t.resource;if(e&&e.businessHours)return!0}return!1}class qx extends Pv{constructor(){super(...arguments),this.scrollGridRef={current:null},this.timeBodyScrollerElRef={current:null},this.spreadsheetHeaderChunkElRef={current:null},this.rootElRef={current:null},this.ensureScrollGridResizeId=0,this.state={resourceAreaWidthOverride:null},this.ensureScrollGridResize=()=>{this.ensureScrollGridResizeId&&clearTimeout(this.ensureScrollGridResizeId),this.ensureScrollGridResizeId=setTimeout((()=>{this.scrollGridRef.current.handleSizing(!1)}),ew.SCROLLGRID_RESIZE_INTERVAL+1)}}render(){let{props:e,state:t,context:n}=this,{options:r}=n,i=!e.forPrint&&Mw(r),o=!e.forPrint&&Ow(r),s=[{type:"header",key:"header",syncRowHeights:!0,isSticky:i,chunks:[{key:"datagrid",elRef:this.spreadsheetHeaderChunkElRef,tableClassName:"fc-datagrid-header",rowContent:e.spreadsheetHeaderRows},{key:"divider",outerContent:dp("td",{role:"presentation",className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",content:e.timeHeaderContent}]},{type:"body",key:"body",syncRowHeights:!0,liquid:!0,expandRows:Boolean(r.expandRows),chunks:[{key:"datagrid",tableClassName:"fc-datagrid-body",rowContent:e.spreadsheetBodyRows},{key:"divider",outerContent:dp("td",{role:"presentation",className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",scrollerElRef:this.timeBodyScrollerElRef,content:e.timeBodyContent}]}];o&&s.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"datagrid",content:Pw},{key:"divider",outerContent:dp("td",{role:"presentation",className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",content:Pw}]});let a=null!=t.resourceAreaWidthOverride?t.resourceAreaWidthOverride:r.resourceAreaWidth;return dp(lC,{ref:this.scrollGridRef,elRef:this.rootElRef,liquid:!e.isHeightAuto&&!e.forPrint,forPrint:e.forPrint,collapsibleWidth:!1,colGroups:[{cols:e.spreadsheetCols,width:a},{cols:[]},{cols:e.timeCols}],sections:s})}forceTimeScroll(e){this.scrollGridRef.current.forceScrollLeft(2,e)}forceResourceScroll(e){this.scrollGridRef.current.forceScrollTop(1,e)}getResourceScroll(){return this.timeBodyScrollerElRef.current.scrollTop}componentDidMount(){this.initSpreadsheetResizing()}componentWillUnmount(){this.destroySpreadsheetResizing()}initSpreadsheetResizing(){let{isRtl:e,pluginHooks:t}=this.context,n=t.elementDraggingImpl,r=this.spreadsheetHeaderChunkElRef.current;if(n){let t,i,o=this.rootElRef.current,s=this.spreadsheetResizerDragging=new n(o,".fc-resource-timeline-divider");s.emitter.on("dragstart",(()=>{t=r.getBoundingClientRect().width,i=o.getBoundingClientRect().width})),s.emitter.on("dragmove",(n=>{let r=t+n.deltaX*(e?-1:1);r=Math.max(r,30),r=Math.min(r,i-30),this.setState({resourceAreaWidthOverride:r},this.ensureScrollGridResize)})),s.setAutoScrollEnabled(!1)}}destroySpreadsheetResizing(){this.spreadsheetResizerDragging&&this.spreadsheetResizerDragging.destroy()}}class Gx extends Pv{constructor(e,t){super(e,t),this.processColOptions=Pm(Xx),this.buildTimelineDateProfile=Pm(wC),this.hasNesting=Pm(Kx),this.buildRowNodes=Pm(ix),this.layoutRef={current:null},this.rowNodes=[],this.renderedRowNodes=[],this.buildRowIndex=Pm(Qx),this.handleSlatCoords=e=>{this.setState({slatCoords:e})},this.handleRowCoords=e=>{this.rowCoords=e,this.scrollResponder.update(!1)},this.handleMaxCushionWidth=e=>{this.setState({slotCushionMaxWidth:Math.ceil(e)})},this.handleScrollLeftRequest=e=>{this.layoutRef.current.forceTimeScroll(e)},this.handleScrollRequest=e=>{let{rowCoords:t}=this,n=this.layoutRef.current,r=e.rowId||e.resourceId;if(t){if(r){let i=this.buildRowIndex(this.renderedRowNodes)[r];if(null!=i){let r=null!=e.fromBottom?t.bottoms[i]-e.fromBottom:t.tops[i];n.forceResourceScroll(r)}}return!0}return null},this.handleColWidthChange=e=>{this.setState({spreadsheetColWidths:e})},this.state={resourceAreaWidth:t.options.resourceAreaWidth,spreadsheetColWidths:[]}}render(){let{props:e,state:t,context:n}=this,{options:r,viewSpec:i}=n,{superHeaderRendering:o,groupSpecs:s,orderSpecs:a,isVGrouping:l,colSpecs:c}=this.processColOptions(n.options),u=this.buildTimelineDateProfile(e.dateProfile,n.dateEnv,r,n.dateProfileGenerator),d=this.rowNodes=this.buildRowNodes(e.resourceStore,s,a,l,e.resourceEntityExpansions,r.resourcesInitiallyExpanded),{slotMinWidth:h}=r,f=QC(u,h||this.computeFallbackSlotMinWidth(u));return dp($v,{elClasses:["fc-resource-timeline",!this.hasNesting(d)&&"fc-resource-timeline-flat","fc-timeline",!1===r.eventOverlap?"fc-timeline-overlap-disabled":"fc-timeline-overlap-enabled"],viewSpec:i},dp(qx,{ref:this.layoutRef,forPrint:e.forPrint,isHeightAuto:e.isHeightAuto,spreadsheetCols:Yx(c,t.spreadsheetColWidths,""),spreadsheetHeaderRows:e=>dp(Bx,{superHeaderRendering:o,colSpecs:c,onColWidthChange:this.handleColWidthChange,rowInnerHeights:e.rowSyncHeights}),spreadsheetBodyRows:e=>dp(fp,null,this.renderSpreadsheetRows(d,c,e.rowSyncHeights)),timeCols:f,timeHeaderContent:n=>dp(OC,{clientWidth:n.clientWidth,clientHeight:n.clientHeight,tableMinWidth:n.tableMinWidth,tableColGroupNode:n.tableColGroupNode,dateProfile:e.dateProfile,tDateProfile:u,slatCoords:t.slatCoords,rowInnerHeights:n.rowSyncHeights,onMaxCushionWidth:h?null:this.handleMaxCushionWidth}),timeBodyContent:t=>dp(Vx,{dateProfile:e.dateProfile,clientWidth:t.clientWidth,clientHeight:t.clientHeight,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,expandRows:t.expandRows,tDateProfile:u,rowNodes:d,businessHours:e.businessHours,dateSelection:e.dateSelection,eventStore:e.eventStore,eventUiBases:e.eventUiBases,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,resourceStore:e.resourceStore,nextDayThreshold:n.options.nextDayThreshold,rowInnerHeights:t.rowSyncHeights,onSlatCoords:this.handleSlatCoords,onRowCoords:this.handleRowCoords,onScrollLeftRequest:this.handleScrollLeftRequest,onRowHeightChange:t.reportRowHeightChange})}))}renderSpreadsheetRows(e,t,n){return e.map(((e,r)=>e.group?dp(Lx,{key:e.id,id:e.id,spreadsheetColCnt:t.length,isExpanded:e.isExpanded,group:e.group,innerHeight:n[r]||""}):e.resource?dp(jx,{key:e.id,colSpecs:t,rowSpans:e.rowSpans,depth:e.depth,isExpanded:e.isExpanded,hasChildren:e.hasChildren,resource:e.resource,innerHeight:n[r]||""}):null))}componentDidMount(){this.renderedRowNodes=this.rowNodes,this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}getSnapshotBeforeUpdate(){return this.props.forPrint?{}:{resourceScroll:this.queryResourceScroll()}}componentDidUpdate(e,t,n){this.renderedRowNodes=this.rowNodes,this.scrollResponder.update(e.dateProfile!==this.props.dateProfile),n.resourceScroll&&this.handleScrollRequest(n.resourceScroll)}componentWillUnmount(){this.scrollResponder.detach()}computeFallbackSlotMinWidth(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)}queryResourceScroll(){let{rowCoords:e,renderedRowNodes:t}=this;if(e){let n=this.layoutRef.current,r=e.bottoms,i=n.getResourceScroll(),o={};for(let e=0;e<r.length;e+=1){let n=t[e],s=r[e]-i;if(s>0){o.rowId=n.id,o.fromBottom=s;break}}return o}return null}}function Qx(e){let t={};for(let n=0;n<e.length;n+=1)t[e[n].id]=n;return t}function Yx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.map(((e,r)=>({className:e.isMain?"fc-main-col":"",width:t[r]||e.width||n})))}function Kx(e){for(let t of e){if(t.group)return!0;if(t.resource&&t.hasChildren)return!0}return!1}function Xx(e){let t=e.resourceAreaColumns||[],n=null;t.length?e.resourceAreaHeaderContent&&(n={headerClassNames:e.resourceAreaHeaderClassNames,headerContent:e.resourceAreaHeaderContent,headerDidMount:e.resourceAreaHeaderDidMount,headerWillUnmount:e.resourceAreaHeaderWillUnmount}):t.push({headerClassNames:e.resourceAreaHeaderClassNames,headerContent:e.resourceAreaHeaderContent,headerDefault:()=>"Resources",headerDidMount:e.resourceAreaHeaderDidMount,headerWillUnmount:e.resourceAreaHeaderWillUnmount});let r=[],i=[],o=[],s=!1;for(let u of t)u.group?i.push(Object.assign(Object.assign({},u),{cellClassNames:u.cellClassNames||e.resourceGroupLabelClassNames,cellContent:u.cellContent||e.resourceGroupLabelContent,cellDidMount:u.cellDidMount||e.resourceGroupLabelDidMount,cellWillUnmount:u.cellWillUnmount||e.resourceGroupLaneWillUnmount})):r.push(u);let a=r[0];if(a.isMain=!0,a.cellClassNames=a.cellClassNames||e.resourceLabelClassNames,a.cellContent=a.cellContent||e.resourceLabelContent,a.cellDidMount=a.cellDidMount||e.resourceLabelDidMount,a.cellWillUnmount=a.cellWillUnmount||e.resourceLabelWillUnmount,i.length)o=i,s=!0;else{let t=e.resourceGroupField;t&&o.push({field:t,labelClassNames:e.resourceGroupLabelClassNames,labelContent:e.resourceGroupLabelContent,labelDidMount:e.resourceGroupLabelDidMount,labelWillUnmount:e.resourceGroupLabelWillUnmount,laneClassNames:e.resourceGroupLaneClassNames,laneContent:e.resourceGroupLaneContent,laneDidMount:e.resourceGroupLaneDidMount,laneWillUnmount:e.resourceGroupLaneWillUnmount})}let l=e.resourceOrder||nx,c=[];for(let u of l){let e=!1;for(let t of o)if(t.field===u.field){t.order=u.order,e=!0;break}e||c.push(u)}return{superHeaderRendering:n,isVGrouping:s,groupSpecs:o,colSpecs:i.concat(r),orderSpecs:c}}Gx.addStateEquality({spreadsheetColWidths:pm});Dg(".fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:var(--fc-neutral-bg-color)}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}");var Zx=hS({name:"@fullcalendar/resource-timeline",premiumReleaseDate:"2025-04-02",deps:[ZE,Rx,YC],initialView:"resourceTimelineDay",views:{resourceTimeline:{type:"timeline",component:Gx,needsResourceData:!0,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}});ew.touchMouseIgnoreWait=500;let Jx=0,e_=0,t_=!1;class n_{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=e=>{if(!this.shouldIgnoreMouse()&&function(e){return 0===e.button&&!e.ctrlKey}(e)&&this.tryStart(e)){let t=this.createEventFromMouse(e,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=e=>{let t=this.createEventFromMouse(e);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleMouseUp=e=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(e)),this.cleanup()},this.handleTouchStart=e=>{if(this.tryStart(e)){this.isTouchDragging=!0;let t=this.createEventFromTouch(e,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t);let n=e.target;this.shouldIgnoreMove||n.addEventListener("touchmove",this.handleTouchMove),n.addEventListener("touchend",this.handleTouchEnd),n.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=e=>{let t=this.createEventFromTouch(e);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleTouchEnd=e=>{if(this.isDragging){let t=e.target;t.removeEventListener("touchmove",this.handleTouchMove),t.removeEventListener("touchend",this.handleTouchEnd),t.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(e)),this.cleanup(),this.isTouchDragging=!1,Jx+=1,setTimeout((()=>{Jx-=1}),ew.touchMouseIgnoreWait)}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=e=>{if(!this.shouldIgnoreMove){let t=window.scrollX-this.prevScrollX+this.prevPageX,n=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:e,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:t,pageY:n,deltaX:t-this.origPageX,deltaY:n-this.origPageY})}},this.containerEl=e,this.emitter=new Ay,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),e_+=1,1===e_&&window.addEventListener("touchmove",r_,{passive:!1})}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),e_-=1,e_||window.removeEventListener("touchmove",r_,{passive:!1})}tryStart(e){let t=this.querySubjectEl(e),n=e.target;return!(!t||this.handleSelector&&!Ng(n,this.handleSelector))&&(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0)}cleanup(){t_=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Ng(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Jx||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(t_=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let n=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:r}}createEventFromTouch(e,t){let n,r,i=e.touches,o=0,s=0;return i&&i.length?(n=i[0].pageX,r=i[0].pageY):(n=e.pageX,r=e.pageY),t?(this.origPageX=n,this.origPageY=r):(o=n-this.origPageX,s=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:r,deltaX:o,deltaY:s}}}function r_(e){t_&&e.preventDefault()}class i_{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let n=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,t){let n=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",jg(n,{left:r.left,top:r.top}),function(e,t){let n=r=>{t(r),Hg.forEach((t=>{e.removeEventListener(t,n)}))};Hg.forEach((t=>{e.addEventListener(t,n)}))}(n,(()=>{n.style.transition="",e()}))}cleanup(){this.mirrorEl&&(Ig(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&jg(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),jg(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class o_ extends Hb{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class s_ extends o_{constructor(e,t){super(new Vb(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return zb(this.scrollController.el)}}class a_ extends o_{constructor(e){super(new Wb,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const l_="function"===typeof performance?performance.now:Date.now;class c_{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=l_();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let n=e-window.scrollX,r=t-window.scrollY,i=null===this.pointerScreenY?0:r-this.pointerScreenY,o=null===this.pointerScreenX?0:n-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(l_()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:n}=e,{edgeThreshold:r}=this,i=r-e.distance,o=i*i/(r*r)*this.maxVelocity*t,s=1;switch(e.name){case"left":s=-1;case"right":n.setScrollLeft(n.getScrollLeft()+o*s);break;case"top":s=-1;case"bottom":n.setScrollTop(n.getScrollTop()+o*s)}}computeBestEdge(e,t){let{edgeThreshold:n}=this,r=null,i=this.scrollCaches||[];for(let o of i){let i=o.clientRect,s=e-i.left,a=i.right-e,l=t-i.top,c=i.bottom-t;s>=0&&a>=0&&l>=0&&c>=0&&(l<=n&&this.everMovedUp&&o.canScrollUp()&&(!r||r.distance>l)&&(r={scrollCache:o,name:"top",distance:l}),c<=n&&this.everMovedDown&&o.canScrollDown()&&(!r||r.distance>c)&&(r={scrollCache:o,name:"bottom",distance:c}),s<=n&&this.everMovedLeft&&o.canScrollLeft()&&(!r||r.distance>s)&&(r={scrollCache:o,name:"left",distance:s}),a<=n&&this.everMovedRight&&o.canScrollRight()&&(!r||r.distance>a)&&(r={scrollCache:o,name:"right",distance:a}))}return r}buildCaches(e){return this.queryScrollEls(e).map((e=>e===window?new a_(!1):new s_(e,!1)))}queryScrollEls(e){let t=[];for(let n of this.scrollQuery)"object"===typeof n?t.push(n):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return t}}class u_ extends Jb{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=e=>{var t;this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,(t=document.body).style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",Ug),function(e){e.addEventListener("contextmenu",Ug)}(document.body),e.isTouch||e.origEvent.preventDefault(),this.emitter.trigger("pointerdown",e),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(e.subjectEl,e.pageX,e.pageY),this.startDelay(e),this.minDistance||this.handleDistanceSurpassed(e)))},this.onPointerMove=e=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",e),!this.isDistanceSurpassed){let t,n=this.minDistance,{deltaX:r,deltaY:i}=e;t=r*r+i*i,t>=n*n&&this.handleDistanceSurpassed(e)}this.isDragging&&("scroll"!==e.origEvent.type&&(this.mirror.handleMove(e.pageX,e.pageY),this.autoScroller.handleMove(e.pageX,e.pageY)),this.emitter.trigger("dragmove",e))}},this.onPointerUp=e=>{var t;this.isInteracting&&(this.isInteracting=!1,(t=document.body).style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",Ug),function(e){e.removeEventListener("contextmenu",Ug)}(document.body),this.emitter.trigger("pointerup",e),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(e)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new n_(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),t&&(n.selector=t),this.mirror=new i_,this.autoScroller=new c_}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){"number"===typeof this.delay?this.delayTimeoutId=setTimeout((()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)}),this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class d_{constructor(e){this.el=e,this.origRect=Bb(e),this.scrollCaches=Fb(e).map((e=>new s_(e,!0)))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let n={left:e,top:t};for(let r of this.scrollCaches)if(!h_(r.getEventTarget())&&!wb(n,r.clientRect))return!1;return!0}}function h_(e){let t=e.tagName;return"HTML"===t||"BODY"===t}class f_{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=e=>{let{dragging:t}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(e),this.initialHit||!this.requireInitial?(t.setIgnoreMove(!1),this.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=e=>{this.emitter.trigger("dragstart",e),this.handleMove(e,!0)},this.handleDragMove=e=>{this.emitter.trigger("dragmove",e),this.handleMove(e)},this.handlePointerUp=e=>{this.releaseHits(),this.emitter.trigger("pointerup",e)},this.handleDragEnd=e=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,e),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",e)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Ay}processFirstCoord(e){let t,n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl;var o,s;i instanceof HTMLElement&&(t=Bb(i),o=r,s=t,r={left:Math.min(Math.max(o.left,s.left),s.right),top:Math.min(Math.max(o.top,s.top),s.bottom)});let a=this.initialHit=this.queryHitForOffset(r.left,r.top);if(a){if(this.useSubjectCenter&&t){let e=Sb(t,a.rect);e&&(r=function(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}(e))}this.coordAdjust=(c=n,{left:(l=r).left-c.left,top:l.top-c.top})}else this.coordAdjust={left:0,top:0};var l,c}handleMove(e,t){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);!t&&p_(this.movingHit,n)||(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=dv(this.droppableStore,(e=>(e.component.prepareHits(),new d_(e.el))))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:n,offsetTrackers:r}=this,i=null;for(let o in n){let s=n[o].component,a=r[o];if(a&&a.isWithinClipping(e,t)){let n=a.computeLeft(),r=a.computeTop(),l=e-n,c=t-r,{origRect:u}=a,d=u.right-u.left,h=u.bottom-u.top;if(l>=0&&l<d&&c>=0&&c<h){let e=s.queryHit(l,c,d,h);e&&Yv(e.dateProfile.activeRange,e.dateSpan.range)&&(this.disablePointCheck||a.el.contains(a.el.getRootNode().elementFromPoint(l+n-window.scrollX,c+r-window.scrollY)))&&(!i||e.layer>i.layer)&&(e.componentId=o,e.context=s.context,e.rect.left+=n,e.rect.right+=n,e.rect.top+=r,e.rect.bottom+=r,i=e)}}}return i}}function p_(e,t){return!e&&!t||Boolean(e)===Boolean(t)&&(n=e.dateSpan,r=t.dateSpan,Gv(n.range,r.range)&&n.allDay===r.allDay&&function(e,t){for(let n in t)if("range"!==n&&"allDay"!==n&&e[n]!==t[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}(n,r));var n,r}function g_(e,t){let n={};for(let o of t.pluginHooks.datePointTransforms)Object.assign(n,o(e,t));var r,i;return Object.assign(n,(r=e,{date:(i=t.dateEnv).toDate(r.range.start),dateStr:i.formatIso(r.range.start,{omitTime:r.allDay}),allDay:r.allDay})),n}class m_ extends pb{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let t=e.origEvent.target,{component:n,dragging:r}=this,{mirror:i}=r,{options:o}=n.context,s=n.context;this.subjectEl=e.subjectEl;let a=this.subjectSeg=Wy(e.subjectEl),l=(this.eventRange=a.eventRange).instance.instanceId;this.relevantEvents=fy(s.getCurrentData().eventStore,l),r.minDistance=e.isTouch?0:o.eventDragMinDistance,r.delay=e.isTouch&&l!==n.props.eventSelection?function(e){let{options:t}=e.context,n=t.eventLongPressDelay;null==n&&(n=t.longPressDelay);return n}(n):null,o.fixedMirrorParent?i.parentNode=o.fixedMirrorParent:i.parentNode=Ng(t,".fc"),i.revertDuration=o.dragRevertDuration;let c=n.isValidSegDownEl(t)&&!Ng(t,".fc-event-resizer");r.setIgnoreMove(!c),this.isDragging=c&&e.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=e=>{let t=this.component.context,n=this.eventRange,r=n.instance.instanceId;e.isTouch?r!==this.component.props.eventSelection&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:r}):t.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(t.calendarApi.unselect(e),t.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Fy(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi}))},this.handleHitUpdate=(e,t)=>{if(!this.isDragging)return;let n=this.relevantEvents,r=this.hitDragging.initialHit,i=this.component.context,o=null,s=null,a=null,l=!1,c={affectedEvents:n,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(e){o=e.context;let t=o.options;i===o||t.editable&&t.droppable?(s=function(e,t,n,r){let i=e.dateSpan,o=t.dateSpan,s=i.range.start,a=o.range.start,l={};i.allDay!==o.allDay&&(l.allDay=o.allDay,l.hasEnd=t.context.options.allDayMaintainDuration,s=o.allDay?Sm(n):n);let c=Jv(s,a,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);c.milliseconds&&(l.allDay=!1);let u={datesDelta:c,standardProps:l};for(let d of r)d(u,e,t);return u}(r,e,this.eventRange.instance.range.start,o.getCurrentData().pluginHooks.eventDragMutationMassagers),s&&(a=jy(n,o.getCurrentData().eventUiBases,s,o),c.mutatedEvents=a,fw(c,e.dateProfile,o)||(l=!0,s=null,a=null,c.mutatedEvents={defs:{},instances:{}}))):o=null}this.displayDrag(o,c),l?Qg():Yg(),t||(i===o&&p_(r,e)&&(s=null),this.dragging.setMirrorNeedsRevert(!s),this.dragging.setMirrorIsVisible(!e||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=o,this.validMutation=s,this.mutatedRelevantEvents=a)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=e=>{if(this.isDragging){let t=this.component.context,n=t.viewApi,{receivingContext:r,validMutation:i}=this,o=this.eventRange.def,s=this.eventRange.instance,a=new Fy(t,o,s),l=this.relevantEvents,c=this.mutatedRelevantEvents,{finalHit:u}=this.hitDragging;if(this.clearDrag(),t.emitter.trigger("eventDragStop",{el:this.subjectEl,event:a,jsEvent:e.origEvent,view:n}),i){if(r===t){let r=new Fy(t,c.defs[o.defId],s?c.instances[s.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:c});let u={oldEvent:a,event:r,relatedEvents:$y(c,t,s),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:l})}},d={};for(let e of t.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(d,e(i,t));t.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},u),d),{el:e.subjectEl,delta:i.datesDelta,jsEvent:e.origEvent,view:n})),t.emitter.trigger("eventChange",u)}else if(r){let i={event:a,relatedEvents:$y(l,t,s),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:l})}};t.emitter.trigger("eventLeave",Object.assign(Object.assign({},i),{draggedEl:e.subjectEl,view:n})),t.dispatch({type:"REMOVE_EVENTS",eventStore:l}),t.emitter.trigger("eventRemove",i);let d=c.defs[o.defId],h=c.instances[s.instanceId],f=new Fy(r,d,h);r.dispatch({type:"MERGE_EVENTS",eventStore:c});let p={event:f,relatedEvents:$y(c,r,h),revert(){r.dispatch({type:"REMOVE_EVENTS",eventStore:c})}};r.emitter.trigger("eventAdd",p),e.isTouch&&r.dispatch({type:"SELECT_EVENT",eventInstanceId:s.instanceId}),r.emitter.trigger("drop",Object.assign(Object.assign({},g_(u.dateSpan,r)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:u.context.viewApi})),r.emitter.trigger("eventReceive",Object.assign(Object.assign({},p),{draggedEl:e.subjectEl,view:u.context.viewApi}))}}else t.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:n}=t.context,r=this.dragging=new u_(e.el);r.pointer.selector=m_.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.dragScroll;let i=this.hitDragging=new f_(this.dragging,mb);i.useSubjectCenter=e.useEventCenter,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let n=this.component.context,r=this.receivingContext;r&&r!==e&&(r===n?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}m_.SELECTOR=".fc-event-draggable, .fc-event-resizable";const v_={fixedMirrorParent:av},y_={dateClick:av,eventDragStart:av,eventDragStop:av,eventDrop:av,eventResizeStart:av,eventResizeStop:av,eventResize:av,drop:av,eventReceive:av,eventLeave:av};ew.dataAttrPrefix="";var b_=hS({name:"@fullcalendar/interaction",componentInteractions:[class extends pb{constructor(e){super(e),this.handlePointerDown=e=>{let{dragging:t}=this,n=e.origEvent.target;t.setIgnoreMove(!this.component.isValidDateDownEl(n))},this.handleDragEnd=e=>{let{component:t}=this,{pointer:n}=this.dragging;if(!n.wasTouchScroll){let{initialHit:n,finalHit:r}=this.hitDragging;if(n&&r&&p_(n,r)){let{context:r}=t,i=Object.assign(Object.assign({},g_(n.dateSpan,r)),{dayEl:n.dayEl,jsEvent:e.origEvent,view:r.viewApi||r.calendarApi.view});r.emitter.trigger("dateClick",i)}}},this.dragging=new u_(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new f_(this.dragging,gb(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class extends pb{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=e=>{let{component:t,dragging:n}=this,{options:r}=t.context,i=r.selectable&&t.isValidDateDownEl(e.origEvent.target);n.setIgnoreMove(!i),n.delay=e.isTouch?function(e){let{options:t}=e.context,n=t.selectLongPressDelay;null==n&&(n=t.longPressDelay);return n}(t):null},this.handleDragStart=e=>{this.component.context.calendarApi.unselect(e)},this.handleHitUpdate=(e,t)=>{let{context:n}=this.component,r=null,i=!1;if(e){let t=this.hitDragging.initialHit;e.componentId===t.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(t,e)||(r=function(e,t,n){let r=e.dateSpan,i=t.dateSpan,o=[r.range.start,r.range.end,i.range.start,i.range.end];o.sort(nm);let s={};for(let a of n){let n=a(e,t);if(!1===n)return null;n&&Object.assign(s,n)}return s.range={start:o[0],end:o[3]},s.allDay=r.allDay,s}(t,e,n.pluginHooks.dateSelectionTransformers)),r&&function(e,t,n){return!!Yv(t.validRange,e.range)&&pw({dateSelection:e},n)}(r,e.dateProfile,n)||(i=!0,r=null)}r?n.dispatch({type:"SELECT_DATES",selection:r}):t||n.dispatch({type:"UNSELECT_DATES"}),i?Qg():Yg(),t||(this.dragSelection=r)},this.handlePointerUp=e=>{this.dragSelection&&(Py(this.dragSelection,e,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:n}=t.context,r=this.dragging=new u_(e.el);r.touchScrollAllowed=!1,r.minDistance=n.selectMinDistance||0,r.autoScroller.isEnabled=n.dragScroll;let i=this.hitDragging=new f_(this.dragging,gb(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},m_,class extends pb{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let{component:t}=this,n=Wy(this.querySegEl(e)),r=this.eventRange=n.eventRange;this.dragging.minDistance=t.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&this.component.props.eventSelection!==r.instance.instanceId)},this.handleDragStart=e=>{let{context:t}=this.component,n=this.eventRange;this.relevantEvents=fy(t.getCurrentData().eventStore,this.eventRange.instance.instanceId);let r=this.querySegEl(e);this.draggingSegEl=r,this.draggingSeg=Wy(r),t.calendarApi.unselect(),t.emitter.trigger("eventResizeStart",{el:r,event:new Fy(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi})},this.handleHitUpdate=(e,t,n)=>{let{context:r}=this.component,i=this.relevantEvents,o=this.hitDragging.initialHit,s=this.eventRange.instance,a=null,l=null,c=!1,u={affectedEvents:i,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(e){e.componentId===o.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(o,e)||(a=function(e,t,n,r){let i=e.context.dateEnv,o=e.dateSpan.range.start,s=t.dateSpan.range.start,a=Jv(o,s,i,e.largeUnit);if(n){if(i.add(r.start,a)<r.end)return{startDelta:a}}else if(i.add(r.end,a)>r.start)return{endDelta:a};return null}(o,e,n.subjectEl.classList.contains("fc-event-resizer-start"),s.range))}a&&(l=jy(i,r.getCurrentData().eventUiBases,a,r),u.mutatedEvents=l,fw(u,e.dateProfile,r)||(c=!0,a=null,l=null,u.mutatedEvents=null)),l?r.dispatch({type:"SET_EVENT_RESIZE",state:u}):r.dispatch({type:"UNSET_EVENT_RESIZE"}),c?Qg():Yg(),t||(a&&p_(o,e)&&(a=null),this.validMutation=a,this.mutatedRelevantEvents=l)},this.handleDragEnd=e=>{let{context:t}=this.component,n=this.eventRange.def,r=this.eventRange.instance,i=new Fy(t,n,r),o=this.relevantEvents,s=this.mutatedRelevantEvents;if(t.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:i,jsEvent:e.origEvent,view:t.viewApi}),this.validMutation){let a=new Fy(t,s.defs[n.defId],r?s.instances[r.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:s});let l={oldEvent:i,event:a,relatedEvents:$y(s,t,r),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:o})}};t.emitter.trigger("eventResize",Object.assign(Object.assign({},l),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||am(0),endDelta:this.validMutation.endDelta||am(0),jsEvent:e.origEvent,view:t.viewApi})),t.emitter.trigger("eventChange",l)}else t.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,n=this.dragging=new u_(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new f_(this.dragging,gb(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Ng(e.subjectEl,".fc-event")}}],calendarInteractions:[class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=e=>{e.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=e=>{let t=this.context.options.unselectCancel,n=zg(e.origEvent);this.matchesCancel=!!Ng(n,t),this.matchesEvent=!!Ng(n,m_.SELECTOR)},this.onDocumentPointerUp=e=>{let{context:t}=this,{documentPointer:n}=this,r=t.getCurrentData();if(!n.wasTouchScroll){if(r.dateSelection&&!this.isRecentPointerDateSelect){let n=t.options.unselectAuto;!n||n&&this.matchesCancel||t.calendarApi.unselect(e)}r.eventSelection&&!this.matchesEvent&&t.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new n_(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:u_,optionRefiners:v_,listenerRefiners:y_}),w_={code:"it",week:{dow:1,doy:4},buttonText:{prev:"Prec",next:"Succ",today:"Oggi",year:"Anno",month:"Mese",week:"Settimana",day:"Giorno",list:"Agenda"},weekText:"Sm",allDayText:"Tutto il giorno",moreLinkText:e=>"+altri "+e,noEventsText:"Non ci sono eventi da visualizzare"};function S_(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=S_(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const E_=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=S_(e))&&(r&&(r+=" "),r+=t);return r};function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C_.apply(null,arguments)}var x_=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(op){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),__=Math.abs,D_=String.fromCharCode,T_=Object.assign;function k_(e){return e.trim()}function R_(e,t,n){return e.replace(t,n)}function A_(e,t){return e.indexOf(t)}function I_(e,t){return 0|e.charCodeAt(t)}function N_(e,t,n){return e.slice(t,n)}function P_(e){return e.length}function M_(e){return e.length}function O_(e,t){return t.push(e),e}var j_=1,L_=1,z_=0,B_=0,F_=0,U_="";function $_(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:j_,column:L_,length:s,return:""}}function H_(e,t){return T_($_("",null,null,"",null,null,0),e,{length:-e.length},t)}function V_(){return F_=B_>0?I_(U_,--B_):0,L_--,10===F_&&(L_=1,j_--),F_}function W_(){return F_=B_<z_?I_(U_,B_++):0,L_++,10===F_&&(L_=1,j_++),F_}function q_(){return I_(U_,B_)}function G_(){return B_}function Q_(e,t){return N_(U_,e,t)}function Y_(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function K_(e){return j_=L_=1,z_=P_(U_=e),B_=0,[]}function X_(e){return U_="",e}function Z_(e){return k_(Q_(B_-1,tD(91===e?e+2:40===e?e+1:e)))}function J_(e){for(;(F_=q_())&&F_<33;)W_();return Y_(e)>2||Y_(F_)>3?"":" "}function eD(e,t){for(;--t&&W_()&&!(F_<48||F_>102||F_>57&&F_<65||F_>70&&F_<97););return Q_(e,G_()+(t<6&&32==q_()&&32==W_()))}function tD(e){for(;W_();)switch(F_){case e:return B_;case 34:case 39:34!==e&&39!==e&&tD(F_);break;case 40:41===e&&tD(e);break;case 92:W_()}return B_}function nD(e,t){for(;W_()&&e+F_!==57&&(e+F_!==84||47!==q_()););return"/*"+Q_(t,B_-1)+"*"+D_(47===e?e:W_())}function rD(e){for(;!Y_(q_());)W_();return Q_(e,B_)}var iD="-ms-",oD="-moz-",sD="-webkit-",aD="comm",lD="rule",cD="decl",uD="@keyframes";function dD(e,t){for(var n="",r=M_(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function hD(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case cD:return e.return=e.return||e.value;case aD:return"";case uD:return e.return=e.value+"{"+dD(e.children,r)+"}";case lD:e.value=e.props.join(",")}return P_(n=dD(e.children,r))?e.return=e.value+"{"+n+"}":""}function fD(e){return function(t){t.root||(t=t.return)&&e(t)}}function pD(e){return X_(gD("",null,null,null,[""],e=K_(e),0,[0],e))}function gD(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,h=0,f=0,p=0,g=1,m=1,v=1,y=0,b="",w=i,S=o,E=r,C=b;m;)switch(p=y,y=W_()){case 40:if(108!=p&&58==I_(C,d-1)){-1!=A_(C+=R_(Z_(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:C+=Z_(y);break;case 9:case 10:case 13:case 32:C+=J_(p);break;case 92:C+=eD(G_()-1,7);continue;case 47:switch(q_()){case 42:case 47:O_(vD(nD(W_(),G_()),t,n),l);break;default:C+="/"}break;case 123*g:a[c++]=P_(C)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+u:-1==v&&(C=R_(C,/\f/g,"")),f>0&&P_(C)-d&&O_(f>32?yD(C+";",r,n,d-1):yD(R_(C," ","")+";",r,n,d-2),l);break;case 59:C+=";";default:if(O_(E=mD(C,t,n,c,u,i,a,b,w=[],S=[],d),o),123===y)if(0===u)gD(C,t,E,E,w,o,d,a,S);else switch(99===h&&110===I_(C,3)?100:h){case 100:case 108:case 109:case 115:gD(e,E,E,r&&O_(mD(e,E,E,0,0,i,a,b,i,w=[],d),S),i,S,d,a,r?w:S);break;default:gD(C,E,E,E,[""],S,0,a,S)}}c=u=f=0,g=v=1,b=C="",d=s;break;case 58:d=1+P_(C),f=p;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==V_())continue;switch(C+=D_(y),y*g){case 38:v=u>0?1:(C+="\f",-1);break;case 44:a[c++]=(P_(C)-1)*v,v=1;break;case 64:45===q_()&&(C+=Z_(W_())),h=q_(),u=d=P_(b=C+=rD(G_())),y++;break;case 45:45===p&&2==P_(C)&&(g=0)}}return o}function mD(e,t,n,r,i,o,s,a,l,c,u){for(var d=i-1,h=0===i?o:[""],f=M_(h),p=0,g=0,m=0;p<r;++p)for(var v=0,y=N_(e,d+1,d=__(g=s[p])),b=e;v<f;++v)(b=k_(g>0?h[v]+" "+y:R_(y,/&\f/g,h[v])))&&(l[m++]=b);return $_(e,t,n,0===i?lD:a,l,c,u)}function vD(e,t,n){return $_(e,t,n,aD,D_(F_),N_(e,2,-2),0)}function yD(e,t,n,r){return $_(e,t,n,cD,N_(e,0,r),N_(e,r+1,-1),r)}var bD=function(e,t,n){for(var r=0,i=0;r=i,i=q_(),38===r&&12===i&&(t[n]=1),!Y_(i);)W_();return Q_(e,B_)},wD=function(e,t){return X_(function(e,t){var n=-1,r=44;do{switch(Y_(r)){case 0:38===r&&12===q_()&&(t[n]=1),e[n]+=bD(B_-1,t,n);break;case 2:e[n]+=Z_(r);break;case 4:if(44===r){e[++n]=58===q_()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=D_(r)}}while(r=W_());return e}(K_(e),t))},SD=new WeakMap,ED=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||SD.get(n))&&!r){SD.set(e,!0);for(var i=[],o=wD(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},CD=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function xD(e,t){switch(function(e,t){return 45^I_(e,0)?(((t<<2^I_(e,0))<<2^I_(e,1))<<2^I_(e,2))<<2^I_(e,3):0}(e,t)){case 5103:return sD+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return sD+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return sD+e+oD+e+iD+e+e;case 6828:case 4268:return sD+e+iD+e+e;case 6165:return sD+e+iD+"flex-"+e+e;case 5187:return sD+e+R_(e,/(\w+).+(:[^]+)/,sD+"box-$1$2"+iD+"flex-$1$2")+e;case 5443:return sD+e+iD+"flex-item-"+R_(e,/flex-|-self/,"")+e;case 4675:return sD+e+iD+"flex-line-pack"+R_(e,/align-content|flex-|-self/,"")+e;case 5548:return sD+e+iD+R_(e,"shrink","negative")+e;case 5292:return sD+e+iD+R_(e,"basis","preferred-size")+e;case 6060:return sD+"box-"+R_(e,"-grow","")+sD+e+iD+R_(e,"grow","positive")+e;case 4554:return sD+R_(e,/([^-])(transform)/g,"$1"+sD+"$2")+e;case 6187:return R_(R_(R_(e,/(zoom-|grab)/,sD+"$1"),/(image-set)/,sD+"$1"),e,"")+e;case 5495:case 3959:return R_(e,/(image-set\([^]*)/,sD+"$1$`$1");case 4968:return R_(R_(e,/(.+:)(flex-)?(.*)/,sD+"box-pack:$3"+iD+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+sD+e+e;case 4095:case 3583:case 4068:case 2532:return R_(e,/(.+)-inline(.+)/,sD+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(P_(e)-1-t>6)switch(I_(e,t+1)){case 109:if(45!==I_(e,t+4))break;case 102:return R_(e,/(.+:)(.+)-([^]+)/,"$1"+sD+"$2-$3$1"+oD+(108==I_(e,t+3)?"$3":"$2-$3"))+e;case 115:return~A_(e,"stretch")?xD(R_(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==I_(e,t+1))break;case 6444:switch(I_(e,P_(e)-3-(~A_(e,"!important")&&10))){case 107:return R_(e,":",":"+sD)+e;case 101:return R_(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+sD+(45===I_(e,14)?"inline-":"")+"box$3$1"+sD+"$2$3$1"+iD+"$2box$3")+e}break;case 5936:switch(I_(e,t+11)){case 114:return sD+e+iD+R_(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return sD+e+iD+R_(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return sD+e+iD+R_(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return sD+e+iD+e+e}return e}var _D=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case cD:e.return=xD(e.value,e.length);break;case uD:return dD([H_(e,{value:R_(e.value,"@","@"+sD)})],r);case lD:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return dD([H_(e,{props:[R_(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return dD([H_(e,{props:[R_(t,/:(plac\w+)/,":"+sD+"input-$1")]}),H_(e,{props:[R_(t,/:(plac\w+)/,":-moz-$1")]}),H_(e,{props:[R_(t,/:(plac\w+)/,iD+"input-$1")]})],r)}return""}))}}],DD=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,o=e.stylisPlugins||_D,s={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var l,c=[ED,CD],u=[hD,fD((function(e){l.insert(e)}))],d=function(e){var t=M_(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}(c.concat(o,u));i=function(e,t,n,r){l=n,function(e){dD(pD(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new x_({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return h.sheet.hydrate(a),h};function TD(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var kD=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},RD=function(e,t,n){kD(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};var AD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function ID(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var ND=/[A-Z]|^ms/g,PD=/_EMO_([^_]+?)_([^]*?)_EMO_/g,MD=function(e){return 45===e.charCodeAt(1)},OD=function(e){return null!=e&&"boolean"!==typeof e},jD=ID((function(e){return MD(e)?e:e.replace(ND,"-$&").toLowerCase()})),LD=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(PD,(function(e,t,n){return BD={name:t,styles:n,next:BD},t}))}return 1===AD[e]||MD(e)||"number"!==typeof t||0===t?t:t+"px"};function zD(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return BD={name:i.name,styles:i.styles,next:BD},i.name;var o=n;if(void 0!==o.styles){var s=o.next;if(void 0!==s)for(;void 0!==s;)BD={name:s.name,styles:s.styles,next:BD},s=s.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=zD(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s){var a=s;null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":OD(a)&&(r+=jD(o)+":"+LD(o,a)+";")}else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=zD(e,t,s);switch(o){case"animation":case"animationName":r+=jD(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<s.length;c++)OD(s[c])&&(r+=jD(o)+":"+LD(o,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=BD,l=n(e);return BD=a,zD(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var BD,FD=/label:\s*([^\s;{]+)\s*(;|$)/g;function UD(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";BD=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=zD(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++){if(i+=zD(n,t,e[s]),r)i+=o[s]}FD.lastIndex=0;for(var a,l="";null!==(a=FD.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:BD}}var $D=!!o.useInsertionEffect&&o.useInsertionEffect,HD=$D||function(e){return e()},VD=$D||i.useLayoutEffect,WD=i.createContext("undefined"!==typeof HTMLElement?DD({key:"css"}):null),qD=(WD.Provider,function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(WD);return e(t,r,n)}))}),GD=i.createContext({});var QD={}.hasOwnProperty,YD="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",KD=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return kD(t,n,r),HD((function(){return RD(t,n,r)})),null},XD=qD((function(e,t,n){var r=e.css;"string"===typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var o=e[YD],s=[r],a="";"string"===typeof e.className?a=TD(t.registered,s,e.className):null!=e.className&&(a=e.className+" ");var l=UD(s,void 0,i.useContext(GD));a+=t.key+"-"+l.name;var c={};for(var u in e)QD.call(e,u)&&"css"!==u&&u!==YD&&(c[u]=e[u]);return c.className=a,n&&(c.ref=n),i.createElement(i.Fragment,null,i.createElement(KD,{cache:t,serialized:l,isStringTag:"string"===typeof o}),i.createElement(o,c))})),ZD=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,JD=ID((function(e){return ZD.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),eT=function(e){return"theme"!==e},tT=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?JD:eT},nT=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},rT=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return kD(t,n,r),HD((function(){return RD(t,n,r)})),null},iT=function e(t,n){var r,o,s=t.__emotion_real===t,a=s&&t.__emotion_base||t;void 0!==n&&(r=n.label,o=n.target);var l=nT(t,n,s),c=l||tT(a),u=!c("as");return function(){var d=arguments,h=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{var f=d[0];h.push(f[0]);for(var p=d.length,g=1;g<p;g++)h.push(d[g],f[g])}var m=qD((function(e,t,n){var r=u&&e.as||a,s="",d=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=i.useContext(GD)}"string"===typeof e.className?s=TD(t.registered,d,e.className):null!=e.className&&(s=e.className+" ");var g=UD(h.concat(d),t.registered,f);s+=t.key+"-"+g.name,void 0!==o&&(s+=" "+o);var m=u&&void 0===l?tT(r):c,v={};for(var y in e)u&&"as"===y||m(y)&&(v[y]=e[y]);return v.className=s,n&&(v.ref=n),i.createElement(i.Fragment,null,i.createElement(rT,{cache:t,serialized:g,isStringTag:"string"===typeof r}),i.createElement(r,v))}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=a,m.__emotion_styles=h,m.__emotion_forwardProp=l,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(t,r){return e(t,C_({},n,r,{shouldForwardProp:nT(m,r,!0)})).apply(void 0,h)},m}}.bind(null);function oT(e,t){return iT(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){iT[e]=iT(e)}));const sT=[];function aT(e){return sT[0]=e,UD(sT)}function lT(e){const t=new URL(`https://mui.com/production-error/?code=${e}`);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.searchParams.append("args[]",e))),`Minified MUI error #${e}; visit ${t} for the full message.`}function cT(e){if("string"!==typeof e)throw new Error(lT(7));return e.charAt(0).toUpperCase()+e.slice(1)}var uT=n(528);function dT(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function hT(e){if(i.isValidElement(e)||(0,uT.Hy)(e)||!dT(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=hT(e[n])})),t}function fT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?{...e}:e;return dT(e)&&dT(t)&&Object.keys(t).forEach((o=>{i.isValidElement(t[o])||(0,uT.Hy)(t[o])?r[o]=t[o]:dT(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&dT(e[o])?r[o]=fT(e[o],t[o],n):n.clone?r[o]=dT(t[o])?hT(t[o]):t[o]:r[o]=t[o]})),r}const pT=function(e,t){return t?fT(e,t,{clone:!1}):e};const gT={xs:0,sm:600,md:900,lg:1200,xl:1536},mT={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${gT[e]}px)`},vT={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:gT[t]||t;return"number"===typeof n&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function yT(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||mT;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||mT;return Object.keys(t).reduce(((i,o)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some((e=>t.startsWith(`@${e}`)))||!!t.match(/^@\d/))}(e.keys,o)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}(r.containerQueries?r:vT,o);e&&(i[e]=n(t[o],o))}else if(Object.keys(e.values||gT).includes(o)){i[e.up(o)]=n(t[o],o)}else{const e=o;i[e]=t[e]}return i}),{})}return n(t)}function bT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.keys?.reduce(((t,n)=>(t[e.up(n)]={},t)),{});return t||{}}function wT(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function ST(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function ET(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:ST(e,n)||i,t&&(r=t(r,i,e)),r}const CT=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],s=ST(e.theme,r)||{};return yT(e,o,(e=>{let r=ET(s,i,e);return e===r&&"string"===typeof e&&(r=ET(s,i,`${t}${"default"===e?"":cT(e)}`,e)),!1===n?r:{[n]:r}}))};return o.propTypes={},o.filterProps=[t],o};const xT={m:"margin",p:"padding"},_T={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},DT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},TT=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!DT[e])return[e];e=DT[e]}const[t,n]=e.split(""),r=xT[t],i=_T[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),kT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],RT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],AT=[...kT,...RT];function IT(e,t,n,r){const i=ST(e,t,!0)??n;return"number"===typeof i||"string"===typeof i?e=>"string"===typeof e?e:"string"===typeof i?i.startsWith("var(")&&0===e?0:i.startsWith("var(")&&1===e?i:`calc(${e} * ${i})`:i*e:Array.isArray(i)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=i[t];return e>=0?n:"number"===typeof n?-n:"string"===typeof n&&n.startsWith("var(")?`calc(-1 * ${n})`:`-${n}`}:"function"===typeof i?i:()=>{}}function NT(e){return IT(e,"spacing",8)}function PT(e,t){return"string"===typeof t||null==t?t:e(t)}function MT(e,t,n,r){if(!t.includes(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=PT(t,n),e)),{})}(TT(n),r);return yT(e,e[n],i)}function OT(e,t){const n=NT(e.theme);return Object.keys(e).map((r=>MT(e,t,r,n))).reduce(pT,{})}function jT(e){return OT(e,kT)}function LT(e){return OT(e,RT)}function zT(e){return OT(e,AT)}jT.propTypes={},jT.filterProps=kT,LT.propTypes={},LT.filterProps=RT,zT.propTypes={},zT.filterProps=AT;const BT=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?pT(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function FT(e){return"number"!==typeof e?e:`${e}px solid`}function UT(e,t){return CT({prop:e,themeKey:"borders",transform:t})}const $T=UT("border",FT),HT=UT("borderTop",FT),VT=UT("borderRight",FT),WT=UT("borderBottom",FT),qT=UT("borderLeft",FT),GT=UT("borderColor"),QT=UT("borderTopColor"),YT=UT("borderRightColor"),KT=UT("borderBottomColor"),XT=UT("borderLeftColor"),ZT=UT("outline",FT),JT=UT("outlineColor"),ek=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=IT(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:PT(t,e)});return yT(e,e.borderRadius,n)}return null};ek.propTypes={},ek.filterProps=["borderRadius"];BT($T,HT,VT,WT,qT,GT,QT,YT,KT,XT,ek,ZT,JT);const tk=e=>{if(void 0!==e.gap&&null!==e.gap){const t=IT(e.theme,"spacing",8),n=e=>({gap:PT(t,e)});return yT(e,e.gap,n)}return null};tk.propTypes={},tk.filterProps=["gap"];const nk=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=IT(e.theme,"spacing",8),n=e=>({columnGap:PT(t,e)});return yT(e,e.columnGap,n)}return null};nk.propTypes={},nk.filterProps=["columnGap"];const rk=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=IT(e.theme,"spacing",8),n=e=>({rowGap:PT(t,e)});return yT(e,e.rowGap,n)}return null};rk.propTypes={},rk.filterProps=["rowGap"];BT(tk,nk,rk,CT({prop:"gridColumn"}),CT({prop:"gridRow"}),CT({prop:"gridAutoFlow"}),CT({prop:"gridAutoColumns"}),CT({prop:"gridAutoRows"}),CT({prop:"gridTemplateColumns"}),CT({prop:"gridTemplateRows"}),CT({prop:"gridTemplateAreas"}),CT({prop:"gridArea"}));function ik(e,t){return"grey"===t?t:e}BT(CT({prop:"color",themeKey:"palette",transform:ik}),CT({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ik}),CT({prop:"backgroundColor",themeKey:"palette",transform:ik}));function ok(e){return e<=1&&0!==e?100*e+"%":e}const sk=CT({prop:"width",transform:ok}),ak=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{const n=e.theme?.breakpoints?.values?.[t]||gT[t];return n?"px"!==e.theme?.breakpoints?.unit?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:ok(t)}};return yT(e,e.maxWidth,t)}return null};ak.filterProps=["maxWidth"];const lk=CT({prop:"minWidth",transform:ok}),ck=CT({prop:"height",transform:ok}),uk=CT({prop:"maxHeight",transform:ok}),dk=CT({prop:"minHeight",transform:ok}),hk=(CT({prop:"size",cssProperty:"width",transform:ok}),CT({prop:"size",cssProperty:"height",transform:ok}),BT(sk,ak,lk,ck,uk,dk,CT({prop:"boxSizing"})),{border:{themeKey:"borders",transform:FT},borderTop:{themeKey:"borders",transform:FT},borderRight:{themeKey:"borders",transform:FT},borderBottom:{themeKey:"borders",transform:FT},borderLeft:{themeKey:"borders",transform:FT},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:FT},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ek},color:{themeKey:"palette",transform:ik},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ik},backgroundColor:{themeKey:"palette",transform:ik},p:{style:LT},pt:{style:LT},pr:{style:LT},pb:{style:LT},pl:{style:LT},px:{style:LT},py:{style:LT},padding:{style:LT},paddingTop:{style:LT},paddingRight:{style:LT},paddingBottom:{style:LT},paddingLeft:{style:LT},paddingX:{style:LT},paddingY:{style:LT},paddingInline:{style:LT},paddingInlineStart:{style:LT},paddingInlineEnd:{style:LT},paddingBlock:{style:LT},paddingBlockStart:{style:LT},paddingBlockEnd:{style:LT},m:{style:jT},mt:{style:jT},mr:{style:jT},mb:{style:jT},ml:{style:jT},mx:{style:jT},my:{style:jT},margin:{style:jT},marginTop:{style:jT},marginRight:{style:jT},marginBottom:{style:jT},marginLeft:{style:jT},marginX:{style:jT},marginY:{style:jT},marginInline:{style:jT},marginInlineStart:{style:jT},marginInlineEnd:{style:jT},marginBlock:{style:jT},marginBlockStart:{style:jT},marginBlockEnd:{style:jT},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:tk},rowGap:{style:rk},columnGap:{style:nk},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ok},maxWidth:{style:ak},minWidth:{transform:ok},height:{transform:ok},maxHeight:{transform:ok},minHeight:{transform:ok},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const fk=function(){function e(e,t,n,r){const i={[e]:t,theme:n},o=r[e];if(!o)return{[e]:t};const{cssProperty:s=e,themeKey:a,transform:l,style:c}=o;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const u=ST(n,a)||{};if(c)return c(i);return yT(i,t,(t=>{let n=ET(u,l,t);return t===n&&"string"===typeof t&&(n=ET(u,l,`${e}${"default"===t?"":cT(t)}`,t)),!1===s?n:{[s]:n}}))}return function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??hk;function s(n){let r=n;if("function"===typeof n)r=n(i);else if("object"!==typeof n)return n;if(!r)return null;const s=bT(i.breakpoints),a=Object.keys(s);let l=s;return Object.keys(r).forEach((n=>{const s=function(e,t){return"function"===typeof e?e(t):e}(r[n],i);if(null!==s&&void 0!==s)if("object"===typeof s)if(o[n])l=pT(l,e(n,s,i,o));else{const e=yT({theme:i},s,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,s)?l=pT(l,e):l[n]=t({sx:s,theme:i})}else l=pT(l,e(n,s,i,o))})),function(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter((e=>e.startsWith("@container"))).sort(((e,t)=>{const n=/min-width:\s*([0-9.]+)/;return+(e.match(n)?.[1]||0)-+(t.match(n)?.[1]||0)}));return n.length?n.reduce(((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e}),{...t}):t}(i,wT(a,l))}return Array.isArray(r)?r.map(s):s(r)}}();fk.filterProps=["sx"];const pk=fk;function gk(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=(e=>{const t={systemProps:{},otherProps:{}},n=e?.theme?.unstable_sxConfig??hk;return Object.keys(e).forEach((r=>{n[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]})),t})(n);let o;return o=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return dT(e)?{...r,...e}:r}:{...r,...t},{...i,sx:o}}function mk(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,o=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>({...e,[t.key]:t.val})),{})})(t),s=Object.keys(o);function a(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function l(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-r/100}${n})`}function c(e,i){const o=s.indexOf(i);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==o&&"number"===typeof t[s[o]]?t[s[o]]:i)-r/100}${n})`}return{keys:s,values:o,up:a,down:l,between:c,only:function(e){return s.indexOf(e)+1<s.length?c(e,s[s.indexOf(e)+1]):a(e)},not:function(e){const t=s.indexOf(e);return 0===t?a(s[1]):t===s.length-1?l(s[t]):c(e,s[s.indexOf(e)+1]).replace("@media","@media not all and")},unit:n,...i}}const vk={borderRadius:4};function yk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NT({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}function bk(e,t){const n=this;if(n.vars){if(!n.colorSchemes?.[e]||"function"!==typeof n.getColorSchemeSelector)return{};let r=n.getColorSchemeSelector(e);return"&"===r?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return n.palette.mode===e?t:{}}const wk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={},...o}=e;let s=fT({breakpoints:mk(t),direction:"ltr",components:{},palette:{mode:"light",...n},spacing:yk(r),shape:{...vk,...i}},o);s=function(e){const t=(e,t)=>e.replace("@media",t?`@container ${t}`:"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},i=e=>(n(r,e),r);return n(i),{...e,containerQueries:i}}(s),s.applyStyles=bk;for(var a=arguments.length,l=new Array(a>1?a-1:0),c=1;c<a;c++)l[c-1]=arguments[c];return s=l.reduce(((e,t)=>fT(e,t)),s),s.unstable_sxConfig={...hk,...o?.unstable_sxConfig},s.unstable_sx=function(e){return pk({sx:e,theme:this})},s};const Sk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=i.useContext(GD);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},Ek=wk();const Ck=function(){return Sk(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ek)};const xk=e=>e,_k=(()=>{let e=xk;return{configure(t){e=t},generate:t=>e(t),reset(){e=xk}}})();const Dk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function Tk(e){return Dk(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function kk(e){if(e.type)return e;if("#"===e.charAt(0))return kk(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(lT(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(lT(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const Rk=(e,t)=>{try{return(e=>{const t=kk(e);return t.values.slice(0,3).map(((e,n)=>t.type.includes("hsl")&&0!==n?`${e}%`:e)).join(" ")})(e)}catch(n){return e}};function Ak(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=t.includes("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function Ik(e){e=kk(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),Ak({type:a,values:l})}function Nk(e){let t="hsl"===(e=kk(e)).type||"hsla"===e.type?kk(Ik(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Pk(e,t){return e=kk(e),t=Tk(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,Ak(e)}function Mk(e,t,n){try{return Pk(e,t)}catch(r){return e}}function Ok(e,t){if(e=kk(e),t=Tk(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Ak(e)}function jk(e,t,n){try{return Ok(e,t)}catch(r){return e}}function Lk(e,t){if(e=kk(e),t=Tk(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Ak(e)}function zk(e,t,n){try{return Lk(e,t)}catch(r){return e}}function Bk(e,t,n){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return Nk(e)>.5?Ok(e,t):Lk(e,t)}(e,t)}catch(r){return e}}const Fk={black:"#000",white:"#fff"},Uk={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},$k={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Hk={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Vk={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Wk={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},qk={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Gk={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Qk(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Fk.white,default:Fk.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Yk=Qk();function Kk(){return{text:{primary:Fk.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Fk.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Xk=Kk();function Zk(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Lk(e.main,i):"dark"===t&&(e.dark=Ok(e.main,o)))}function Jk(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Wk[200],light:Wk[50],dark:Wk[400]}:{main:Wk[700],light:Wk[400],dark:Wk[800]}}(t),s=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:$k[200],light:$k[50],dark:$k[400]}:{main:$k[500],light:$k[300],dark:$k[700]}}(t),a=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Hk[500],light:Hk[300],dark:Hk[700]}:{main:Hk[700],light:Hk[400],dark:Hk[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:qk[400],light:qk[300],dark:qk[700]}:{main:qk[700],light:qk[500],dark:qk[900]}}(t),c=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Gk[400],light:Gk[300],dark:Gk[700]}:{main:Gk[800],light:Gk[500],dark:Gk[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Vk[400],light:Vk[300],dark:Vk[700]}:{main:"#ed6c02",light:Vk[500],dark:Vk[900]}}(t);function d(e){const t=function(e,t){const n=Nk(e),r=Nk(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Xk.text.primary)>=n?Xk.text.primary:Yk.text.primary;return t}const h=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:s=700}=e;if(t={...t},!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(lT(11,n?` (${n})`:"",i));if("string"!==typeof t.main)throw new Error(lT(12,n?` (${n})`:"",JSON.stringify(t.main)));return Zk(t,"light",o,r),Zk(t,"dark",s,r),t.contrastText||(t.contrastText=d(t.main)),t};let f;"light"===t?f=Qk():"dark"===t&&(f=Kk());return fT({common:{...Fk},mode:t,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:Uk,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r,...f},i)}function eR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return"";const o=r[0];return"string"!==typeof o||o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, ${o}`:`, var(--${e?`${e}-`:""}${o}${t(...r.slice(1))})`}return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return`var(--${e?`${e}-`:""}${n}${t(...i)})`}}function tR(e){const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;"object"===typeof r&&(t[n]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)})),t}const nR=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e;t.forEach(((e,o)=>{o===t.length-1?Array.isArray(i)?i[Number(e)]=n:i&&"object"===typeof i&&(i[e]=n):i&&"object"===typeof i&&(i[e]||(i[e]=r.includes(e)?[]:{}),i=i[e])}))};function rR(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},s={};return((e,t,n)=>{!function e(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(r).forEach((r=>{let[s,a]=r;(!n||n&&!n([...i,s]))&&void 0!==a&&null!==a&&("object"===typeof a&&Object.keys(a).length>0?e(a,[...i,s],Array.isArray(a)?[...o,s]:o):t([...i,s],a,o))}))}(e)})(e,((e,t,a)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r=`--${n?`${n}-`:""}${e.join("-")}`,l=((e,t)=>{if("number"===typeof t)return["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t)))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`;return t})(e,t);Object.assign(i,{[r]:l}),nR(o,e,`var(${r})`,a),nR(s,e,`var(${r}, ${l})`,a)}}),(e=>"vars"===e[0])),{css:i,vars:o,varsWithDefaults:s}}const iR=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=m,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=e,{vars:c,css:u,varsWithDefaults:d}=rR(l,t);let h=d;const f={},{[a]:p,...g}=o;if(Object.entries(g||{}).forEach((e=>{let[n,r]=e;const{vars:i,css:o,varsWithDefaults:s}=rR(r,t);h=fT(h,s),f[n]={css:o,vars:i}})),p){const{css:e,vars:n,varsWithDefaults:r}=rR(p,t);h=fT(h,r),f[a]={css:e,vars:n}}function m(t,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(r=`[${i}="%s"]`),t){if("media"===r){if(e.defaultColorScheme===t)return":root";const r=o[t]?.palette?.mode||t;return{[`@media (prefers-color-scheme: ${r})`]:{":root":n}}}if(r)return e.defaultColorScheme===t?`:root, ${r.replace("%s",String(t))}`:r.replace("%s",String(t))}return":root"}return{vars:h,generateThemeVars:()=>{let e={...c};return Object.entries(f).forEach((t=>{let[,{vars:n}]=t;e=fT(e,n)})),e},generateStyleSheets:()=>{const t=[],i=e.defaultColorScheme||"light";function s(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:{...n}}:e)}s(n(void 0,{...u}),u);const{[i]:a,...l}=f;if(a){const{css:e}=a,t=o[i]?.palette?.mode,l=!r&&t?{colorScheme:t,...e}:{...e};s(n(i,{...l}),l)}return Object.entries(l).forEach((e=>{let[t,{css:i}]=e;const a=o[t]?.palette?.mode,l=!r&&a?{colorScheme:a,...i}:{...i};s(n(t,{...l}),l)})),t}}};function oR(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}const sR={textTransform:"uppercase"},aR='"Roboto", "Helvetica", "Arial", sans-serif';function lR(e,t){const{fontFamily:n=aR,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...d}="function"===typeof t?t(e):t;const h=r/14,f=u||(e=>e/l*h+"rem"),p=(e,t,r,i,o)=>{return{fontFamily:n,fontWeight:e,fontSize:f(t),lineHeight:r,...n===aR?{letterSpacing:(s=i/t,Math.round(1e5*s)/1e5)+"em"}:{},...o,...c};var s},g={h1:p(i,96,1.167,-1.5),h2:p(i,60,1.2,-.5),h3:p(o,48,1.167,0),h4:p(o,34,1.235,.25),h5:p(o,24,1.334,0),h6:p(s,20,1.6,.15),subtitle1:p(o,16,1.75,.15),subtitle2:p(s,14,1.57,.1),body1:p(o,16,1.5,.15),body2:p(o,14,1.43,.15),button:p(s,14,1.75,.4,sR),caption:p(o,12,1.66,.4),overline:p(o,12,2.66,1,sR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return fT({htmlFontSize:l,pxToRem:f,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...g},d,{clone:!1})}function cR(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const uR=["none",cR(0,2,1,-1,0,1,1,0,0,1,3,0),cR(0,3,1,-2,0,2,2,0,0,1,5,0),cR(0,3,3,-2,0,3,4,0,0,1,8,0),cR(0,2,4,-1,0,4,5,0,0,1,10,0),cR(0,3,5,-1,0,5,8,0,0,1,14,0),cR(0,3,5,-1,0,6,10,0,0,1,18,0),cR(0,4,5,-2,0,7,10,1,0,2,16,1),cR(0,5,5,-3,0,8,10,1,0,3,14,2),cR(0,5,6,-3,0,9,12,1,0,3,16,2),cR(0,6,6,-3,0,10,14,1,0,4,18,3),cR(0,6,7,-4,0,11,15,1,0,4,20,3),cR(0,7,8,-4,0,12,17,2,0,5,22,4),cR(0,7,8,-4,0,13,19,2,0,5,24,4),cR(0,7,9,-4,0,14,21,2,0,5,26,4),cR(0,8,9,-5,0,15,22,2,0,6,28,5),cR(0,8,10,-5,0,16,24,2,0,6,30,5),cR(0,8,11,-5,0,17,26,2,0,6,32,5),cR(0,9,11,-5,0,18,28,2,0,7,34,6),cR(0,9,12,-6,0,19,29,2,0,7,36,6),cR(0,10,13,-6,0,20,31,3,0,8,38,7),cR(0,10,13,-6,0,21,33,3,0,8,40,7),cR(0,10,14,-6,0,22,35,3,0,8,42,7),cR(0,11,14,-7,0,23,36,3,0,9,44,8),cR(0,11,15,-7,0,24,38,3,0,9,46,8)],dR={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},hR={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function fR(e){return`${Math.round(e)}ms`}function pR(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function gR(e){const t={...dR,...e.easing},n={...hR,...e.duration};return{getAutoHeightDuration:pR,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:s=0,...a}=r;return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof i?i:fR(i)} ${o} ${"string"===typeof s?s:fR(s)}`)).join(",")},...e,easing:t,duration:n}}const mR={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function vR(){const e={...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return function e(t){const n=Object.entries(t);for(let i=0;i<n.length;i++){const[o,s]=n[i];!dT(r=s)&&"undefined"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r&&"number"!==typeof r&&!Array.isArray(r)||o.startsWith("unstable_")?delete t[o]:dT(s)&&(t[o]={...s},e(t[o]))}var r}(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ${JSON.stringify(e,null,2)};\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;`}const yR=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:i={},transitions:o={},typography:s={},shape:a,...l}=e;if(e.vars&&void 0===e.generateThemeVars)throw new Error(lT(20));const c=Jk(i),u=wk(e);let d=fT(u,{mixins:oR(u.breakpoints,n),palette:c,shadows:uR.slice(),typography:lR(c,s),transitions:gR(o),zIndex:{...mR}});d=fT(d,l);for(var h=arguments.length,f=new Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];return d=f.reduce(((e,t)=>fT(e,t)),d),d.unstable_sxConfig={...hk,...l?.unstable_sxConfig},d.unstable_sx=function(e){return pk({sx:e,theme:this})},d.toRuntimeSource=vR,d};function bR(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const wR=[...Array(25)].map(((e,t)=>{if(0===t)return"none";const n=bR(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`}));function SR(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function ER(e){return"dark"===e?wR:[]}function CR(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const xR=e=>[...[...Array(25)].map(((t,n)=>`--${e?`${e}-`:""}overlays-${n}`)),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],_R=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if("class"===i&&(o=".%s"),"data"===i&&(o="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),e.defaultColorScheme===t){if("dark"===t){const i={};return xR(e.cssVarPrefix).forEach((e=>{i[e]=n[e],delete n[e]})),"media"===o?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:o?{[o.replace("%s",t)]:i,[`${r}, ${o.replace("%s",t)}`]:n}:{[r]:{...n,...i}}}if(o&&"media"!==o)return`${r}, ${o.replace("%s",String(t))}`}else if(t){if("media"===o)return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(o)return o.replace("%s",String(t))}return r};function DR(e,t,n){!e[t]&&n&&(e[t]=n)}function TR(e){return"string"===typeof e&&e.startsWith("hsl")?Ik(e):e}function kR(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Rk(TR(e[t])))}const RR=e=>{try{return e()}catch(t){}};function AR(e,t,n,r){if(!t)return;t=!0===t?{}:t;const i="dark"===r?"dark":"light";if(!n)return void(e[r]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,o=Jk(t);return{palette:o,opacity:{...SR(o.mode),...n},overlays:r||ER(o.mode),...i}}({...t,palette:{mode:i,...t?.palette}}));const{palette:o,...s}=yR({...n,palette:{mode:i,...t?.palette}});return e[r]={...t,palette:o,opacity:{...SR(i),...t?.opacity},overlays:t?.overlays||ER(i)},s}function IR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:o=CR,colorSchemeSelector:s=(t.light&&t.dark?"media":void 0),rootSelector:a=":root",...l}=e,c=Object.keys(t)[0],u=n||(t.light&&"light"!==c?"light":c),d=function(){return eR(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[u]:h,light:f,dark:p,...g}=t,m={...g};let v=h;if(("dark"===u&&!("dark"in t)||"light"===u&&!("light"in t))&&(v=!0),!v)throw new Error(lT(21,u));const y=AR(m,v,l,u);f&&!m.light&&AR(m,f,void 0,"light"),p&&!m.dark&&AR(m,p,void 0,"dark");let b={defaultColorScheme:u,...y,cssVarPrefix:i,colorSchemeSelector:s,rootSelector:a,getCssVar:d,colorSchemes:m,font:{...tR(y.typography),...y.font},spacing:(w=l.spacing,"number"===typeof w?`${w}px`:"string"===typeof w||"function"===typeof w||Array.isArray(w)?w:"8px")};var w;Object.keys(b.colorSchemes).forEach((e=>{const t=b.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],i=n[2];return d(e,t[r][i])};var r;if("light"===t.mode&&(DR(t.common,"background","#fff"),DR(t.common,"onBackground","#000")),"dark"===t.mode&&(DR(t.common,"background","#000"),DR(t.common,"onBackground","#fff")),r=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach((e=>{r[e]||(r[e]={})})),"light"===t.mode){DR(t.Alert,"errorColor",jk(t.error.light,.6)),DR(t.Alert,"infoColor",jk(t.info.light,.6)),DR(t.Alert,"successColor",jk(t.success.light,.6)),DR(t.Alert,"warningColor",jk(t.warning.light,.6)),DR(t.Alert,"errorFilledBg",n("palette-error-main")),DR(t.Alert,"infoFilledBg",n("palette-info-main")),DR(t.Alert,"successFilledBg",n("palette-success-main")),DR(t.Alert,"warningFilledBg",n("palette-warning-main")),DR(t.Alert,"errorFilledColor",RR((()=>t.getContrastText(t.error.main)))),DR(t.Alert,"infoFilledColor",RR((()=>t.getContrastText(t.info.main)))),DR(t.Alert,"successFilledColor",RR((()=>t.getContrastText(t.success.main)))),DR(t.Alert,"warningFilledColor",RR((()=>t.getContrastText(t.warning.main)))),DR(t.Alert,"errorStandardBg",zk(t.error.light,.9)),DR(t.Alert,"infoStandardBg",zk(t.info.light,.9)),DR(t.Alert,"successStandardBg",zk(t.success.light,.9)),DR(t.Alert,"warningStandardBg",zk(t.warning.light,.9)),DR(t.Alert,"errorIconColor",n("palette-error-main")),DR(t.Alert,"infoIconColor",n("palette-info-main")),DR(t.Alert,"successIconColor",n("palette-success-main")),DR(t.Alert,"warningIconColor",n("palette-warning-main")),DR(t.AppBar,"defaultBg",n("palette-grey-100")),DR(t.Avatar,"defaultBg",n("palette-grey-400")),DR(t.Button,"inheritContainedBg",n("palette-grey-300")),DR(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),DR(t.Chip,"defaultBorder",n("palette-grey-400")),DR(t.Chip,"defaultAvatarColor",n("palette-grey-700")),DR(t.Chip,"defaultIconColor",n("palette-grey-700")),DR(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),DR(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),DR(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),DR(t.LinearProgress,"primaryBg",zk(t.primary.main,.62)),DR(t.LinearProgress,"secondaryBg",zk(t.secondary.main,.62)),DR(t.LinearProgress,"errorBg",zk(t.error.main,.62)),DR(t.LinearProgress,"infoBg",zk(t.info.main,.62)),DR(t.LinearProgress,"successBg",zk(t.success.main,.62)),DR(t.LinearProgress,"warningBg",zk(t.warning.main,.62)),DR(t.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.11)`),DR(t.Slider,"primaryTrack",zk(t.primary.main,.62)),DR(t.Slider,"secondaryTrack",zk(t.secondary.main,.62)),DR(t.Slider,"errorTrack",zk(t.error.main,.62)),DR(t.Slider,"infoTrack",zk(t.info.main,.62)),DR(t.Slider,"successTrack",zk(t.success.main,.62)),DR(t.Slider,"warningTrack",zk(t.warning.main,.62));const e=Bk(t.background.default,.8);DR(t.SnackbarContent,"bg",e),DR(t.SnackbarContent,"color",RR((()=>t.getContrastText(e)))),DR(t.SpeedDialAction,"fabHoverBg",Bk(t.background.paper,.15)),DR(t.StepConnector,"border",n("palette-grey-400")),DR(t.StepContent,"border",n("palette-grey-400")),DR(t.Switch,"defaultColor",n("palette-common-white")),DR(t.Switch,"defaultDisabledColor",n("palette-grey-100")),DR(t.Switch,"primaryDisabledColor",zk(t.primary.main,.62)),DR(t.Switch,"secondaryDisabledColor",zk(t.secondary.main,.62)),DR(t.Switch,"errorDisabledColor",zk(t.error.main,.62)),DR(t.Switch,"infoDisabledColor",zk(t.info.main,.62)),DR(t.Switch,"successDisabledColor",zk(t.success.main,.62)),DR(t.Switch,"warningDisabledColor",zk(t.warning.main,.62)),DR(t.TableCell,"border",zk(Mk(t.divider,1),.88)),DR(t.Tooltip,"bg",Mk(t.grey[700],.92))}if("dark"===t.mode){DR(t.Alert,"errorColor",zk(t.error.light,.6)),DR(t.Alert,"infoColor",zk(t.info.light,.6)),DR(t.Alert,"successColor",zk(t.success.light,.6)),DR(t.Alert,"warningColor",zk(t.warning.light,.6)),DR(t.Alert,"errorFilledBg",n("palette-error-dark")),DR(t.Alert,"infoFilledBg",n("palette-info-dark")),DR(t.Alert,"successFilledBg",n("palette-success-dark")),DR(t.Alert,"warningFilledBg",n("palette-warning-dark")),DR(t.Alert,"errorFilledColor",RR((()=>t.getContrastText(t.error.dark)))),DR(t.Alert,"infoFilledColor",RR((()=>t.getContrastText(t.info.dark)))),DR(t.Alert,"successFilledColor",RR((()=>t.getContrastText(t.success.dark)))),DR(t.Alert,"warningFilledColor",RR((()=>t.getContrastText(t.warning.dark)))),DR(t.Alert,"errorStandardBg",jk(t.error.light,.9)),DR(t.Alert,"infoStandardBg",jk(t.info.light,.9)),DR(t.Alert,"successStandardBg",jk(t.success.light,.9)),DR(t.Alert,"warningStandardBg",jk(t.warning.light,.9)),DR(t.Alert,"errorIconColor",n("palette-error-main")),DR(t.Alert,"infoIconColor",n("palette-info-main")),DR(t.Alert,"successIconColor",n("palette-success-main")),DR(t.Alert,"warningIconColor",n("palette-warning-main")),DR(t.AppBar,"defaultBg",n("palette-grey-900")),DR(t.AppBar,"darkBg",n("palette-background-paper")),DR(t.AppBar,"darkColor",n("palette-text-primary")),DR(t.Avatar,"defaultBg",n("palette-grey-600")),DR(t.Button,"inheritContainedBg",n("palette-grey-800")),DR(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),DR(t.Chip,"defaultBorder",n("palette-grey-700")),DR(t.Chip,"defaultAvatarColor",n("palette-grey-300")),DR(t.Chip,"defaultIconColor",n("palette-grey-300")),DR(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),DR(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),DR(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),DR(t.LinearProgress,"primaryBg",jk(t.primary.main,.5)),DR(t.LinearProgress,"secondaryBg",jk(t.secondary.main,.5)),DR(t.LinearProgress,"errorBg",jk(t.error.main,.5)),DR(t.LinearProgress,"infoBg",jk(t.info.main,.5)),DR(t.LinearProgress,"successBg",jk(t.success.main,.5)),DR(t.LinearProgress,"warningBg",jk(t.warning.main,.5)),DR(t.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.13)`),DR(t.Slider,"primaryTrack",jk(t.primary.main,.5)),DR(t.Slider,"secondaryTrack",jk(t.secondary.main,.5)),DR(t.Slider,"errorTrack",jk(t.error.main,.5)),DR(t.Slider,"infoTrack",jk(t.info.main,.5)),DR(t.Slider,"successTrack",jk(t.success.main,.5)),DR(t.Slider,"warningTrack",jk(t.warning.main,.5));const e=Bk(t.background.default,.98);DR(t.SnackbarContent,"bg",e),DR(t.SnackbarContent,"color",RR((()=>t.getContrastText(e)))),DR(t.SpeedDialAction,"fabHoverBg",Bk(t.background.paper,.15)),DR(t.StepConnector,"border",n("palette-grey-600")),DR(t.StepContent,"border",n("palette-grey-600")),DR(t.Switch,"defaultColor",n("palette-grey-300")),DR(t.Switch,"defaultDisabledColor",n("palette-grey-600")),DR(t.Switch,"primaryDisabledColor",jk(t.primary.main,.55)),DR(t.Switch,"secondaryDisabledColor",jk(t.secondary.main,.55)),DR(t.Switch,"errorDisabledColor",jk(t.error.main,.55)),DR(t.Switch,"infoDisabledColor",jk(t.info.main,.55)),DR(t.Switch,"successDisabledColor",jk(t.success.main,.55)),DR(t.Switch,"warningDisabledColor",jk(t.warning.main,.55)),DR(t.TableCell,"border",jk(Mk(t.divider,1),.68)),DR(t.Tooltip,"bg",Mk(t.grey[700],.92))}kR(t.background,"default"),kR(t.background,"paper"),kR(t.common,"background"),kR(t.common,"onBackground"),kR(t,"divider"),Object.keys(t).forEach((e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&DR(t[e],"mainChannel",Rk(TR(n.main))),n.light&&DR(t[e],"lightChannel",Rk(TR(n.light))),n.dark&&DR(t[e],"darkChannel",Rk(TR(n.dark))),n.contrastText&&DR(t[e],"contrastTextChannel",Rk(TR(n.contrastText))),"text"===e&&(kR(t[e],"primary"),kR(t[e],"secondary")),"action"===e&&(n.active&&kR(t[e],"active"),n.selected&&kR(t[e],"selected")))}))}));for(var S=arguments.length,E=new Array(S>1?S-1:0),C=1;C<S;C++)E[C-1]=arguments[C];b=E.reduce(((e,t)=>fT(e,t)),b);const x={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:_R(b)},{vars:_,generateThemeVars:D,generateStyleSheets:T}=iR(b,x);return b.vars=_,Object.entries(b.colorSchemes[b.defaultColorScheme]).forEach((e=>{let[t,n]=e;b[t]=n})),b.generateThemeVars=D,b.generateStyleSheets=T,b.generateSpacing=function(){return yk(l.spacing,NT(this))},b.getColorSchemeSelector=function(e){return function(t){return"media"===e?`@media (prefers-color-scheme: ${t})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${t}"] &`:"class"===e?`.${t} &`:"data"===e?`[data-${t}] &`:`${e.replace("%s",t)} &`:"&"}}(s),b.spacing=b.generateSpacing(),b.shouldSkipGeneratingVar=o,b.unstable_sxConfig={...hk,...l?.unstable_sxConfig},b.unstable_sx=function(e){return pk({sx:e,theme:this})},b.toRuntimeSource=vR,b}function NR(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...!0!==n&&n,palette:Jk({...!0===n?{}:n.palette,mode:t})})}function PR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:i=t?.mode,...o}=e,s=i||"light",a=r?.[s],l={...r,...t?{[s]:{..."boolean"!==typeof a&&a,palette:t}}:void 0};for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];if(!1===n){if(!("colorSchemes"in e))return yR(e,...u);let n=t;"palette"in e||l[s]&&(!0!==l[s]?n=l[s].palette:"dark"===s&&(n={mode:"dark"}));const r=yR({...e,palette:n},...u);return r.defaultColorScheme=s,r.colorSchemes=l,"light"===r.palette.mode&&(r.colorSchemes.light={...!0!==l.light&&l.light,palette:r.palette},NR(r,"dark",l.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark={...!0!==l.dark&&l.dark,palette:r.palette},NR(r,"light",l.light)),r}return t||"light"in l||"light"!==s||(l.light=!0),IR({...o,colorSchemes:l,defaultColorScheme:s,..."boolean"!==typeof n&&n},...u)}const MR="$$material",OR={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function jR(e,t){const n=OR[t];return n?`${arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui"}-${n}`:`${_k.generate(e)}-${t}`}function LR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=jR(e,t,n)})),r}const zR=LR("MuiBox",["root"]),BR=PR(),FR=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,s=oT("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(pk);return i.forwardRef((function(e,i){const a=Ck(n),{className:l,component:c="div",...u}=gk(e);return(0,We.jsx)(s,{as:c,ref:i,className:E_(l,o?o(r):r),theme:t&&a[t]||a,...u})}))}({themeId:MR,defaultTheme:BR,defaultClassName:zR.root,generateClassName:_k.generate}),UR=FR;function $R(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const i in e){const o=e[i];let s="",a=!0;for(let e=0;e<o.length;e+=1){const r=o[e];r&&(s+=(!0===a?"":" ")+t(r),a=!1,n&&n[r]&&(s+=" "+n[r]))}r[i]=s}return r}let HR=0;const VR={...o}.useId;function WR(e){if(void 0!==VR){const t=VR();return e??t}return function(e){const[t,n]=i.useState(e),r=e||t;return i.useEffect((()=>{null==t&&(HR+=1,n(`mui-${HR}`))}),[t]),r}(e)}const qR=cT;function GR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=i.useRef(void 0),o=i.useCallback((e=>{const n=t.map((t=>{if(null==t)return null;if("function"===typeof t){const n=t,r=n(e);return"function"===typeof r?r:()=>{n(null)}}return t.current=e,()=>{t.current=null}}));return()=>{n.forEach((e=>e?.()))}}),t);return i.useMemo((()=>t.every((e=>null==e))?null:e=>{r.current&&(r.current(),r.current=void 0),null!=e&&(r.current=o(e))}),t)}function QR(e){return parseInt(i.version,10)>=19?e?.props?.ref||null:e?.ref||null}function YR(e){return e&&e.ownerDocument||document}const KR=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function XR(e){const t=[],n=[];return Array.from(e.querySelectorAll(KR)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function ZR(){return!0}const JR=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:s=XR,isEnabled:a=ZR,open:l}=e,c=i.useRef(!1),u=i.useRef(null),d=i.useRef(null),h=i.useRef(null),f=i.useRef(null),p=i.useRef(!1),g=i.useRef(null),m=GR(QR(t),g),v=i.useRef(null);i.useEffect((()=>{l&&g.current&&(p.current=!n)}),[n,l]),i.useEffect((()=>{if(!l||!g.current)return;const e=YR(g.current);return g.current.contains(e.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),i.useEffect((()=>{if(!l||!g.current)return;const e=YR(g.current),t=t=>{v.current=t,!r&&a()&&"Tab"===t.key&&e.activeElement===g.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=g.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(r&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!p.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(g.current)),n.length>0){const e=Boolean(v.current?.shiftKey&&"Tab"===v.current?.key),t=n[0],r=n[n.length-1];"string"!==typeof t&&"string"!==typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const i=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(i),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,r,o,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0};return(0,We.jsxs)(i.Fragment,{children:[(0,We.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),i.cloneElement(t,{ref:m,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0,f.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,We.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})},eA="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;function tA(e,t){"function"===typeof e?e(t):e&&(e.current=t)}const nA=i.forwardRef((function(e,t){const{children:n,container:r,disablePortal:o=!1}=e,[s,l]=i.useState(null),c=GR(i.isValidElement(n)?QR(n):null,t);if(eA((()=>{o||l(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,o]),eA((()=>{if(s&&!o)return tA(t,s),()=>{tA(t,null)}}),[t,s,o]),o){if(i.isValidElement(n)){const e={ref:c};return i.cloneElement(n,e)}return n}return s?a.createPortal(n,s):s}));function rA(e){const{variants:t,...n}=e,r={variants:t,style:aT(n),isProcessed:!0};return r.style===n||t&&t.forEach((e=>{"function"!==typeof e.style&&(e.style=aT(e.style))})),r}const iA=wk();function oA(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function sA(e){return e?(t,n)=>n[e]:null}function aA(e,t){const n="function"===typeof t?t(e):t;if(Array.isArray(n))return n.flatMap((t=>aA(e,t)));if(Array.isArray(n?.variants)){let t;if(n.isProcessed)t=n.style;else{const{variants:e,...r}=n;t=r}return lA(e,n.variants,[t])}return n?.isProcessed?n.style:n}function lA(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e:for(let i=0;i<t.length;i+=1){const o=t[i];if("function"===typeof o.props){if(n??={...e,...e.ownerState,ownerState:e.ownerState},!o.props(n))continue}else for(const t in o.props)if(e[t]!==o.props[t]&&e.ownerState?.[t]!==o.props[t])continue e;"function"===typeof o.style?(n??={...e,...e.ownerState,ownerState:e.ownerState},r.push(o.style(n))):r.push(o.style)}return r}function cA(e,t){}function uA(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const dA=PR();const hA=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},fA=e=>hA(e)&&"classes"!==e,pA=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=iA,rootShouldForwardProp:r=oA,slotShouldForwardProp:i=oA}=e;function o(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(e=>e.filter((e=>e!==pk))));const{name:n,slot:s,skipVariantsResolver:a,skipSx:l,overridesResolver:c=sA(uA(s)),...u}=t,d=void 0!==a?a:s&&"Root"!==s&&"root"!==s||!1,h=l||!1;let f=oA;"Root"===s||"root"===s?f=r:s?f=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(f=void 0);const p=oT(e,{shouldForwardProp:f,label:cA(n,s),...u}),g=e=>{if("function"===typeof e&&e.__emotion_real!==e)return function(t){return aA(t,e)};if(dT(e)){const t=rA(e);return t.variants?function(e){return aA(e,t)}:t.style}return e},m=function(){const t=[];for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const a=i.map(g),l=[];if(t.push(o),n&&c&&l.push((function(e){const t=e.theme,r=t.components?.[n]?.styleOverrides;if(!r)return null;const i={};for(const n in r)i[n]=aA(e,r[n]);return c(e,i)})),n&&!d&&l.push((function(e){const t=e.theme,r=t?.components?.[n]?.variants;return r?lA(e,r):null})),h||l.push(pk),Array.isArray(a[0])){const e=a.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let i;i=[...n,...e,...r],i.raw=[...n,...e.raw,...r],t.unshift(i)}const u=[...t,...a,...l],f=p(...u);return e.muiName&&(f.muiName=e.muiName),f};return p.withConfig&&(m.withConfig=p.withConfig),m}}({themeId:MR,defaultTheme:dA,rootShouldForwardProp:fA}),gA=pA,mA={theme:void 0};const vA=function(e){let t,n;return function(r){let i=t;return void 0!==i&&r.theme===n||(mA.theme=r.theme,i=rA(e(mA)),t=i,n=r.theme),i}};function yA(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if("components"===i||"slots"===i)n[i]={...e[i],...n[i]};else if("componentsProps"===i||"slotProps"===i){const r=e[i],o=t[i];if(o)if(r){n[i]={...o};for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=e;n[i][t]=yA(r[t],o[t])}}else n[i]=o;else n[i]=r||{}}else void 0===n[i]&&(n[i]=e[i])}return n}const bA=i.createContext(void 0);function wA(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?yA(i.defaultProps,r):i.styleOverrides||i.variants?r:yA(i,r)}({props:t,name:n,theme:{components:i.useContext(bA)}})}function SA(e){return wA(e)}const EA=function(e){return"string"===typeof e};const CA=function(e,t,n){return void 0===e||EA(e)?t:{...t,ownerState:{...t.ownerState,...n}}};const xA=function(e,t,n){return"function"===typeof e?e(t,n):e};const _A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const DA=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const TA=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=E_(n?.className,o,i?.className,r?.className),t={...n?.style,...i?.style,...r?.style},s={...n,...i,...r};return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=_A({...i,...r}),a=DA(r),l=DA(i),c=t(s),u=E_(c?.className,n?.className,o,i?.className,r?.className),d={...c?.style,...n?.style,...i?.style,...r?.style},h={...c,...n,...l,...a};return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}};function kA(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=t,{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0},...h}=o,f=u[e]||r,p=xA(d[e],i),{props:{component:g,...m},internalRef:v}=TA({className:n,...l,externalForwardedProps:"root"===e?h:void 0,externalSlotProps:p}),y=GR(v,p?.ref,t.ref),b="root"===e?g||c:g;return[f,CA(f,{..."root"===e&&!c&&!u[e]&&s,..."root"!==e&&!u[e]&&s,...m,...b&&!a&&{as:b},...b&&a&&{component:b},ref:y},i)]}function RA(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function AA(e,t){return AA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},AA(e,t)}function IA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,AA(e,t)}const NA=!1,PA=i.createContext(null);var MA="unmounted",OA="exited",jA="entering",LA="entered",zA="exiting",BA=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=OA,r.appearStatus=jA):i=LA:i=t.unmountOnExit||t.mountOnEnter?MA:OA,r.state={status:i},r.nextCallback=null,r}IA(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===MA?{status:OA}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==jA&&n!==LA&&(t=jA):n!==jA&&n!==LA||(t=zA)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===jA){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===OA&&this.setState({status:MA})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[a.findDOMNode(this),r],o=i[0],s=i[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!e&&!n||NA?this.safeSetState({status:LA},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:jA},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:LA},(function(){t.props.onEntered(o,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!NA?(this.props.onExit(r),this.safeSetState({status:zA},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:OA},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:OA},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===MA)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,RA(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(PA.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function FA(){}BA.contextType=PA,BA.propTypes={},BA.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:FA,onEntering:FA,onEntered:FA,onExit:FA,onExiting:FA,onExited:FA},BA.UNMOUNTED=MA,BA.EXITED=OA,BA.ENTERING=jA,BA.ENTERED=LA,BA.EXITING=zA;const UA=BA;function $A(){const e=Ck(dA);return e[MR]||e}const HA=e=>e.scrollTop;function VA(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??("number"===typeof n?n:n[t.mode]||0),easing:i.transitionTimingFunction??("object"===typeof r?r[t.mode]:r),delay:i.transitionDelay}}const WA=GR,qA={entering:{opacity:1},entered:{opacity:1}},GA=i.forwardRef((function(e,t){const n=$A(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:g,style:m,timeout:v=r,TransitionComponent:y=UA,...b}=e,w=i.useRef(null),S=WA(w,QR(a),t),E=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},C=E(h),x=E(((e,t)=>{HA(e);const r=VA({style:m,timeout:v,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),u&&u(e,t)})),_=E(d),D=E(g),T=E((e=>{const t=VA({style:m,timeout:v,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),f&&f(e)})),k=E(p);return(0,We.jsx)(y,{appear:s,in:c,nodeRef:w,onEnter:x,onEntered:_,onEntering:C,onExit:T,onExited:k,onExiting:D,addEndListener:e=>{o&&o(w.current,e)},timeout:v,...b,children:(e,t)=>{let{ownerState:n,...r}=t;return i.cloneElement(a,{style:{opacity:0,visibility:"exited"!==e||c?void 0:"hidden",...qA[e],...m,...a.props.style},ref:S,...r})}})})),QA=GA;function YA(e){return jR("MuiBackdrop",e)}LR("MuiBackdrop",["root","invisible"]);const KA=gA("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),XA=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiBackdrop"}),{children:r,className:i,component:o="div",invisible:s=!1,open:a,components:l={},componentsProps:c={},slotProps:u={},slots:d={},TransitionComponent:h,transitionDuration:f,...p}=n,g={...n,component:o,invisible:s},m=(e=>{const{classes:t,invisible:n}=e;return $R({root:["root",n&&"invisible"]},YA,t)})(g),v={slots:{transition:h,root:l.Root,...d},slotProps:{...c,...u}},[y,b]=kA("root",{elementType:KA,externalForwardedProps:v,className:E_(m.root,i),ownerState:g}),[w,S]=kA("transition",{elementType:QA,externalForwardedProps:v,ownerState:g});return(0,We.jsx)(w,{in:a,timeout:f,...p,...S,children:(0,We.jsx)(y,{"aria-hidden":!0,...b,classes:m,ref:t,children:r})})}));const ZA=function(e){const t=i.useRef(e);return eA((()=>{t.current=e})),i.useRef((function(){return(0,t.current)(...arguments)})).current};function JA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}function eI(e){return YR(e).defaultView||window}function tI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function nI(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function rI(e){return parseInt(eI(e).getComputedStyle(e).paddingRight,10)||0}function iI(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=!o.includes(e),n=!function(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&nI(e,i)}))}function oI(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function sI(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=YR(e);return t.body===e?eI(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=tI(eI(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${rI(r)+e}px`;const t=YR(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${rI(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=YR(r).body;else{const t=r.parentElement,n=eI(r);e="HTML"===t?.nodeName&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const aI=()=>{},lI=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&nI(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);iI(t,e.mount,e.modalRef,r,!0);const i=oI(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=oI(this.containers,(t=>t.modals.includes(e))),r=this.containers[n];r.restore||(r.restore=sI(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=oI(this.containers,(t=>t.modals.includes(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&nI(e.modalRef,t),iI(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&nI(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const cI=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=e,h=i.useRef({}),f=i.useRef(null),p=i.useRef(null),g=GR(p,d),[m,v]=i.useState(!u),y=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let b=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(b=!1);const w=()=>(h.current.modalRef=p.current,h.current.mount=f.current,h.current),S=()=>{lI.mount(w(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},E=ZA((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||YR(f.current).body;lI.add(w(),e),p.current&&S()})),C=()=>lI.isTopModal(w()),x=ZA((e=>{f.current=e,e&&(u&&C()?S():p.current&&nI(p.current,b))})),_=i.useCallback((()=>{lI.remove(w(),b)}),[b]);i.useEffect((()=>()=>{_()}),[_]),i.useEffect((()=>{u?E():y&&o||_()}),[u,_,y,o,E]);const D=e=>t=>{e.onKeyDown?.(t),"Escape"===t.key&&229!==t.which&&C()&&(n||(t.stopPropagation(),c&&c(t,"escapeKeyDown")))},T=e=>t=>{e.onClick?.(t),t.target===t.currentTarget&&c&&c(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=_A(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r={...n,...t};return{role:"presentation",...r,onKeyDown:D(r),ref:g}},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"aria-hidden":!0,...e,onClick:T(e),open:u}},getTransitionProps:()=>({onEnter:JA((()=>{v(!1),s&&s()}),l?.props.onEnter??aI),onExited:JA((()=>{v(!0),a&&a(),o&&_()}),l?.props.onExited??aI)}),rootRef:g,portalRef:x,isTopModal:C,exited:m,hasTransition:y}};function uI(e){return jR("MuiModal",e)}LR("MuiModal",["root","hidden","backdrop"]);const dI=gA("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(vA((e=>{let{theme:t}=e;return{position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:e=>{let{ownerState:t}=e;return!t.open&&t.exited},style:{visibility:"hidden"}}]}}))),hI=gA(XA,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),fI=i.forwardRef((function(e,t){const n=SA({name:"MuiModal",props:e}),{BackdropComponent:r=hI,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:c,container:u,component:d,components:h={},componentsProps:f={},disableAutoFocus:p=!1,disableEnforceFocus:g=!1,disableEscapeKeyDown:m=!1,disablePortal:v=!1,disableRestoreFocus:y=!1,disableScrollLock:b=!1,hideBackdrop:w=!1,keepMounted:S=!1,onClose:E,onTransitionEnter:C,onTransitionExited:x,open:_,slotProps:D={},slots:T={},theme:k,...R}=n,A={...n,closeAfterTransition:l,disableAutoFocus:p,disableEnforceFocus:g,disableEscapeKeyDown:m,disablePortal:v,disableRestoreFocus:y,disableScrollLock:b,hideBackdrop:w,keepMounted:S},{getRootProps:I,getBackdropProps:N,getTransitionProps:P,portalRef:M,isTopModal:O,exited:j,hasTransition:L}=cI({...A,rootRef:t}),z={...A,exited:j},B=(e=>{const{open:t,exited:n,classes:r}=e;return $R({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},uI,r)})(z),F={};if(void 0===c.props.tabIndex&&(F.tabIndex="-1"),L){const{onEnter:e,onExited:t}=P();F.onEnter=e,F.onExited=t}const U={slots:{root:h.Root,backdrop:h.Backdrop,...T},slotProps:{...f,...D}},[$,H]=kA("root",{ref:t,elementType:dI,externalForwardedProps:{...U,...R,component:d},getSlotProps:I,ownerState:z,className:E_(a,B?.root,!z.open&&z.exited&&B?.hidden)}),[V,W]=kA("backdrop",{ref:o?.ref,elementType:r,externalForwardedProps:U,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:e=>N({...e,onClick:t=>{e?.onClick&&e.onClick(t)}}),className:E_(o?.className,B?.backdrop),ownerState:z});return S||_||L&&!j?(0,We.jsx)(nA,{ref:M,container:u,disablePortal:v,children:(0,We.jsxs)($,{...H,children:[!w&&r?(0,We.jsx)(V,{...W}):null,(0,We.jsx)(JR,{disableEnforceFocus:g,disableAutoFocus:p,disableRestoreFocus:y,isEnabled:O,open:_,children:i.cloneElement(c,F)})]})}):null})),pI=fI;function gI(e){return jR("MuiPaper",e)}LR("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const mI=gA("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})(vA((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}}))),vI=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiPaper"}),r=$A(),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation",...c}=n,u={...n,component:o,elevation:s,square:a,variant:l},d=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return $R({root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]},gI,i)})(u);return(0,We.jsx)(mI,{as:o,ownerState:u,className:E_(d.root,i),ref:t,...c,style:{..."elevation"===l&&{"--Paper-shadow":(r.vars||r).shadows[s],...r.vars&&{"--Paper-overlay":r.vars.overlays?.[s]},...!r.vars&&"dark"===r.palette.mode&&{"--Paper-overlay":`linear-gradient(${Pk("#fff",bR(s))}, ${Pk("#fff",bR(s))})`}},...c.style}})})),yI=vI;function bI(e){return jR("MuiDialog",e)}const wI=LR("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const SI=i.createContext({}),EI=gA(XA,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),CI=gA(pI,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),xI=gA("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${qR(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),_I=gA(yI,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${qR(n.scroll)}`],t[`paperWidth${qR(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(vA((e=>{let{theme:t}=e;return{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:e=>{let{ownerState:t}=e;return!t.maxWidth},style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${wI.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter((e=>"xs"!==e)).map((e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${wI.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}}))),{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"calc(100% - 64px)"}},{props:e=>{let{ownerState:t}=e;return t.fullScreen},style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${wI.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}}))),DI=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiDialog"}),r=$A(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:u,children:d,className:h,disableEscapeKeyDown:f=!1,fullScreen:p=!1,fullWidth:g=!1,maxWidth:m="sm",onClick:v,onClose:y,open:b,PaperComponent:w=yI,PaperProps:S={},scroll:E="paper",slots:C={},slotProps:x={},TransitionComponent:_=QA,transitionDuration:D=o,TransitionProps:T,...k}=n,R={...n,disableEscapeKeyDown:f,fullScreen:p,fullWidth:g,maxWidth:m,scroll:E},A=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e;return $R({root:["root"],container:["container",`scroll${qR(n)}`],paper:["paper",`paperScroll${qR(n)}`,`paperWidth${qR(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]},bI,t)})(R),I=i.useRef(),N=WR(a),P=i.useMemo((()=>({titleId:N})),[N]),M={slots:{transition:_,...C},slotProps:{transition:T,paper:S,backdrop:u,...x}},[O,j]=kA("root",{elementType:CI,shouldForwardComponentProp:!0,externalForwardedProps:M,ownerState:R,className:E_(A.root,h),ref:t}),[L,z]=kA("backdrop",{elementType:EI,shouldForwardComponentProp:!0,externalForwardedProps:M,ownerState:R}),[B,F]=kA("paper",{elementType:_I,shouldForwardComponentProp:!0,externalForwardedProps:M,ownerState:R,className:E_(A.paper,S.className)}),[U,$]=kA("container",{elementType:xI,externalForwardedProps:M,ownerState:R,className:E_(A.container)}),[H,V]=kA("transition",{elementType:QA,externalForwardedProps:M,ownerState:R,additionalProps:{appear:!0,in:b,timeout:D,role:"presentation"}});return(0,We.jsx)(O,{closeAfterTransition:!0,slots:{backdrop:L},slotProps:{backdrop:{transitionDuration:D,as:c,...z}},disableEscapeKeyDown:f,onClose:y,open:b,onClick:e=>{v&&v(e),I.current&&(I.current=null,y&&y(e,"backdropClick"))},...j,...k,children:(0,We.jsx)(H,{...V,children:(0,We.jsx)(U,{onMouseDown:e=>{I.current=e.target===e.currentTarget},...$,children:(0,We.jsx)(B,{as:w,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":N,"aria-modal":l,...F,children:(0,We.jsx)(SI.Provider,{value:P,children:d})})})})})})),TI=DI;n(219);var kI=function(e,t){var n=arguments;if(null==t||!QD.call(t,"css"))return i.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=XD,o[1]=function(e,t){var n={};for(var r in t)QD.call(t,r)&&(n[r]=t[r]);return n[YD]=e,n}(e,t);for(var s=2;s<r;s++)o[s]=n[s];return i.createElement.apply(null,o)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(kI||(kI={}));var RI=qD((function(e,t){var n=UD([e.styles],void 0,i.useContext(GD)),r=i.useRef();return VD((function(){var e=t.key+"-global",i=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,s=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return t.sheet.tags.length&&(i.before=t.sheet.tags[0]),null!==s&&(o=!0,s.setAttribute("data-emotion",e),i.hydrate([s])),r.current=[i,o],function(){i.flush()}}),[t]),VD((function(){var e=r.current,i=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&RD(t,n.next,!0),i.tags.length){var o=i.tags[i.tags.length-1].nextElementSibling;i.before=o,i.flush()}t.insert("",n,i,!1)}}),[t,n.name]),null}));function AI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return UD(t)}function II(){var e=AI.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function NI(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,We.jsx)(RI,{styles:r})}const PI=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=Ck(r),o="function"===typeof t?t(n&&i[n]||i):t;return(0,We.jsx)(NI,{styles:o})};const MI=function(e){return(0,We.jsx)(PI,{...e,defaultTheme:dA,themeId:MR})};function OI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}function jI(e){return jR("MuiTypography",e)}LR("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const LI={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},zI=gk,BI=gA("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${qR(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(vA((e=>{let{theme:t}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter((e=>{let[t,n]=e;return"inherit"!==t&&n&&"object"===typeof n})).map((e=>{let[t,n]=e;return{props:{variant:t},style:n}})),...Object.entries(t.palette).filter(OI()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),...Object.entries(t.palette?.text||{}).filter((e=>{let[,t]=e;return"string"===typeof t})).map((e=>{let[n]=e;return{props:{color:`text${qR(n)}`},style:{color:(t.vars||t).palette.text[n]}}})),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}}))),FI={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},UI=i.forwardRef((function(e,t){const{color:n,...r}=SA({props:e,name:"MuiTypography"}),i=zI({...r,...!LI[n]&&{color:n}}),{align:o="inherit",className:s,component:a,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=FI,...f}=i,p={...i,align:o,color:n,className:s,component:a,gutterBottom:l,noWrap:c,paragraph:u,variant:d,variantMapping:h},g=a||(u?"p":h[d]||FI[d])||"span",m=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e;return $R({root:["root",o,"inherit"!==e.align&&`align${qR(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},jI,s)})(p);return(0,We.jsx)(BI,{as:g,ref:t,className:E_(m.root,s),...f,ownerState:p,style:{..."inherit"!==o&&{"--Typography-textAlign":o},...f.style}})})),$I=UI;function HI(e){return jR("MuiDialogTitle",e)}const VI=LR("MuiDialogTitle",["root"]),WI=gA($I,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),qI=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiDialogTitle"}),{className:r,id:o,...s}=n,a=n,l=(e=>{const{classes:t}=e;return $R({root:["root"]},HI,t)})(a),{titleId:c=o}=i.useContext(SI);return(0,We.jsx)(WI,{component:"h2",className:E_(l.root,r),ownerState:a,ref:t,variant:"h6",id:o??c,...s})}));function GI(e){return jR("MuiDialogContent",e)}LR("MuiDialogContent",["root","dividers"]);const QI=gA("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(vA((e=>{let{theme:t}=e;return{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:e=>{let{ownerState:t}=e;return t.dividers},style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:e=>{let{ownerState:t}=e;return!t.dividers},style:{[`.${VI.root} + &`]:{paddingTop:0}}}]}}))),YI=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiDialogContent"}),{className:r,dividers:i=!1,...o}=n,s={...n,dividers:i},a=(e=>{const{classes:t,dividers:n}=e;return $R({root:["root",n&&"dividers"]},GI,t)})(s);return(0,We.jsx)(QI,{className:E_(a.root,r),ownerState:s,ref:t,...o})}));function KI(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r}function XI(e){return parseInt(e,10)||0}const ZI={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function JI(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const eN=i.forwardRef((function(e,t){const{onChange:n,maxRows:r,minRows:o=1,style:s,value:a,...l}=e,{current:c}=i.useRef(null!=a),u=i.useRef(null),d=GR(t,u),h=i.useRef(null),f=i.useRef(null),p=i.useCallback((()=>{const t=u.current,n=f.current;if(!t||!n)return;const i=eI(t).getComputedStyle(t);if("0px"===i.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=i.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const s=i.boxSizing,a=XI(i.paddingBottom)+XI(i.paddingTop),l=XI(i.borderBottomWidth)+XI(i.borderTopWidth),c=n.scrollHeight;n.value="x";const d=n.scrollHeight;let h=c;o&&(h=Math.max(Number(o)*d,h)),r&&(h=Math.min(Number(r)*d,h)),h=Math.max(h,d);return{outerHeightStyle:h+("border-box"===s?a+l:0),overflowing:Math.abs(h-c)<=1}}),[r,o,e.placeholder]),g=ZA((()=>{const e=u.current,t=p();if(!e||!t||JI(t))return!1;const n=t.outerHeightStyle;return null!=h.current&&h.current!==n})),m=i.useCallback((()=>{const e=u.current,t=p();if(!e||!t||JI(t))return;const n=t.outerHeightStyle;h.current!==n&&(h.current=n,e.style.height=`${n}px`),e.style.overflow=t.overflowing?"hidden":""}),[p]),v=i.useRef(-1);eA((()=>{const e=KI(m),t=u?.current;if(!t)return;const n=eI(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver((()=>{g()&&(r.unobserve(t),cancelAnimationFrame(v.current),m(),v.current=requestAnimationFrame((()=>{r.observe(t)})))})),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(v.current),n.removeEventListener("resize",e),r&&r.disconnect()}}),[p,m,g]),eA((()=>{m()}));return(0,We.jsxs)(i.Fragment,{children:[(0,We.jsx)("textarea",{value:a,onChange:e=>{c||m(),n&&n(e)},ref:d,rows:o,style:s,...l}),(0,We.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:{...ZI,...s,paddingTop:0,paddingBottom:0}})]})})),tN=eN;const nN=function(e){return"string"===typeof e};function rN(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const iN=i.createContext(void 0);function oN(){return i.useContext(iN)}const sN=eA;function aN(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function lN(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(aN(e.value)&&""!==e.value||t&&aN(e.defaultValue)&&""!==e.defaultValue)}function cN(e){return jR("MuiInputBase",e)}const uN=LR("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var dN;const hN=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${qR(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},fN=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},pN=gA("div",{name:"MuiInputBase",slot:"Root",overridesResolver:hN})(vA((e=>{let{theme:t}=e;return{...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${uN.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"4px 0 5px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"100%"}}]}}))),gN=gA("input",{name:"MuiInputBase",slot:"Input",overridesResolver:fN})(vA((e=>{let{theme:t}=e;const n="light"===t.palette.mode,r={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${uN.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${uN.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInjectingGlobalStyles},style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}}))),mN=function(e){return function(t){return(0,We.jsx)(MI,{styles:"function"===typeof e?n=>e({theme:n,...t}):e})}}({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),vN=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:o,autoFocus:s,className:a,color:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:p,error:g,fullWidth:m=!1,id:v,inputComponent:y="input",inputProps:b={},inputRef:w,margin:S,maxRows:E,minRows:C,multiline:x=!1,name:_,onBlur:D,onChange:T,onClick:k,onFocus:R,onKeyDown:A,onKeyUp:I,placeholder:N,readOnly:P,renderSuffix:M,rows:O,size:j,slotProps:L={},slots:z={},startAdornment:B,type:F="text",value:U,...$}=n,H=null!=b.value?b.value:U,{current:V}=i.useRef(null!=H),W=i.useRef(),q=i.useCallback((e=>{0}),[]),G=WA(W,w,b.ref,q),[Q,Y]=i.useState(!1),K=oN();const X=rN({props:n,muiFormControl:K,states:["color","disabled","error","hiddenLabel","size","required","filled"]});X.focused=K?K.focused:Q,i.useEffect((()=>{!K&&h&&Q&&(Y(!1),D&&D())}),[K,h,Q,D]);const Z=K&&K.onFilled,J=K&&K.onEmpty,ee=i.useCallback((e=>{lN(e)?Z&&Z():J&&J()}),[Z,J]);sN((()=>{V&&ee({value:H})}),[H,ee,V]);i.useEffect((()=>{ee(W.current)}),[]);let te=y,ne=b;x&&"input"===te&&(ne=O?{type:void 0,minRows:O,maxRows:O,...ne}:{type:void 0,maxRows:E,minRows:C,...ne},te=tN);i.useEffect((()=>{K&&K.setAdornedStart(Boolean(B))}),[K,B]);const re={...n,color:X.color||"primary",disabled:X.disabled,endAdornment:p,error:X.error,focused:X.focused,formControl:K,fullWidth:m,hiddenLabel:X.hiddenLabel,multiline:x,size:X.size,startAdornment:B,type:F},ie=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:f,type:p}=e;return $R({root:["root",`color${qR(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&`size${qR(h)}`,u&&"multiline",f&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]},cN,t)})(re),oe=z.root||c.Root||pN,se=L.root||u.root||{},ae=z.input||c.Input||gN;return ne={...ne,...L.input??u.input},(0,We.jsxs)(i.Fragment,{children:[!f&&"function"===typeof mN&&(dN||(dN=(0,We.jsx)(mN,{}))),(0,We.jsxs)(oe,{...se,ref:t,onClick:e=>{W.current&&e.currentTarget===e.target&&W.current.focus(),k&&k(e)},...$,...!nN(oe)&&{ownerState:{...re,...se.ownerState}},className:E_(ie.root,se.className,a,P&&"MuiInputBase-readOnly"),children:[B,(0,We.jsx)(iN.Provider,{value:null,children:(0,We.jsx)(ae,{"aria-invalid":X.error,"aria-describedby":r,autoComplete:o,autoFocus:s,defaultValue:d,disabled:X.disabled,id:v,onAnimationStart:e=>{ee("mui-auto-fill-cancel"===e.animationName?W.current:{value:"x"})},name:_,placeholder:N,readOnly:P,required:X.required,rows:O,value:H,onKeyDown:A,onKeyUp:I,type:F,...ne,...!nN(ae)&&{as:te,ownerState:{...re,...ne.ownerState}},ref:G,className:E_(ie.input,ne.className,P&&"MuiInputBase-readOnly"),onBlur:e=>{D&&D(e),b.onBlur&&b.onBlur(e),K&&K.onBlur?K.onBlur(e):Y(!1)},onChange:function(e){if(!V){const t=e.target||W.current;if(null==t)throw new Error(lT(1));ee({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];b.onChange&&b.onChange(e,...n),T&&T(e,...n)},onFocus:e=>{R&&R(e),b.onFocus&&b.onFocus(e),K&&K.onFocus?K.onFocus(e):Y(!0)}})}),p,M?M({...X,startAdornment:B}):null]})]})})),yN=vN;function bN(e){return jR("MuiInput",e)}const wN={...uN,...LR("MuiInput",["root","underline","input"])},SN=gA(pN,{shouldForwardProp:e=>fA(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...hN(e,t),!n.disableUnderline&&t.underline]}})(vA((e=>{let{theme:t}=e;let n="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{"label + &":{marginTop:16}}},{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${wN.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${wN.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${wN.disabled}, .${wN.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${wN.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(OI()).map((e=>{let[n]=e;return{props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}}}))]}}))),EN=gA(gN,{name:"MuiInput",slot:"Input",overridesResolver:fN})({}),CN=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiInput"}),{disableUnderline:r=!1,components:i={},componentsProps:o,fullWidth:s=!1,inputComponent:a="input",multiline:l=!1,slotProps:c,slots:u={},type:d="text",...h}=n,f=(e=>{const{classes:t,disableUnderline:n}=e,r=$R({root:["root",!n&&"underline"],input:["input"]},bN,t);return{...t,...r}})(n),p={root:{ownerState:{disableUnderline:r}}},g=c??o?fT(c??o,p):p,m=u.root??i.Root??SN,v=u.input??i.Input??EN;return(0,We.jsx)(yN,{slots:{root:m,input:v},slotProps:g,fullWidth:s,inputComponent:a,multiline:l,ref:t,type:d,...h,classes:f})}));CN.muiName="Input";const xN=CN;function _N(e){return jR("MuiFilledInput",e)}const DN={...uN,...LR("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},TN=gA(pN,{shouldForwardProp:e=>fA(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...hN(e,t),!n.disableUnderline&&t.underline]}})(vA((e=>{let{theme:t}=e;const n="light"===t.palette.mode,r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},[`&.${DN.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},[`&.${DN.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${DN.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${DN.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${DN.disabled}, .${DN.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${DN.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(OI()).map((e=>{let[n]=e;return{props:{disableUnderline:!1,color:n},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n]?.main}`}}}})),{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:12}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:12}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"25px 12px 8px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}}]}}))),kN=gA(gN,{name:"MuiFilledInput",slot:"Input",overridesResolver:fN})(vA((e=>{let{theme:t}=e;return{paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}}))),RN=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:i={},componentsProps:o,fullWidth:s=!1,hiddenLabel:a,inputComponent:l="input",multiline:c=!1,slotProps:u,slots:d={},type:h="text",...f}=n,p={...n,disableUnderline:r,fullWidth:s,inputComponent:l,multiline:c,type:h},g=(e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=e,l=$R({root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd","small"===o&&`size${qR(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},_N,t);return{...t,...l}})(n),m={root:{ownerState:p},input:{ownerState:p}},v=u??o?fT(m,u??o):m,y=d.root??i.Root??TN,b=d.input??i.Input??kN;return(0,We.jsx)(yN,{slots:{root:y,input:b},slotProps:v,fullWidth:s,inputComponent:l,multiline:c,ref:t,type:h,...f,classes:g})}));RN.muiName="Input";const AN=RN;var IN;const NN=gA("fieldset",{shouldForwardProp:fA})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),PN=gA("legend",{shouldForwardProp:fA})(vA((e=>{let{theme:t}=e;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:e=>{let{ownerState:t}=e;return!t.withLabel},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:e=>{let{ownerState:t}=e;return t.withLabel},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:e=>{let{ownerState:t}=e;return t.withLabel&&t.notched},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}})));function MN(e){return jR("MuiOutlinedInput",e)}const ON={...uN,...LR("MuiOutlinedInput",["root","notchedOutline","input"])},jN=gA(pN,{shouldForwardProp:e=>fA(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:hN})(vA((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ON.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ON.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${ON.focused} .${ON.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(OI()).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${ON.focused} .${ON.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}}})),{props:{},style:{[`&.${ON.error} .${ON.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${ON.disabled} .${ON.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:14}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:14}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"16.5px 14px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{padding:"8.5px 14px"}}]}}))),LN=gA((function(e){const{children:t,classes:n,className:r,label:i,notched:o,...s}=e,a=null!=i&&""!==i,l={...e,notched:o,withLabel:a};return(0,We.jsx)(NN,{"aria-hidden":!0,className:r,ownerState:l,...s,children:(0,We.jsx)(PN,{ownerState:l,children:a?(0,We.jsx)("span",{children:i}):IN||(IN=(0,We.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"}))})})}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(vA((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}))),zN=gA(gN,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:fN})(vA((e=>{let{theme:t}=e;return{padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:0}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}}]}}))),BN=i.forwardRef((function(e,t){var n;const r=SA({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:s=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:u,slots:d={},type:h="text",...f}=r,p=(e=>{const{classes:t}=e,n=$R({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},MN,t);return{...t,...n}})(r),g=oN(),m=rN({props:r,muiFormControl:g,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),v={...r,color:m.color||"primary",disabled:m.disabled,error:m.error,focused:m.focused,formControl:g,fullWidth:s,hiddenLabel:m.hiddenLabel,multiline:c,size:m.size,type:h},y=d.root??o.Root??jN,b=d.input??o.Input??zN;return(0,We.jsx)(yN,{slots:{root:y,input:b},renderSuffix:e=>(0,We.jsx)(LN,{ownerState:v,className:p.notchedOutline,label:null!=l&&""!==l&&m.required?n||(n=(0,We.jsxs)(i.Fragment,{children:[l,"\u2009","*"]})):l,notched:"undefined"!==typeof u?u:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:s,inputComponent:a,multiline:c,ref:t,type:h,...f,classes:{...p,notchedOutline:null}})}));BN.muiName="Input";const FN=BN;function UN(e){return jR("MuiFormLabel",e)}const $N=LR("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),HN=gA("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled]}})(vA((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(OI()).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${$N.focused}`]:{color:(t.vars||t).palette[n].main}}}})),{props:{},style:{[`&.${$N.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${$N.error}`]:{color:(t.vars||t).palette.error.main}}}]}}))),VN=gA("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(vA((e=>{let{theme:t}=e;return{[`&.${$N.error}`]:{color:(t.vars||t).palette.error.main}}}))),WN=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiFormLabel"}),{children:r,className:i,color:o,component:s="label",disabled:a,error:l,filled:c,focused:u,required:d,...h}=n,f=rN({props:n,muiFormControl:oN(),states:["color","required","focused","disabled","error","filled"]}),p={...n,color:f.color||"primary",component:s,disabled:f.disabled,error:f.error,filled:f.filled,focused:f.focused,required:f.required},g=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e;return $R({root:["root",`color${qR(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]},UN,t)})(p);return(0,We.jsxs)(HN,{as:s,ownerState:p,className:E_(g.root,i),ref:t,...h,children:[r,f.required&&(0,We.jsxs)(VN,{ownerState:p,"aria-hidden":!0,className:g.asterisk,children:["\u2009","*"]})]})})),qN=WN;function GN(e){return jR("MuiInputLabel",e)}LR("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const QN=gA(qN,{shouldForwardProp:e=>fA(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${$N.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(vA((e=>{let{theme:t}=e;return{display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:e=>{let{ownerState:t}=e;return t.shrink},style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:e=>{let{ownerState:t}=e;return!t.disableAnimation},style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"filled"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:e=>{let{variant:t,ownerState:n,size:r}=e;return"filled"===t&&n.shrink&&"small"===r},style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"outlined"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}}))),YN=i.forwardRef((function(e,t){const n=SA({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:i,shrink:o,variant:s,className:a,...l}=n,c=oN();let u=o;"undefined"===typeof u&&c&&(u=c.filled||c.focused||c.adornedStart);const d=rN({props:n,muiFormControl:c,states:["size","variant","required","focused"]}),h={...n,disableAnimation:r,formControl:c,shrink:u,size:d.size,variant:d.variant,required:d.required,focused:d.focused},f=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=e,l=$R({root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&"medium"!==r&&`size${qR(r)}`,s],asterisk:[a&&"asterisk"]},GN,t);return{...t,...l}})(h);return(0,We.jsx)(QN,{"data-shrink":u,ref:t,className:E_(f.root,a),...l,ownerState:h,classes:f})})),KN=YN;const XN=function(e,t){return i.isValidElement(e)&&-1!==t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)};function ZN(e){return jR("MuiFormControl",e)}LR("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const JN=gA("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${qR(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),eP=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiFormControl"}),{children:r,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:g="medium",variant:m="outlined",...v}=n,y={...n,color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:g,variant:m},b=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return $R({root:["root","none"!==n&&`margin${qR(n)}`,r&&"fullWidth"]},ZN,t)})(y),[w,S]=i.useState((()=>{let e=!1;return r&&i.Children.forEach(r,(t=>{if(!XN(t,["Input","Select"]))return;const n=XN(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[E,C]=i.useState((()=>{let e=!1;return r&&i.Children.forEach(r,(t=>{XN(t,["Input","Select"])&&(lN(t.props,!0)||lN(t.props.inputProps,!0))&&(e=!0)})),e})),[x,_]=i.useState(!1);l&&x&&_(!1);const D=void 0===u||l?x:u;let T;i.useRef(!1);const k=i.useCallback((()=>{C(!0)}),[]),R=i.useCallback((()=>{C(!1)}),[]),A=i.useMemo((()=>({adornedStart:w,setAdornedStart:S,color:s,disabled:l,error:c,filled:E,focused:D,fullWidth:d,hiddenLabel:h,size:g,onBlur:()=>{_(!1)},onFocus:()=>{_(!0)},onEmpty:R,onFilled:k,registerEffect:T,required:p,variant:m})),[w,s,l,c,E,D,d,h,T,R,k,p,g,m]);return(0,We.jsx)(iN.Provider,{value:A,children:(0,We.jsx)(JN,{as:a,ownerState:y,className:E_(b.root,o),ref:t,...v,children:r})})})),tP=eP;function nP(e){return jR("MuiFormHelperText",e)}const rP=LR("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var iP;const oP=gA("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${qR(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(vA((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${rP.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${rP.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:e=>{let{ownerState:t}=e;return t.contained},style:{marginLeft:14,marginRight:14}}]}}))),sP=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:o="p",disabled:s,error:a,filled:l,focused:c,margin:u,required:d,variant:h,...f}=n,p=rN({props:n,muiFormControl:oN(),states:["variant","size","disabled","error","filled","focused","required"]}),g={...n,component:o,contained:"filled"===p.variant||"outlined"===p.variant,variant:p.variant,size:p.size,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required};delete g.ownerState;const m=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=e;return $R({root:["root",i&&"disabled",o&&"error",r&&`size${qR(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]},nP,t)})(g);return(0,We.jsx)(oP,{as:o,className:E_(m.root,i),ref:t,...f,ownerState:g,children:" "===r?iP||(iP=(0,We.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):r})})),aP=YR,lP=i.createContext();const cP=function(e){const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=e,s=i?{}:xA(n,r),{props:a,internalRef:l}=TA({...o,externalSlotProps:s}),c=GR(l,s?.ref,e.additionalProps?.ref);return CA(t,{...a,ref:c},r)};const uP=i.createContext({});function dP(e){return jR("MuiList",e)}LR("MuiList",["root","padding","dense","subheader"]);const hP=gA("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return t.subheader},style:{paddingTop:0}}]}),fP=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiList"}),{children:r,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c,...u}=n,d=i.useMemo((()=>({dense:a})),[a]),h={...n,component:s,dense:a,disablePadding:l},f=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return $R({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},dP,t)})(h);return(0,We.jsx)(uP.Provider,{value:d,children:(0,We.jsxs)(hP,{as:s,className:E_(f.root,o),ref:t,ownerState:h,...u,children:[c,r]})})})),pP=tI,gP=eI;function mP(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function vP(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function yP(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join("")))}function bP(e,t,n,r,i,o){let s=!1,a=i(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&yP(a,o)&&!t)return a.focus(),!0;a=i(e,a,n)}return!1}const wP=i.forwardRef((function(e,t){const{actions:n,autoFocus:r=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu",...h}=e,f=i.useRef(null),p=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});sN((()=>{r&&f.current.focus()}),[r]),i.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!f.current.style.width;if(e.clientHeight<f.current.clientHeight&&r){const t=`${pP(gP(e))}px`;f.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,f.current.style.width=`calc(100% + ${t})`}return f.current}})),[]);const g=WA(f,t);let m=-1;i.Children.forEach(s,((e,t)=>{i.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===m)&&(m=t),m===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(m+=1,m>=s.length&&(m=-1))):m===t&&(m+=1,m>=s.length&&(m=-1))}));const v=i.Children.map(s,((e,t)=>{if(t===m){const t={};return o&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(t.tabIndex=0),i.cloneElement(e,t)}return e}));return(0,We.jsx)(fP,{role:"menu",ref:g,className:a,onKeyDown:e=>{const t=f.current,n=e.key;if(e.ctrlKey||e.metaKey||e.altKey)return void(u&&u(e));const r=aP(t).activeElement;if("ArrowDown"===n)e.preventDefault(),bP(t,r,c,l,mP);else if("ArrowUp"===n)e.preventDefault(),bP(t,r,c,l,vP);else if("Home"===n)e.preventDefault(),bP(t,null,c,l,mP);else if("End"===n)e.preventDefault(),bP(t,null,c,l,vP);else if(1===n.length){const i=p.current,o=n.toLowerCase(),s=performance.now();i.keys.length>0&&(s-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=s,i.keys.push(o);const a=r&&!i.repeating&&yP(r,i);i.previousKeyMatched&&(a||bP(t,r,!1,l,mP,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:r?0:-1,...h,children:v})})),SP=wP,EP=KI,CP={};function xP(e,t){const n=i.useRef(CP);return n.current===CP&&(n.current=e(t)),n}const _P=[];class DP{static create(){return new DP}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function TP(){const e=xP(DP.create).current;return function(e){i.useEffect(e,_P)}(e.disposeEffect),e}function kP(e){return`scale(${e}, ${e**2})`}const RP={entering:{opacity:1,transform:kP(1)},entered:{opacity:1,transform:"none"}},AP="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),IP=i.forwardRef((function(e,t){const{addEndListener:n,appear:r=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:f,style:p,timeout:g="auto",TransitionComponent:m=UA,...v}=e,y=TP(),b=i.useRef(),w=$A(),S=i.useRef(null),E=WA(S,QR(o),t),C=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},x=C(u),_=C(((e,t)=>{HA(e);const{duration:n,delay:r,easing:i}=VA({style:p,timeout:g,easing:s},{mode:"enter"});let o;"auto"===g?(o=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=n,e.style.transition=[w.transitions.create("opacity",{duration:o,delay:r}),w.transitions.create("transform",{duration:AP?o:.666*o,delay:r,easing:i})].join(","),l&&l(e,t)})),D=C(c),T=C(f),k=C((e=>{const{duration:t,delay:n,easing:r}=VA({style:p,timeout:g,easing:s},{mode:"exit"});let i;"auto"===g?(i=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=i):i=t,e.style.transition=[w.transitions.create("opacity",{duration:i,delay:n}),w.transitions.create("transform",{duration:AP?i:.666*i,delay:AP?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=kP(.75),d&&d(e)})),R=C(h);return(0,We.jsx)(m,{appear:r,in:a,nodeRef:S,onEnter:_,onEntered:D,onEntering:x,onExit:k,onExited:R,onExiting:T,addEndListener:e=>{"auto"===g&&y.start(b.current||0,e),n&&n(S.current,e)},timeout:"auto"===g?null:g,...v,children:(e,t)=>{let{ownerState:n,...r}=t;return i.cloneElement(o,{style:{opacity:0,transform:kP(.75),visibility:"exited"!==e||a?void 0:"hidden",...RP[e],...p,...o.props.style},ref:E,...r})}})}));IP&&(IP.muiSupportAuto=!0);const NP=IP;function PP(e){return jR("MuiPopover",e)}LR("MuiPopover",["root","paper"]);function MP(e,t){if(!e)return t;function n(e,t){const n={};return Object.keys(t).forEach((r=>{(function(e,t){const n=e.charCodeAt(2);return"o"===e[0]&&"n"===e[1]&&n>=65&&n<=90&&"function"===typeof t})(r,t[r])&&"function"===typeof e[r]&&(n[r]=function(){e[r](...arguments),t[r](...arguments)})})),n}if("function"===typeof e||"function"===typeof t)return r=>{const i="function"===typeof t?t(r):t,o="function"===typeof e?e({...r,...i}):e,s=E_(r?.className,i?.className,o?.className),a=n(o,i);return{...i,...o,...a,...!!s&&{className:s},...i?.style&&o?.style&&{style:{...i.style,...o.style}},...i?.sx&&o?.sx&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}};const r=t,i=n(e,r),o=E_(r?.className,e?.className);return{...t,...e,...i,...!!o&&{className:o},...r?.style&&e?.style&&{style:{...r.style,...e.style}},...r?.sx&&e?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function OP(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function jP(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function LP(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?`${e}px`:e)).join(" ")}function zP(e){return"function"===typeof e?e():e}const BP=gA(pI,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),FP=gA(yI,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),UP=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiPopover"}),{action:r,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:u,container:d,elevation:h=8,marginThreshold:f=16,open:p,PaperProps:g={},slots:m={},slotProps:v={},transformOrigin:y={vertical:"top",horizontal:"left"},TransitionComponent:b,transitionDuration:w="auto",TransitionProps:S={},disableScrollLock:E=!1,...C}=n,x=i.useRef(),_={...n,anchorOrigin:s,anchorReference:l,elevation:h,marginThreshold:f,transformOrigin:y,TransitionComponent:b,transitionDuration:w,TransitionProps:S},D=(e=>{const{classes:t}=e;return $R({root:["root"],paper:["paper"]},PP,t)})(_),T=i.useCallback((()=>{if("anchorPosition"===l)return a;const e=zP(o),t=(e&&1===e.nodeType?e:aP(x.current).body).getBoundingClientRect();return{top:t.top+OP(t,s.vertical),left:t.left+jP(t,s.horizontal)}}),[o,s.horizontal,s.vertical,a,l]),k=i.useCallback((e=>({vertical:OP(e,y.vertical),horizontal:jP(e,y.horizontal)})),[y.horizontal,y.vertical]),R=i.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=k(t);if("none"===l)return{top:null,left:null,transformOrigin:LP(n)};const r=T();let i=r.top-n.vertical,s=r.left-n.horizontal;const a=i+t.height,c=s+t.width,u=gP(zP(o)),d=u.innerHeight-f,h=u.innerWidth-f;if(null!==f&&i<f){const e=i-f;i-=e,n.vertical+=e}else if(null!==f&&a>d){const e=a-d;i-=e,n.vertical+=e}if(null!==f&&s<f){const e=s-f;s-=e,n.horizontal+=e}else if(c>h){const e=c-h;s-=e,n.horizontal+=e}return{top:`${Math.round(i)}px`,left:`${Math.round(s)}px`,transformOrigin:LP(n)}}),[o,l,T,k,f]),[A,I]=i.useState(p),N=i.useCallback((()=>{const e=x.current;if(!e)return;const t=R(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,I(!0)}),[R]);i.useEffect((()=>(E&&window.addEventListener("scroll",N),()=>window.removeEventListener("scroll",N))),[o,E,N]);i.useEffect((()=>{p&&N()})),i.useImperativeHandle(r,(()=>p?{updatePosition:()=>{N()}}:null),[p,N]),i.useEffect((()=>{if(!p)return;const e=EP((()=>{N()})),t=gP(zP(o));return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[o,p,N]);let P=w;const M={slots:{transition:b,...m},slotProps:{transition:S,paper:g,...v}},[O,j]=kA("transition",{elementType:NP,externalForwardedProps:M,ownerState:_,getSlotProps:e=>({...e,onEntering:(t,n)=>{e.onEntering?.(t,n),N()},onExited:t=>{e.onExited?.(t),I(!1)}}),additionalProps:{appear:!0,in:p}});"auto"!==w||O.muiSupportAuto||(P=void 0);const L=d||(o?aP(zP(o)).body:void 0),[z,{slots:B,slotProps:F,...U}]=kA("root",{ref:t,elementType:BP,externalForwardedProps:{...M,...C},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:m.backdrop},slotProps:{backdrop:MP("function"===typeof v.backdrop?v.backdrop(_):v.backdrop,{invisible:!0})},container:L,open:p},ownerState:_,className:E_(D.root,u)}),[$,H]=kA("paper",{ref:x,className:D.paper,elementType:FP,externalForwardedProps:M,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:A?void 0:{opacity:0}},ownerState:_});return(0,We.jsx)(z,{...U,...!nN(z)&&{slots:B,slotProps:F,disableScrollLock:E},children:(0,We.jsx)(O,{...j,timeout:P,children:(0,We.jsx)($,{...H,children:c})})})}));function $P(e){return jR("MuiMenu",e)}LR("MuiMenu",["root","paper","list"]);const HP={vertical:"top",horizontal:"right"},VP={vertical:"top",horizontal:"left"},WP=gA(UP,{shouldForwardProp:e=>fA(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),qP=gA(FP,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),GP=gA(SP,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),QP=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiMenu"}),{autoFocus:r=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:d={},PopoverClasses:h,transitionDuration:f="auto",TransitionProps:{onEntering:p,...g}={},variant:m="selectedMenu",slots:v={},slotProps:y={},...b}=n,w=i.useContext(lP)??!1,S={...n,autoFocus:r,disableAutoFocusItem:a,MenuListProps:l,onEntering:p,PaperProps:d,transitionDuration:f,TransitionProps:g,variant:m},E=(e=>{const{classes:t}=e;return $R({root:["root"],paper:["paper"],list:["list"]},$P,t)})(S),C=r&&!a&&u,x=i.useRef(null);let _=-1;i.Children.map(o,((e,t)=>{i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===m&&e.props.selected||-1===_)&&(_=t))}));const D={slots:v,slotProps:{list:l,transition:g,paper:d,...y}},T=cP({elementType:v.root,externalSlotProps:y.root,ownerState:S,className:[E.root,s]}),[k,R]=kA("paper",{className:E.paper,elementType:qP,externalForwardedProps:D,shouldForwardComponentProp:!0,ownerState:S}),[A,I]=kA("list",{className:E_(E.list,l.className),elementType:GP,shouldForwardComponentProp:!0,externalForwardedProps:D,getSlotProps:e=>({...e,onKeyDown:t=>{(e=>{"Tab"===e.key&&(e.preventDefault(),c&&c(e,"tabKeyDown"))})(t),e.onKeyDown?.(t)}}),ownerState:S}),N="function"===typeof D.slotProps.transition?D.slotProps.transition(S):D.slotProps.transition;return(0,We.jsx)(WP,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:w?"right":"left"},transformOrigin:w?HP:VP,slots:{root:v.root,paper:k,backdrop:v.backdrop,...v.transition&&{transition:v.transition}},slotProps:{root:T,paper:R,backdrop:"function"===typeof y.backdrop?y.backdrop(S):y.backdrop,transition:{...N,onEntering:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];((e,t)=>{x.current&&x.current.adjustStyleForScrollbar(e,{direction:w?"rtl":"ltr"}),p&&p(e,t)})(...t),N?.onEntering?.(...t)}}},open:u,ref:t,transitionDuration:f,ownerState:S,...b,classes:h,children:(0,We.jsx)(A,{actions:x,autoFocus:r&&(-1===_||a),autoFocusItem:C,variant:m,...I,children:o})})})),YP=QP;function KP(e){return jR("MuiNativeSelect",e)}const XP=LR("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ZP=gA("select")((e=>{let{theme:t}=e;return{MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${XP.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:e=>{let{ownerState:t}=e;return"filled"!==t.variant&&"outlined"!==t.variant},style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]}})),JP=gA(ZP,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:fA,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${XP.multiple}`]:t.multiple}]}})({}),eM=gA("svg")((e=>{let{theme:t}=e;return{position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${XP.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:e=>{let{ownerState:t}=e;return t.open},style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]}})),tM=gA(eM,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${qR(n.variant)}`],n.open&&t.iconOpen]}})({}),nM=i.forwardRef((function(e,t){const{className:n,disabled:r,error:o,IconComponent:s,inputRef:a,variant:l="standard",...c}=e,u={...e,disabled:r,variant:l,error:o},d=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e;return $R({select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${qR(n)}`,o&&"iconOpen",r&&"disabled"]},KP,t)})(u);return(0,We.jsxs)(i.Fragment,{children:[(0,We.jsx)(JP,{ownerState:u,className:E_(d.select,n),disabled:r,ref:a||t,...c}),e.multiple?null:(0,We.jsx)(tM,{as:s,ownerState:u,className:d.icon})]})})),rM=nM;const iM=function(e){let{controlled:t,default:n,name:r,state:o="value"}=e;const{current:s}=i.useRef(void 0!==t),[a,l]=i.useState(n);return[s?t:a,i.useCallback((e=>{s||l(e)}),[])]};function oM(e){return jR("MuiSelect",e)}const sM=LR("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var aM;const lM=gA(ZP,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${sM.select}`]:t.select},{[`&.${sM.select}`]:t[n.variant]},{[`&.${sM.error}`]:t.error},{[`&.${sM.multiple}`]:t.multiple}]}})({[`&.${sM.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),cM=gA(eM,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${qR(n.variant)}`],n.open&&t.iconOpen]}})({}),uM=gA("input",{shouldForwardProp:e=>hA(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function dM(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function hM(e){return null==e||"string"===typeof e&&!e.trim()}const fM=i.forwardRef((function(e,t){const{"aria-describedby":n,"aria-label":r,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:c,defaultValue:u,disabled:d,displayEmpty:h,error:f=!1,IconComponent:p,inputRef:g,labelId:m,MenuProps:v={},multiple:y,name:b,onBlur:w,onChange:S,onClose:E,onFocus:C,onOpen:x,open:_,readOnly:D,renderValue:T,required:k,SelectDisplayProps:R={},tabIndex:A,type:I,value:N,variant:P="standard",...M}=e,[O,j]=iM({controlled:N,default:u,name:"Select"}),[L,z]=iM({controlled:_,default:c,name:"Select"}),B=i.useRef(null),F=i.useRef(null),[U,$]=i.useState(null),{current:H}=i.useRef(null!=_),[V,W]=i.useState(),q=WA(t,g),G=i.useCallback((e=>{F.current=e,e&&$(e)}),[]),Q=U?.parentNode;i.useImperativeHandle(q,(()=>({focus:()=>{F.current.focus()},node:B.current,value:O})),[O]),i.useEffect((()=>{c&&L&&U&&!H&&(W(s?null:Q.clientWidth),F.current.focus())}),[U,s]),i.useEffect((()=>{o&&F.current.focus()}),[o]),i.useEffect((()=>{if(!m)return;const e=aP(F.current).getElementById(m);if(e){const t=()=>{getSelection().isCollapsed&&F.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[m]);const Y=(e,t)=>{e?x&&x(t):E&&E(t),H||(W(s?null:Q.clientWidth),z(e))},K=i.Children.toArray(a),X=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(y){n=Array.isArray(O)?O.slice():[];const t=O.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),O!==n&&(j(n),S)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:b}}),S(i,e)}y||Y(!1,t)}},Z=null!==U&&L;let J,ee;delete M["aria-invalid"];const te=[];let ne=!1,re=!1;(lN({value:O})||h)&&(T?J=T(O):ne=!0);const ie=K.map((e=>{if(!i.isValidElement(e))return null;let t;if(y){if(!Array.isArray(O))throw new Error(lT(2));t=O.some((t=>dM(t,e.props.value))),t&&ne&&te.push(e.props.children)}else t=dM(O,e.props.value),t&&ne&&(ee=e.props.children);return t&&(re=!0),i.cloneElement(e,{"aria-selected":t?"true":"false",onClick:X(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ne&&(J=y?0===te.length?null:te.reduce(((e,t,n)=>(e.push(t),n<te.length-1&&e.push(", "),e)),[]):ee);let oe,se=V;!s&&H&&U&&(se=Q.clientWidth),oe="undefined"!==typeof A?A:d?null:0;const ae=R.id||(b?`mui-component-select-${b}`:void 0),le={...e,variant:P,value:O,open:Z,error:f},ce=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e;return $R({select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${qR(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},oM,t)})(le),ue={...v.PaperProps,...v.slotProps?.paper},de=WR();return(0,We.jsxs)(i.Fragment,{children:[(0,We.jsx)(lM,{as:"div",ref:G,tabIndex:oe,role:"combobox","aria-controls":Z?de:void 0,"aria-disabled":d?"true":void 0,"aria-expanded":Z?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[m,ae].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":k?"true":void 0,"aria-invalid":f?"true":void 0,onKeyDown:e=>{if(!D){[" ","ArrowUp","ArrowDown","Enter"].includes(e.key)&&(e.preventDefault(),Y(!0,e))}},onMouseDown:d||D?null:e=>{0===e.button&&(e.preventDefault(),F.current.focus(),Y(!0,e))},onBlur:e=>{!Z&&w&&(Object.defineProperty(e,"target",{writable:!0,value:{value:O,name:b}}),w(e))},onFocus:C,...R,ownerState:le,className:E_(R.className,ce.select,l),id:ae,children:hM(J)?aM||(aM=(0,We.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):J}),(0,We.jsx)(uM,{"aria-invalid":f,value:Array.isArray(O)?O.join(","):O,name:b,ref:B,"aria-hidden":!0,onChange:e=>{const t=K.find((t=>t.props.value===e.target.value));void 0!==t&&(j(t.props.value),S&&S(e,t))},tabIndex:-1,disabled:d,className:ce.nativeInput,autoFocus:o,required:k,...M,ownerState:le}),(0,We.jsx)(cM,{as:p,className:ce.icon,ownerState:le}),(0,We.jsx)(YP,{id:`menu-${b||""}`,anchorEl:Q,open:Z,onClose:e=>{Y(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...v,slotProps:{...v.slotProps,list:{"aria-labelledby":m,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:de,...v.MenuListProps},paper:{...ue,style:{minWidth:se,...null!=ue?ue.style:null}}},children:ie})]})})),pM=fM;function gM(e){return jR("MuiSvgIcon",e)}LR("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const mM=gA("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${qR(n.color)}`],t[`fontSize${qR(n.fontSize)}`]]}})(vA((e=>{let{theme:t}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter((e=>{let[,t]=e;return t&&t.main})).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars??t).palette?.[n]?.main}}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}}))),vM=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiSvgIcon"}),{children:r,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24",...f}=n,p=i.isValidElement(r)&&"svg"===r.type,g={...n,color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:p},m={};u||(m.viewBox=h);const v=(e=>{const{color:t,fontSize:n,classes:r}=e;return $R({root:["root","inherit"!==t&&`color${qR(t)}`,`fontSize${qR(n)}`]},gM,r)})(g);return(0,We.jsxs)(mM,{as:a,className:E_(v.root,o),focusable:"false",color:c,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:t,...m,...f,...p&&r.props,ownerState:g,children:[p?r.props.children:r,d?(0,We.jsx)("title",{children:d}):null]})}));vM.muiName="SvgIcon";const yM=vM;function bM(e,t){function n(t,n){return(0,We.jsx)(yM,{"data-testid":void 0,ref:n,...t,children:e})}return n.muiName=yM.muiName,i.memo(i.forwardRef(n))}const wM=bM((0,We.jsx)("path",{d:"M7 10l5 5 5-5z"})),SM={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>fA(e)&&"variant"!==e,slot:"Root"},EM=gA(xN,SM)(""),CM=gA(FN,SM)(""),xM=gA(AN,SM)(""),_M=i.forwardRef((function(e,t){const n=SA({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=wM,id:d,input:h,inputProps:f,label:p,labelId:g,MenuProps:m,multiple:v=!1,native:y=!1,onClose:b,onOpen:w,open:S,renderValue:E,SelectDisplayProps:C,variant:x="outlined",..._}=n,D=y?rM:pM,T=rN({props:n,muiFormControl:oN(),states:["variant","error"]}),k=T.variant||x,R={...n,variant:k,classes:s},A=(e=>{const{classes:t}=e,n=$R({root:["root"]},oM,t);return{...t,...n}})(R),{root:I,...N}=A,P=h||{standard:(0,We.jsx)(EM,{ownerState:R}),outlined:(0,We.jsx)(CM,{label:p,ownerState:R}),filled:(0,We.jsx)(xM,{ownerState:R})}[k],M=WA(t,QR(P));return(0,We.jsx)(i.Fragment,{children:i.cloneElement(P,{inputComponent:D,inputProps:{children:o,error:T.error,IconComponent:u,variant:k,type:void 0,multiple:v,...y?{id:d}:{autoWidth:r,defaultOpen:l,displayEmpty:c,labelId:g,MenuProps:m,onClose:b,onOpen:w,open:S,renderValue:E,SelectDisplayProps:{id:d,...C}},...f,classes:f?fT(N,f.classes):N,...h?h.props.inputProps:{}},...(v&&y||c)&&"outlined"===k?{notched:!0}:{},ref:M,className:E_(P.props.className,a,A.root),...!h&&{variant:k},..._})})}));_M.muiName="Select";const DM=_M;function TM(e){return jR("MuiTextField",e)}LR("MuiTextField",["root"]);const kM={standard:xN,filled:AN,outlined:FN},RM=gA(tP,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),AM=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:o,className:s,color:a="primary",defaultValue:l,disabled:c=!1,error:u=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:f,id:p,InputLabelProps:g,inputProps:m,InputProps:v,inputRef:y,label:b,maxRows:w,minRows:S,multiline:E=!1,name:C,onBlur:x,onChange:_,onFocus:D,placeholder:T,required:k=!1,rows:R,select:A=!1,SelectProps:I,slots:N={},slotProps:P={},type:M,value:O,variant:j="outlined",...L}=n,z={...n,autoFocus:i,color:a,disabled:c,error:u,fullWidth:h,multiline:E,required:k,select:A,variant:j},B=(e=>{const{classes:t}=e;return $R({root:["root"]},TM,t)})(z);const F=WR(p),U=f&&F?`${F}-helper-text`:void 0,$=b&&F?`${F}-label`:void 0,H=kM[j],V={slots:N,slotProps:{input:v,inputLabel:g,htmlInput:m,formHelperText:d,select:I,...P}},W={},q=V.slotProps.inputLabel;"outlined"===j&&(q&&"undefined"!==typeof q.shrink&&(W.notched=q.shrink),W.label=b),A&&(I&&I.native||(W.id=void 0),W["aria-describedby"]=void 0);const[G,Q]=kA("root",{elementType:RM,shouldForwardComponentProp:!0,externalForwardedProps:{...V,...L},ownerState:z,className:E_(B.root,s),ref:t,additionalProps:{disabled:c,error:u,fullWidth:h,required:k,color:a,variant:j}}),[Y,K]=kA("input",{elementType:H,externalForwardedProps:V,additionalProps:W,ownerState:z}),[X,Z]=kA("inputLabel",{elementType:KN,externalForwardedProps:V,ownerState:z}),[J,ee]=kA("htmlInput",{elementType:"input",externalForwardedProps:V,ownerState:z}),[te,ne]=kA("formHelperText",{elementType:sP,externalForwardedProps:V,ownerState:z}),[re,ie]=kA("select",{elementType:DM,externalForwardedProps:V,ownerState:z}),oe=(0,We.jsx)(Y,{"aria-describedby":U,autoComplete:r,autoFocus:i,defaultValue:l,fullWidth:h,multiline:E,name:C,rows:R,maxRows:w,minRows:S,type:M,value:O,id:F,inputRef:y,onBlur:x,onChange:_,onFocus:D,placeholder:T,inputProps:ee,slots:{input:N.htmlInput?J:void 0},...K});return(0,We.jsxs)(G,{...Q,children:[null!=b&&""!==b&&(0,We.jsx)(X,{htmlFor:F,id:$,...Z,children:b}),A?(0,We.jsx)(re,{"aria-describedby":U,id:F,labelId:$,value:O,input:oe,...ie,children:o}):oe,f&&(0,We.jsx)(te,{id:U,...ne,children:f})]})})),IM=AM;function NM(e){return jR("MuiFormControlLabel",e)}const PM=LR("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),MM=gA("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${PM.label}`]:t.label},t.root,t[`labelPlacement${qR(n.labelPlacement)}`]]}})(vA((e=>{let{theme:t}=e;return{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${PM.disabled}`]:{cursor:"default"},[`& .${PM.label}`]:{[`&.${PM.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:e=>{let{labelPlacement:t}=e;return"start"===t||"top"===t||"bottom"===t},style:{marginLeft:16}}]}}))),OM=gA("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(vA((e=>{let{theme:t}=e;return{[`&.${PM.error}`]:{color:(t.vars||t).palette.error.main}}}))),jM=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiFormControlLabel"}),{checked:r,className:o,componentsProps:s={},control:a,disabled:l,disableTypography:c,inputRef:u,label:d,labelPlacement:h="end",name:f,onChange:p,required:g,slots:m={},slotProps:v={},value:y,...b}=n,w=oN(),S=l??a.props.disabled??w?.disabled,E=g??a.props.required,C={disabled:S,required:E};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof a.props[e]&&"undefined"!==typeof n[e]&&(C[e]=n[e])}));const x=rN({props:n,muiFormControl:w,states:["error"]}),_={...n,disabled:S,labelPlacement:h,required:E,error:x.error},D=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:o}=e;return $R({root:["root",n&&"disabled",`labelPlacement${qR(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]},NM,t)})(_),T={slots:m,slotProps:{...s,...v}},[k,R]=kA("typography",{elementType:$I,externalForwardedProps:T,ownerState:_});let A=d;return null==A||A.type===$I||c||(A=(0,We.jsx)(k,{component:"span",...R,className:E_(D.label,R?.className),children:A})),(0,We.jsxs)(MM,{className:E_(D.root,o),ownerState:_,ref:t,...b,children:[i.cloneElement(a,C),E?(0,We.jsxs)("div",{children:[A,(0,We.jsxs)(OM,{ownerState:_,"aria-hidden":!0,className:D.asterisk,children:["\u2009","*"]})]}):A]})}));function LM(e){try{return e.matches(":focus-visible")}catch(t){0}return!1}const zM=ZA;class BM{static create(){return new BM}static use(){const e=xP(BM.create).current,[t,n]=i.useState(!1);return e.shouldMount=t,e.setShouldMount=n,i.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())};start(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.start(...t)))}stop(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.stop(...t)))}pulsate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.pulsate(...t)))}}function FM(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function UM(e,t,n){return null!=n[t]?n[t]:e.props[t]}function $M(e,t,n){var r=FM(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(t,r);return Object.keys(o).forEach((function(s){var a=o[s];if((0,i.isValidElement)(a)){var l=s in t,c=s in r,u=t[s],d=(0,i.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,i.isValidElement)(u)&&(o[s]=(0,i.cloneElement)(a,{onExited:n.bind(null,a),in:u.props.in,exit:UM(a,"exit",e),enter:UM(a,"enter",e)})):o[s]=(0,i.cloneElement)(a,{in:!1}):o[s]=(0,i.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:UM(a,"exit",e),enter:UM(a,"enter",e)})}})),o}var HM=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},VM=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}IA(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,s=t.handleExited;return{children:t.firstRender?(n=e,r=s,FM(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:UM(e,"appear",n),enter:UM(e,"enter",n),exit:UM(e,"exit",n)})}))):$M(e,o,s),firstRender:!1}},n.handleExited=function(e,t){var n=FM(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=C_({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=RA(e,["component","childFactory"]),o=this.state.contextValue,s=HM(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(PA.Provider,{value:o},s):i.createElement(PA.Provider,{value:o},i.createElement(t,r,s))},t}(i.Component);VM.propTypes={},VM.defaultProps={component:"div",childFactory:function(e){return e}};const WM=VM;const qM=function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=e,[d,h]=i.useState(!1),f=E_(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:a,height:a,top:-a/2+s,left:-a/2+o},g=E_(n.child,d&&n.childLeaving,r&&n.childPulsate);return l||d||h(!0),i.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,We.jsx)("span",{className:f,style:p,children:(0,We.jsx)("span",{className:g})})};const GM=LR("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),QM=II`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,YM=II`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,KM=II`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,XM=gA("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),ZM=gA(qM,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${GM.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${QM};
    animation-duration: ${550}ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
  }

  &.${GM.ripplePulsate} {
    animation-duration: ${e=>{let{theme:t}=e;return t.transitions.duration.shorter}}ms;
  }

  & .${GM.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${GM.childLeaving} {
    opacity: 0;
    animation-name: ${YM};
    animation-duration: ${550}ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
  }

  & .${GM.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${KM};
    animation-duration: 2500ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,JM=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:o={},className:s,...a}=n,[l,c]=i.useState([]),u=i.useRef(0),d=i.useRef(null);i.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const h=i.useRef(!1),f=TP(),p=i.useRef(null),g=i.useRef(null),m=i.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:s}=e;c((e=>[...e,(0,We.jsx)(ZM,{classes:{ripple:E_(o.ripple,GM.ripple),rippleVisible:E_(o.rippleVisible,GM.rippleVisible),ripplePulsate:E_(o.ripplePulsate,GM.ripplePulsate),child:E_(o.child,GM.child),childLeaving:E_(o.childLeaving,GM.childLeaving),childPulsate:E_(o.childPulsate,GM.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},u.current)])),u.current+=1,d.current=s}),[o]),v=i.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:i=!1,center:o=r||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===e?.type&&h.current)return void(h.current=!1);"touchstart"===e?.type&&(h.current=!0);const a=s?null:g.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}e?.touches?null===p.current&&(p.current=()=>{m({pulsate:i,rippleX:c,rippleY:u,rippleSize:d,cb:n})},f.start(80,(()=>{p.current&&(p.current(),p.current=null)}))):m({pulsate:i,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[r,m,f]),y=i.useCallback((()=>{v({},{pulsate:!0})}),[v]),b=i.useCallback(((e,t)=>{if(f.clear(),"touchend"===e?.type&&p.current)return p.current(),p.current=null,void f.start(0,(()=>{b(e,t)}));p.current=null,c((e=>e.length>0?e.slice(1):e)),d.current=t}),[f]);return i.useImperativeHandle(t,(()=>({pulsate:y,start:v,stop:b})),[y,v,b]),(0,We.jsx)(XM,{className:E_(GM.root,o.root,s),ref:g,...a,children:(0,We.jsx)(WM,{component:null,exit:!0,children:l})})}));function eO(e){return jR("MuiButtonBase",e)}const tO=LR("MuiButtonBase",["root","disabled","focusVisible"]),nO=gA("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${tO.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}});function rO(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return zM((i=>(n&&n(i),r||e[t](i),!0)))}const iO=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,focusVisibleClassName:f,LinkComponent:p="a",onBlur:g,onClick:m,onContextMenu:v,onDragLeave:y,onFocus:b,onFocusVisible:w,onKeyDown:S,onKeyUp:E,onMouseDown:C,onMouseLeave:x,onMouseUp:_,onTouchEnd:D,onTouchMove:T,onTouchStart:k,tabIndex:R=0,TouchRippleProps:A,touchRippleRef:I,type:N,...P}=n,M=i.useRef(null),O=BM.use(),j=WA(O.ref,I),[L,z]=i.useState(!1);c&&L&&z(!1),i.useImperativeHandle(r,(()=>({focusVisible:()=>{z(!0),M.current.focus()}})),[]);const B=O.shouldMount&&!u&&!c;i.useEffect((()=>{L&&h&&!u&&O.pulsate()}),[u,h,L,O]);const F=rO(O,"start",C,d),U=rO(O,"stop",v,d),$=rO(O,"stop",y,d),H=rO(O,"stop",_,d),V=rO(O,"stop",(e=>{L&&e.preventDefault(),x&&x(e)}),d),W=rO(O,"start",k,d),q=rO(O,"stop",D,d),G=rO(O,"stop",T,d),Q=rO(O,"stop",(e=>{LM(e.target)||z(!1),g&&g(e)}),!1),Y=zM((e=>{M.current||(M.current=e.currentTarget),LM(e.target)&&(z(!0),w&&w(e)),b&&b(e)})),K=()=>{const e=M.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},X=zM((e=>{h&&!e.repeat&&L&&" "===e.key&&O.stop(e,(()=>{O.start(e)})),e.target===e.currentTarget&&K()&&" "===e.key&&e.preventDefault(),S&&S(e),e.target===e.currentTarget&&K()&&"Enter"===e.key&&!c&&(e.preventDefault(),m&&m(e))})),Z=zM((e=>{h&&" "===e.key&&L&&!e.defaultPrevented&&O.stop(e,(()=>{O.pulsate(e)})),E&&E(e),m&&e.target===e.currentTarget&&K()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let J=l;"button"===J&&(P.href||P.to)&&(J=p);const ee={};"button"===J?(ee.type=void 0===N?"button":N,ee.disabled=c):(P.href||P.to||(ee.role="button"),c&&(ee["aria-disabled"]=c));const te=WA(t,M),ne={...n,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:R,focusVisible:L},re=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=$R({root:["root",t&&"disabled",n&&"focusVisible"]},eO,i);return n&&r&&(o.root+=` ${r}`),o})(ne);return(0,We.jsxs)(nO,{as:J,className:E_(re.root,a),ownerState:ne,onBlur:Q,onClick:m,onContextMenu:U,onFocus:Y,onKeyDown:X,onKeyUp:Z,onMouseDown:F,onMouseLeave:V,onMouseUp:H,onDragLeave:$,onTouchEnd:q,onTouchMove:G,onTouchStart:W,ref:te,tabIndex:c?-1:R,type:N,...ee,...P,children:[s,B?(0,We.jsx)(JM,{ref:j,center:o,...A}):null]})}));function oO(e){return jR("PrivateSwitchBase",e)}LR("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const sO=gA(iO)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:e=>{let{edge:t,ownerState:n}=e;return"start"===t&&"small"!==n.size},style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:e=>{let{edge:t,ownerState:n}=e;return"end"===t&&"small"!==n.size},style:{marginRight:-12}}]}),aO=gA("input",{shouldForwardProp:fA})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),lO=i.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:i,defaultChecked:o,disabled:s,disableFocusRipple:a=!1,edge:l=!1,icon:c,id:u,inputProps:d,inputRef:h,name:f,onBlur:p,onChange:g,onFocus:m,readOnly:v,required:y=!1,tabIndex:b,type:w,value:S,slots:E={},slotProps:C={},...x}=e,[_,D]=iM({controlled:r,default:Boolean(o),name:"SwitchBase",state:"checked"}),T=oN();let k=s;T&&"undefined"===typeof k&&(k=T.disabled);const R="checkbox"===w||"radio"===w,A={...e,checked:_,disabled:k,disableFocusRipple:a,edge:l},I=(e=>{const{classes:t,checked:n,disabled:r,edge:i}=e;return $R({root:["root",n&&"checked",r&&"disabled",i&&`edge${qR(i)}`],input:["input"]},oO,t)})(A),N={slots:E,slotProps:{input:d,...C}},[P,M]=kA("root",{ref:t,elementType:sO,className:I.root,shouldForwardComponentProp:!0,externalForwardedProps:{...N,component:"span",...x},getSlotProps:e=>({...e,onFocus:t=>{e.onFocus?.(t),(e=>{m&&m(e),T&&T.onFocus&&T.onFocus(e)})(t)},onBlur:t=>{e.onBlur?.(t),(e=>{p&&p(e),T&&T.onBlur&&T.onBlur(e)})(t)}}),ownerState:A,additionalProps:{centerRipple:!0,focusRipple:!a,disabled:k,role:void 0,tabIndex:null}}),[O,j]=kA("input",{ref:h,elementType:aO,className:I.input,externalForwardedProps:N,getSlotProps:e=>({...e,onChange:t=>{e.onChange?.(t),(e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;D(t),g&&g(e,t)})(t)}}),ownerState:A,additionalProps:{autoFocus:n,checked:r,defaultChecked:o,disabled:k,id:R?u:void 0,name:f,readOnly:v,required:y,tabIndex:b,type:w,..."checkbox"===w&&void 0===S?{}:{value:S}}});return(0,We.jsxs)(P,{...M,children:[(0,We.jsx)(O,{...j}),_?i:c]})})),cO=lO,uO=bM((0,We.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),dO=bM((0,We.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),hO=bM((0,We.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function fO(e){return jR("MuiCheckbox",e)}const pO=LR("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),gO=gA(cO,{shouldForwardProp:e=>fA(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${qR(n.size)}`],"default"!==n.color&&t[`color${qR(n.color)}`]]}})(vA((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Pk(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(OI()).map((e=>{let[n]=e;return{props:{color:n,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Pk(t.palette[n].main,t.palette.action.hoverOpacity)}}}})),...Object.entries(t.palette).filter(OI()).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${pO.checked}, &.${pO.indeterminate}`]:{color:(t.vars||t).palette[n].main},[`&.${pO.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}}))),mO=(0,We.jsx)(dO,{}),vO=(0,We.jsx)(uO,{}),yO=(0,We.jsx)(hO,{}),bO=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiCheckbox"}),{checkedIcon:r=mO,color:o="primary",icon:s=vO,indeterminate:a=!1,indeterminateIcon:l=yO,inputProps:c,size:u="medium",disableRipple:d=!1,className:h,slots:f={},slotProps:p={},...g}=n,m=a?l:s,v=a?l:r,y={...n,disableRipple:d,color:o,indeterminate:a,size:u},b=(e=>{const{classes:t,indeterminate:n,color:r,size:i}=e,o=$R({root:["root",n&&"indeterminate",`color${qR(r)}`,`size${qR(i)}`]},fO,t);return{...t,...o}})(y),w=p.input??c,[S,E]=kA("root",{ref:t,elementType:gO,className:E_(b.root,h),shouldForwardComponentProp:!0,externalForwardedProps:{slots:f,slotProps:p,...g},ownerState:y,additionalProps:{type:"checkbox",icon:i.cloneElement(m,{fontSize:m.props.fontSize??u}),checkedIcon:i.cloneElement(v,{fontSize:v.props.fontSize??u}),disableRipple:d,slots:f,slotProps:{input:MP("function"===typeof w?w(y):w,{"data-indeterminate":a})}}});return(0,We.jsx)(S,{...E,classes:b})})),wO=bO;const SO=LR("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const EO=LR("MuiListItemIcon",["root","alignItemsFlexStart"]);const CO=LR("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function xO(e){return jR("MuiMenuItem",e)}const _O=LR("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),DO=gA(iO,{shouldForwardProp:e=>fA(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(vA((e=>{let{theme:t}=e;return{...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${_O.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Pk(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${_O.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Pk(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${_O.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Pk(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Pk(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${_O.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${_O.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${SO.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${SO.inset}`]:{marginLeft:52},[`& .${CO.root}`]:{marginTop:0,marginBottom:0},[`& .${CO.inset}`]:{paddingLeft:36},[`& .${EO.root}`]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${EO.root} svg`]:{fontSize:"1.25rem"}}}]}}))),TO=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h,...f}=n,p=i.useContext(uP),g=i.useMemo((()=>({dense:s||p.dense||!1,disableGutters:l})),[p.dense,s,l]),m=i.useRef(null);sN((()=>{r&&m.current&&m.current.focus()}),[r]);const v={...n,dense:g.dense,divider:a,disableGutters:l},y=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=e,a=$R({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},xO,s);return{...s,...a}})(n),b=WA(m,t);let w;return n.disabled||(w=void 0!==d?d:-1),(0,We.jsx)(uP.Provider,{value:g,children:(0,We.jsx)(DO,{ref:b,role:u,tabIndex:w,component:o,focusVisibleClassName:E_(y.focusVisible,c),className:E_(y.root,h),...f,ownerState:v,classes:y})})}));function kO(e){return jR("MuiDialogActions",e)}LR("MuiDialogActions",["root","spacing"]);const RO=gA("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableSpacing},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),AO=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:i=!1,...o}=n,s={...n,disableSpacing:i},a=(e=>{const{classes:t,disableSpacing:n}=e;return $R({root:["root",!n&&"spacing"]},kO,t)})(s);return(0,We.jsx)(RO,{className:E_(a.root,r),ownerState:s,ref:t,...o})})),IO=WR;function NO(e){return jR("MuiCircularProgress",e)}LR("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const PO=44,MO=II`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,OO=II`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,jO="string"!==typeof MO?AI`
        animation: ${MO} 1.4s linear infinite;
      `:null,LO="string"!==typeof OO?AI`
        animation: ${OO} 1.4s ease-in-out infinite;
      `:null,zO=gA("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${qR(n.color)}`]]}})(vA((e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:jO||{animation:`${MO} 1.4s linear infinite`}},...Object.entries(t.palette).filter(OI()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}}))]}}))),BO=gA("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),FO=gA("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${qR(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(vA((e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:LO||{animation:`${OO} 1.4s ease-in-out infinite`}}]}}))),UO=i.forwardRef((function(e,t){const n=SA({props:e,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:o=!1,size:s=40,style:a,thickness:l=3.6,value:c=0,variant:u="indeterminate",...d}=n,h={...n,color:i,disableShrink:o,size:s,thickness:l,value:c,variant:u},f=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e;return $R({root:["root",n,`color${qR(r)}`],svg:["svg"],circle:["circle",`circle${qR(n)}`,i&&"circleDisableShrink"]},NO,t)})(h),p={},g={},m={};if("determinate"===u){const e=2*Math.PI*((PO-l)/2);p.strokeDasharray=e.toFixed(3),m["aria-valuenow"]=Math.round(c),p.strokeDashoffset=`${((100-c)/100*e).toFixed(3)}px`,g.transform="rotate(-90deg)"}return(0,We.jsx)(zO,{className:E_(f.root,r),style:{width:s,height:s,...g,...a},ownerState:h,ref:t,role:"progressbar",...m,...d,children:(0,We.jsx)(BO,{className:f.svg,ownerState:h,viewBox:"22 22 44 44",children:(0,We.jsx)(FO,{className:f.circle,style:p,ownerState:h,cx:PO,cy:PO,r:(PO-l)/2,fill:"none",strokeWidth:l})})})})),$O=UO;function HO(e){return jR("MuiButton",e)}const VO=LR("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]);const WO=i.createContext({});const qO=i.createContext(void 0),GO=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],QO=gA(iO,{shouldForwardProp:e=>fA(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${qR(n.color)}`],t[`size${qR(n.size)}`],t[`${n.variant}Size${qR(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(vA((e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],r="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${VO.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${VO.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${VO.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${VO.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(OI()).map((e=>{let[n]=e;return{props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.5)`:Pk(t.palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Pk(t.palette[n].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Pk(t.palette[n].main,t.palette.action.hoverOpacity)}}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Pk(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Pk(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${VO.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${VO.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${VO.loading}`]:{color:"transparent"}}}]}}))),YO=gA("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${qR(n.size)}`]]}})((e=>{let{theme:t}=e;return{display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...GO]}})),KO=gA("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${qR(n.size)}`]]}})((e=>{let{theme:t}=e;return{display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...GO]}})),XO=gA("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})((e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]}})),ZO=gA("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(e,t)=>t.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),JO=i.forwardRef((function(e,t){const n=i.useContext(WO),r=i.useContext(qO),o=SA({props:yA(n,e),name:"MuiButton"}),{children:s,color:a="primary",component:l="button",className:c,disabled:u=!1,disableElevation:d=!1,disableFocusRipple:h=!1,endIcon:f,focusVisibleClassName:p,fullWidth:g=!1,id:m,loading:v=null,loadingIndicator:y,loadingPosition:b="center",size:w="medium",startIcon:S,type:E,variant:C="text",...x}=o,_=IO(m),D=y??(0,We.jsx)($O,{"aria-labelledby":_,color:"inherit",size:16}),T={...o,color:a,component:l,disabled:u,disableElevation:d,disableFocusRipple:h,fullWidth:g,loading:v,loadingIndicator:D,loadingPosition:b,size:w,type:E,variant:C},k=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:l}=e,c=$R({root:["root",s&&"loading",o,`${o}${qR(t)}`,`size${qR(i)}`,`${o}Size${qR(i)}`,`color${qR(t)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${qR(a)}`],startIcon:["icon","startIcon",`iconSize${qR(i)}`],endIcon:["icon","endIcon",`iconSize${qR(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},HO,l);return{...l,...c}})(T),R=(S||v&&"start"===b)&&(0,We.jsx)(YO,{className:k.startIcon,ownerState:T,children:S||(0,We.jsx)(ZO,{className:k.loadingIconPlaceholder,ownerState:T})}),A=(f||v&&"end"===b)&&(0,We.jsx)(KO,{className:k.endIcon,ownerState:T,children:f||(0,We.jsx)(ZO,{className:k.loadingIconPlaceholder,ownerState:T})}),I=r||"",N="boolean"===typeof v?(0,We.jsx)("span",{className:k.loadingWrapper,style:{display:"contents"},children:v&&(0,We.jsx)(XO,{className:k.loadingIndicator,ownerState:T,children:D})}):null;return(0,We.jsxs)(QO,{ownerState:T,className:E_(n.className,k.root,c,I),component:l,disabled:u||v,focusRipple:!h,focusVisibleClassName:E_(k.focusVisible,p),ref:t,type:E,id:v?_:m,...x,classes:k,children:[R,"end"!==b&&N,s,"end"===b&&N,A]})})),ej=JO,tj="ABCDEFGHIJKLMNOPQRSTUWXYZ".split("");function nj(){var e;const t=(0,i.useMemo)((()=>{const e=[];return["A","B","C","D"].forEach((t=>{for(let n=1;n<=36;n++){const r=`${t}${n.toString().padStart(2,"0")}`;e.push({id:r,title:r}),e.push({id:`${r}_M`,parentId:r,title:"Mattina"}),e.push({id:`${r}_P`,parentId:r,title:"Pomeriggio"})}})),e}),[]),n=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"",r=(e,t)=>{if(!e)return null;try{const n=new Date(e);return n.setDate(n.getDate()+t),n.toISOString().slice(0,10)}catch(op){return null}},o=(e,t,n,r)=>!!(e&&t&&n&&r)&&(e<=r&&t>=n),s=e=>{if(!e)return"";try{const[t,n,r]=e.split("-");return`${r}/${n}/${t}`}catch(op){return e}},[a,l]=(0,i.useState)([]),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)({nom:"",prenom:"",endDate:"",condition:"jour entier",numBeds:2,registiPoltrona:"",serialNumber:null,id:null,startDate:""}),[g,m]=(0,i.useState)(""),[v,y]=(0,i.useState)(""),[b,w]=(0,i.useState)(null),[S,E]=(0,i.useState)(!1),[C,x]=(0,i.useState)(""),[_,D]=(0,i.useState)(""),[T,k]=(0,i.useState)(!1),[R,A]=(0,i.useState)(""),[I,N]=(0,i.useState)(!1),[P,M]=(0,i.useState)(!0),[O,j]=(0,i.useState)(""),L=(0,i.useCallback)((e=>{const t=[];return e.forEach((e=>{const{id:n,startDate:i,endDate:o,nom:s,prenom:a,condition:l,cellCode:c,cabina:u}=e;if(!i||!c)return;const d=r(o&&o>=i?o:i,1),h=void 0!==e.numBeds?`(${e.numBeds}L`:"",f={extendedProps:{originalId:n},start:i,end:d,title:`${s||""} ${a||""} ${h}${e.registiPoltrona?`+${e.registiPoltrona}`:""}${h?")":""}${u?`C${u}`:""}`.trim()||"N/A",color:(p=l,{"jour entier":"#e57373",matin:"#64b5f6","apres-midi":"#ffb74d"}[p]||"#9e9e9e")};var p;"jour entier"===l?(t.push({...f,id:`${n}_M`,resourceId:`${c}_M`}),t.push({...f,id:`${n}_P`,resourceId:`${c}_P`})):"matin"===l?t.push({...f,id:`${n}_M`,resourceId:`${c}_M`}):"apres-midi"===l&&t.push({...f,id:`${n}_P`,resourceId:`${c}_P`})})),t}),[]),z=Wd(lf,"counters","reservationCounter"),B=(0,i.useCallback)((async()=>{const e=(new Date).getFullYear().toString().slice(-2);try{let t=1;return await sf(lf,(async e=>{const n=await e.get(z);if(n.exists()){const r=n.data().lastNumber;"number"!==typeof r||isNaN(r)?(t=1,e.set(z,{lastNumber:1})):(t=r+1,e.update(z,{lastNumber:t}))}else t=1,e.set(z,{lastNumber:1})})),`${e}${t.toString().padStart(5,"0")}`}catch(t){throw console.error("Erreur g\xe9n\xe9ration SN:",t),new Error("Impossible de g\xe9n\xe9rer le num\xe9ro de s\xe9rie.")}}),[z]);(0,i.useEffect)((()=>{(async()=>{try{const e=(await Qh(Vd(lf,"reservations"))).docs.map((e=>({id:e.id,...e.data()})));l(e);const t=L(e);u(t)}catch(e){console.error("Erreur de chargement des r\xe9servations:",e)}})()}),[L]);const F=(0,i.useCallback)(((e,t,n)=>{if(!e||!t||!Array.isArray(a))return null;const r=a.filter((r=>r.cabina&&r.id!==n&&o(e,t,r.startDate,r.endDate))).map((e=>e.cabina)),i=[...new Set(r)];for(const o of tj)if(!i.includes(o))return o;return null}),[a]),U=()=>{h(!1),w(null),p({nom:"",prenom:"",startDate:"",endDate:"",condition:"jour entier",numBeds:2,registiPoltrona:"",serialNumber:null,id:null}),E(!1),x(""),D(""),j(""),k(!1),A(""),M(!0)};(0,i.useEffect)((()=>{if(d)if(S)if(f.startDate&&f.endDate&&f.startDate<=f.endDate){const e=F(f.startDate,f.endDate,f.id);e?(x(e),D("")):(x(""),D("Nessuna cabina disponibile."))}else x(""),f.startDate&&f.endDate&&f.startDate>f.endDate?D("Fine prima di inizio."):D("");else x(""),D("")}),[d,S,f.startDate,f.endDate,f.id,F]),(0,i.useEffect)((()=>{if(!d)return void j("");if(j(""),!g||!f.startDate||!f.endDate||!f.condition||!Array.isArray(a)||f.startDate>f.endDate)return;const e=f.id,t=f.startDate,n=f.endDate,r=T&&R&&R!==f.condition?R:f.condition,i=a.find((i=>{if(e&&i.id===e)return!1;if(i.cellCode===g&&o(t,n,i.startDate,i.endDate)){const e=i.condition;if("jour entier"===r||"jour entier"===e||r===e)return!0}return!1}));if(i){let e=i.condition.replace("apres-midi","pomeriggio").replace("jour entier","giorno intero");const t=s(i.startDate),n=s(i.endDate);j(`Conflitto: Ombrellone ${g} gi\xe0 prenotato (${e}) ${t===n?`il ${t}`:`dal ${t} al ${n}`} (Cliente: ${i.nom} ${i.prenom}, N\xb0 ${i.serialNumber||"N/A"}).`)}else j("")}),[d,g,f.startDate,f.endDate,f.condition,R,T,f.id,a]);const $=$A();return(0,We.jsxs)(UR,{sx:{height:"90vh",overflow:"auto",border:"1px solid #ccc"},children:[(0,We.jsx)(UR,{sx:{"& .fc-scrollgrid-section-sticky":{position:"sticky",top:0,zIndex:1090,backgroundColor:$.palette.background.paper},"& .fc-scrollgrid-section-sticky > th":{backgroundColor:$.palette.background.paper,overflow:"visible !important"},"& .fc-scrollgrid-section-body .fc-scroller, & .fc-scrollgrid-section-body .fc-scroller-harness":{overflow:"auto hidden !important"},"& .fc-col-header-cell.fc-resource":{position:"sticky",left:0,zIndex:1091,backgroundColor:$.palette.background.paper},"& .fc-datagrid-cell.fc-resource":{position:"sticky",left:0,zIndex:1089,backgroundColor:$.palette.background.paper,borderRight:`1px solid ${$.palette.divider}`}},children:(0,We.jsx)(wE,{plugins:[YE,Zx,b_],headerToolbar:!1,initialView:"resourceTimeline",visibleRange:{start:"2025-04-01",end:"2025-12-02"},resources:t,events:c,selectable:!0,select:e=>{var t;if(null===(t=e.resource)||void 0===t||!t.id.match(/_(M|P)$/))return;const n=e.startStr;m(e.resource.id.split("_")[0]),y(n),p({nom:"",prenom:"",startDate:n,endDate:n,condition:e.resource.id.endsWith("_M")?"matin":"apres-midi",numBeds:2,registiPoltrona:"",serialNumber:null,id:null}),w(null),M(!0),E(!1),x(""),D(""),j(""),k(!1),A(""),h(!0)},eventClick:e=>{const t=a.find((t=>t.id===e.event.extendedProps.originalId));if(t){const n=e.event.startStr;w(t),m(t.cellCode),y(n),p({nom:t.nom||"",prenom:t.prenom||"",startDate:t.startDate,endDate:t.endDate||t.startDate,condition:t.condition||"jour entier",numBeds:void 0===t.numBeds?2:t.numBeds,registiPoltrona:t.registiPoltrona||"",serialNumber:t.serialNumber||null,id:t.id}),M(!1),E(!!t.cabina),x(t.cabina||""),D(""),j("");const r=t.startDate!==(t.endDate||t.startDate),i=n>=t.startDate&&n<=(t.endDate||t.startDate),o=!P&&r&&i;k(o),A(o?t.condition||"jour entier":""),h(!0)}else console.warn("Original reservation not found for event:",e.event)},initialDate:"2025-04-01",locale:w_,resourceAreaHeaderContent:"Ombrelli",slotDuration:{days:1},slotLabelFormat:{weekday:"short",day:"numeric",month:"numeric",omitCommas:!0},displayEventTime:!1,height:"auto",resourceAreaWidth:"100px"})}),(0,We.jsxs)(TI,{open:d,onClose:U,fullWidth:!0,maxWidth:"xs",children:[(0,We.jsx)(qI,{children:b?`Modifica Prenotazione (${g})`:`Nuova Prenotazione (${g} - ${s(f.startDate)})`}),(0,We.jsxs)(YI,{children:[(0,We.jsx)(IM,{margin:"dense",label:"N\xb0 Prenotazione",value:f.serialNumber||(P?"(Nuova)":"N/A"),InputProps:{readOnly:!0},variant:"filled",size:"small",fullWidth:!0}),(0,We.jsx)(IM,{margin:"dense",label:"Cognome",value:f.nom,onChange:e=>p({...f,nom:n(e.target.value)}),required:!0,fullWidth:!0}),(0,We.jsx)(IM,{margin:"dense",label:"Nome",value:f.prenom,onChange:e=>p({...f,prenom:n(e.target.value)}),fullWidth:!0}),(0,We.jsx)(IM,{margin:"dense",label:"Data Inizio",type:"date",value:f.startDate,onChange:e=>{const t=e.target.value;p((e=>({...e,startDate:t,endDate:e.endDate<t?t:e.endDate})))},InputLabelProps:{shrink:!0},required:!0,fullWidth:!0}),(0,We.jsx)(IM,{margin:"dense",label:"Data Fine",type:"date",value:f.endDate,onChange:e=>p({...f,endDate:e.target.value}),InputLabelProps:{shrink:!0},inputProps:{min:f.startDate},required:!0,fullWidth:!0}),(0,We.jsx)(IM,{margin:"dense",label:"N\xb0 lettini (0-3)",type:"number",value:null!==(e=f.numBeds)&&void 0!==e?e:"",onChange:e=>{const t=""===e.target.value?"":parseInt(e.target.value,10);p({...f,numBeds:isNaN(t)?"":Math.min(Math.max(t,0),3)})},inputProps:{min:0,max:3,step:1},required:!0,fullWidth:!0}),(0,We.jsx)(IM,{margin:"dense",label:"+ Regista (R) / Poltrona (P)",value:f.registiPoltrona||"",onChange:e=>{const t=e.target.value.toUpperCase();p({...f,registiPoltrona:["R","P",""].includes(t)?t:f.registiPoltrona})},inputProps:{maxLength:1},placeholder:"R / P",fullWidth:!0}),(0,We.jsx)(jM,{control:(0,We.jsx)(wO,{checked:S,onChange:e=>E(e.target.checked),disabled:I}),label:"Richiedi Cabina "+(C?`(${C})`:_?`(${_})`:"")}),(0,We.jsxs)(IM,{select:!0,fullWidth:!0,margin:"dense",label:"Condizione",value:f.condition,onChange:e=>p({...f,condition:e.target.value}),required:!0,disabled:I,children:[(0,We.jsx)(TO,{value:"jour entier",children:"Giorno Intero"}),(0,We.jsx)(TO,{value:"matin",children:"Mattina"}),(0,We.jsx)(TO,{value:"apres-midi",children:"Pomeriggio"})]}),O&&(0,We.jsx)($I,{color:"error",variant:"caption",display:"block",sx:{mt:1},children:O}),T&&(0,We.jsxs)(UR,{sx:{border:"1px dashed grey",p:1.5,mt:2,borderRadius:1},children:[(0,We.jsxs)($I,{variant:"body2",gutterBottom:!0,children:["Modifica solo per il giorno"," ",(0,We.jsx)("strong",{children:s(v)}),":"]}),(0,We.jsxs)(IM,{select:!0,fullWidth:!0,margin:"dense",label:"Condizione per questo giorno",value:R,onChange:e=>A(e.target.value),size:"small",disabled:I,children:[(0,We.jsxs)(TO,{value:f.condition||"jour entier",children:["-- Mantieni (",(f.condition||"jour entier").replace("jour entier","Giorno Intero").replace("matin","Mattina").replace("apres-midi","Pomeriggio"),") --"]}),"jour entier"!==f.condition&&(0,We.jsx)(TO,{value:"jour entier",children:"Giorno Intero"}),"matin"!==f.condition&&(0,We.jsx)(TO,{value:"matin",children:"Mattina"}),"apres-midi"!==f.condition&&(0,We.jsx)(TO,{value:"apres-midi",children:"Pomeriggio"})]}),(0,We.jsx)($I,{variant:"caption",display:"block",sx:{mt:.5},children:"Selezionando una condizione diversa qui, la prenotazione verr\xe0 divisa."})]})]}),(0,We.jsxs)(AO,{children:[b&&(0,We.jsx)(ej,{color:"error",onClick:async()=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette r\xe9servation ?")&&b){N(!0);try{await Xh(Wd(lf,"reservations",b.id)),console.log("Prenotazione eliminata:",b.id);const e=a.filter((e=>e.id!==b.id));l(e);const t=L(e);u(t),U()}catch(e){console.error("Errore durante la suppression:",e),alert(`Errore durante la suppression: ${e.message}`)}finally{N(!1)}}},disabled:I,children:"Cancella"}),(0,We.jsx)(ej,{onClick:U,disabled:I,children:"Annulla"}),(0,We.jsx)(ej,{onClick:async()=>{if(!f.nom)return void alert("Cognome obbligatorio.");if(!f.startDate||!f.endDate)return void alert("Date obbligatorie.");if(f.endDate<f.startDate)return void alert("Data fine non valida.");if(""===f.numBeds||isNaN(f.numBeds)||f.numBeds<0||f.numBeds>3)return void alert("N\xb0 lettini non valido (0-3).");if(S&&!C&&_)return void alert(`Impossibile salvare: ${_}`);if(S&&!C&&!_)return void alert("Attendere assegnazione cabina o deselezionare.");if(O)return void alert("Impossibile salvare: "+O);N(!0);const e=T&&R&&R!==f.condition,t=null===b||void 0===b?void 0:b.id;try{if(e&&t){console.log(`Tentativo di split per ${g} il ${v}`);let e=null,n=null;e=await B(),b.endDate>v&&(n=await B());const i=[],o={deleted:!1,endDate:null};await sf(lf,(async s=>{const a=Wd(lf,"reservations",t),l=await s.get(a);if(!l.exists())throw new Error("Prenotazione originale non trovata.");const c=l.data(),u={...c,nom:f.nom,prenom:f.prenom||"",numBeds:f.numBeds,registiPoltrona:f.registiPoltrona||"",cabina:S?C:null,startDate:v,endDate:v,condition:R,serialNumber:e,cellCode:g,createdAt:c.createdAt||af(),modifiedAt:af()};delete u.id;const d=Wd(Vd(lf,"reservations"));if(s.set(d,u),i.push({id:d.id,...u}),console.log("Split: Creata prenotazione giorno target",e),c.startDate<v){const e=r(v,-1);if(!e)throw new Error("Errore calcolo data fine 'avant'.");s.update(a,{endDate:e,modifiedAt:af()}),o.endDate=e,console.log("Split: Aggiornata originale (prima)",c.serialNumber,"nuova fine:",e)}else o.endDate=null,console.log("Split: Giorno target \xe8 startDate originale.");if(c.endDate>v){if(!n)throw new Error("SN mancante per periodo 'dopo'.");const e=r(v,1);if(!e)throw new Error("Errore calcolo data inizio 'apr\xe8s'.");const t={...c,startDate:e,endDate:c.endDate,serialNumber:n,cellCode:g,createdAt:c.createdAt||af(),modifiedAt:af()};delete t.id;const o=Wd(Vd(lf,"reservations"));s.set(o,t),i.push({id:o.id,...t}),console.log("Split: Creata prenotazione periodo dopo",t.serialNumber,"inizio:",e)}else console.log("Split: Giorno target \xe8 endDate originale.");o.endDate||(s.delete(a),o.deleted=!0,console.log("Split: Prenotazione originale eliminata.",c.serialNumber))})),l((e=>{let n=[...e];o.deleted?n=n.filter((e=>e.id!==t)):o.endDate&&(n=n.map((e=>e.id===t?{...e,endDate:o.endDate,modifiedAt:new Date}:e))),n=[...n,...i.map((e=>{var t;return{...e,createdAt:null!==(t=e.createdAt)&&void 0!==t&&t.toDate?e.createdAt.toDate():new Date,modifiedAt:new Date}}))];const r=L(n);return u(r),n})),console.log("Split completato.")}else{const e={nom:f.nom,prenom:f.prenom||"",startDate:f.startDate,endDate:f.endDate,condition:f.condition,cellCode:g,numBeds:f.numBeds,registiPoltrona:f.registiPoltrona||"",cabina:S?C:null,modifiedAt:af()};let n;if(t)e.serialNumber=f.serialNumber,await Kh(Wd(lf,"reservations",t),e),console.log("Prenotazione aggiornata:",t),n=a.map((n=>n.id===t?{...n,...e,modifiedAt:new Date}:n));else{e.serialNumber=await B(),e.createdAt=af();const t=await Zh(Vd(lf,"reservations"),e);e.id=t.id,console.log("Nuova prenotazione creata:",e.id,"SN:",e.serialNumber),n=[...a,{...e,id:t.id,createdAt:new Date,modifiedAt:new Date}]}l(n);const r=L(n);u(r)}U()}catch(n){console.error("Errore durante la sauvegarde:",n),alert(`Errore durante la sauvegarde: ${n.message}`)}finally{N(!1)}},variant:"contained",disabled:I||!!O||S&&!C&&!!_,children:I?"Salvataggio...":b?"Modifica":"Aggiungi"})]})]})]})}const rj={changeExchangeContainer:"ChangeExchange_changeExchangeContainer__gfIH7",titre:"ChangeExchange_titre__ZpFSm",filterContainer:"ChangeExchange_filterContainer__Po6Au",formGroup:"ChangeExchange_formGroup__UR2La",searchAction:"ChangeExchange_searchAction__-BEsJ",searchButton:"ChangeExchange_searchButton__06oXQ",loadingIndicator:"ChangeExchange_loadingIndicator__xBk+y",error:"ChangeExchange_error__GC-ij",gridContainer:"ChangeExchange_gridContainer__VSAje",gridRow:"ChangeExchange_gridRow__r4Xx7",cell:"ChangeExchange_cell__BBkuO",cellTopHeader:"ChangeExchange_cellTopHeader__iBbmy",serialNumber:"ChangeExchange_serialNumber__m2jgr",cellCodeDisplay:"ChangeExchange_cellCodeDisplay__vUDTz",clientName:"ChangeExchange_clientName__M78dz",cellBottom:"ChangeExchange_cellBottom__kL4yU",period:"ChangeExchange_period__KHvqH",reservedCell:"ChangeExchange_reservedCell__8SVgm",freeCell:"ChangeExchange_freeCell__RJgCg",cellTop:"ChangeExchange_cellTop__8+Atp"};function ij(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if("undefined"!==typeof process&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let n=0;e=new Error(t.replace(/%s/g,(function(){return r[n++]}))),e.name="Invariant Violation"}throw e.framesToPop=1,e}}var oj=n(122);const sj="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;function aj(e,t,n){const[r,o]=function(e,t,n){const[r,o]=(0,i.useState)((()=>t(e))),s=(0,i.useCallback)((()=>{const i=t(e);oj(r,i)||(o(i),n&&n())}),[r,e,n]);return sj(s),[r,s]}(e,t,n);return sj((function(){const t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(o,{handlerIds:[t]})}),[e,o]),r}function lj(e,t,n){return aj(t,e||(()=>({})),(()=>n.reconnect()))}function cj(e,t){const n=[...t||[]];return null==t&&"function"!==typeof e&&n.push(e),(0,i.useMemo)((()=>"function"===typeof e?e():e),n)}function uj(e){return(0,i.useMemo)((()=>e.hooks.dragSource()),[e])}function dj(e){return(0,i.useMemo)((()=>e.hooks.dragPreview()),[e])}function hj(e,t,n,r){let i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;const o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<o.length;l++){const s=o[l];if(!a(s))return!1;const c=e[s],u=t[s];if(i=n?n.call(r,c,u,s):void 0,!1===i||void 0===i&&c!==u)return!1}return!0}function fj(e){return null!==e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function pj(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,i.isValidElement)(t)){const r=t;return e(r,n),r}const r=t;!function(e){if("string"===typeof e.type)return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(r);const o=n?t=>e(t,n):e;return function(e,t){const n=e.ref;return ij("string"!==typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,i.cloneElement)(e,{ref:e=>{mj(n,e),mj(t,e)}}):(0,i.cloneElement)(e,{ref:t})}(r,o)}}function gj(e){const t={};return Object.keys(e).forEach((n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const e=pj(r);t[n]=()=>e}})),t}function mj(e,t){"function"===typeof e?e(t):e.current=t}class vj{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();n&&this.disconnectDragPreview(),this.handlerId&&(t?n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions)):this.lastConnectedDragPreview=t)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!hj(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!hj(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=gj({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,fj(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,fj(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}const yj=(0,i.createContext)({dragDropManager:void 0});function bj(){const{dragDropManager:e}=(0,i.useContext)(yj);return ij(null!=e,"Expected drag drop context"),e}let wj=!1,Sj=!1;class Ej{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){ij(!wj,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return wj=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{wj=!1}}isDragging(){if(!this.sourceId)return!1;ij(!Sj,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Sj=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Sj=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}class Cj{beginDrag(){const e=this.spec,t=this.monitor;let n=null;return n="object"===typeof e.item?e.item:"function"===typeof e.item?e.item(t):{},null!==n&&void 0!==n?n:null}canDrag(){const e=this.spec,t=this.monitor;return"boolean"===typeof e.canDrag?e.canDrag:"function"!==typeof e.canDrag||e.canDrag(t)}isDragging(e,t){const n=this.spec,r=this.monitor,{isDragging:i}=n;return i?i(r):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:r}=e;r&&r(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}function xj(e,t,n){const r=bj(),o=function(e,t,n){const r=(0,i.useMemo)((()=>new Cj(e,t,n)),[t,n]);return(0,i.useEffect)((()=>{r.spec=e}),[e]),r}(e,t,n),s=function(e){return(0,i.useMemo)((()=>{const t=e.type;return ij(null!=t,"spec.type must be defined"),t}),[e])}(e);sj((function(){if(null!=s){const[e,i]=function(e,t,n){const r=n.getRegistry(),i=r.addSource(e,t);return[i,()=>r.removeSource(i)]}(s,o,r);return t.receiveHandlerId(e),n.receiveHandlerId(e),i}}),[r,t,n,o,s])}function _j(e,t){const n=cj(e,t);ij(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=function(){const e=bj();return(0,i.useMemo)((()=>new Ej(e)),[e])}(),o=function(e,t){const n=bj(),r=(0,i.useMemo)((()=>new vj(n.getBackend())),[n]);return sj((()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource())),[r,e]),sj((()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview())),[r,t]),r}(n.options,n.previewOptions);return xj(n,r,o),[lj(n.collect,r,o),uj(o),dj(o)]}function Dj(e){return(0,i.useMemo)((()=>e.hooks.dropTarget()),[e])}class Tj{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!hj(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=gj({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,fj(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}let kj=!1;class Rj{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;ij(!kj,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return kj=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{kj=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}class Aj{canDrop(){const e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function Ij(e,t,n){const r=bj(),o=function(e,t){const n=(0,i.useMemo)((()=>new Aj(e,t)),[t]);return(0,i.useEffect)((()=>{n.spec=e}),[e]),n}(e,t),s=function(e){const{accept:t}=e;return(0,i.useMemo)((()=>(ij(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t])),[t])}(e);sj((function(){const[e,i]=function(e,t,n){const r=n.getRegistry(),i=r.addTarget(e,t);return[i,()=>r.removeTarget(i)]}(s,o,r);return t.receiveHandlerId(e),n.receiveHandlerId(e),i}),[r,t,o,n,s.map((e=>e.toString())).join("|")])}function Nj(e,t){const n=cj(e,t),r=function(){const e=bj();return(0,i.useMemo)((()=>new Rj(e)),[e])}(),o=function(e){const t=bj(),n=(0,i.useMemo)((()=>new Tj(t.getBackend())),[t]);return sj((()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget())),[e]),n}(n.options);return Ij(n,r,o),[lj(n.collect,r,o),Dj(o)]}function Pj(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Mj="function"===typeof Symbol&&Symbol.observable||"@@observable",Oj=function(){return Math.random().toString(36).substring(7).split("").join(".")},jj={INIT:"@@redux/INIT"+Oj(),REPLACE:"@@redux/REPLACE"+Oj(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Oj()}};function Lj(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function zj(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Pj(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Pj(1));return n(zj)(e,t)}if("function"!==typeof e)throw new Error(Pj(2));var i=e,o=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error(Pj(3));return o}function d(e){if("function"!==typeof e)throw new Error(Pj(4));if(l)throw new Error(Pj(5));var t=!0;return c(),a.push(e),function(){if(t){if(l)throw new Error(Pj(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),s=null}}}function h(e){if(!Lj(e))throw new Error(Pj(7));if("undefined"===typeof e.type)throw new Error(Pj(8));if(l)throw new Error(Pj(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=s=a,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:jj.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Pj(10));i=e,h({type:jj.REPLACE})}})[Mj]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Pj(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[Mj]=function(){return this},e},r}function Bj(e){return"object"===typeof e}const Fj="dnd-core/INIT_COORDS",Uj="dnd-core/BEGIN_DRAG",$j="dnd-core/PUBLISH_DRAG_SOURCE",Hj="dnd-core/HOVER",Vj="dnd-core/DROP",Wj="dnd-core/END_DRAG";function qj(e,t){return{type:Fj,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const Gj={type:Fj,payload:{clientOffset:null,sourceClientOffset:null}};function Qj(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0};const{publishSource:r=!0,clientOffset:i,getSourceClientOffset:o}=n,s=e.getMonitor(),a=e.getRegistry();e.dispatch(qj(i)),function(e,t,n){ij(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){ij(n.getSource(e),"Expected sourceIds to be registered.")}))}(t,s,a);const l=function(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,s);if(null==l)return void e.dispatch(Gj);let c=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");!function(e){ij("function"===typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(o),c=o(l)}e.dispatch(qj(i,c));const u=a.getSource(l).beginDrag(s,l);if(null==u)return;!function(e){ij(Bj(e),"Item must be an object.")}(u),a.pinSource(l);const d=a.getSourceType(l);return{type:Uj,payload:{itemType:d,item:u,sourceId:l,clientOffset:i||null,sourceClientOffset:c||null,isSourcePublic:!!r}}}}function Yj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Yj(e,t,n[t])}))}return e}function Xj(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=e.getMonitor(),r=e.getRegistry();!function(e){ij(e.isDragging(),"Cannot call drop while not dragging."),ij(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n);const i=function(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n);i.forEach(((i,o)=>{const s=function(e,t,n,r){const i=n.getTarget(e);let o=i?i.drop(r,e):void 0;(function(e){ij("undefined"===typeof e||Bj(e),"Drop result must either be an object or undefined.")})(o),"undefined"===typeof o&&(o=0===t?{}:r.getDropResult());return o}(i,o,r,n),a={type:Vj,payload:{dropResult:Kj({},t,s)}};e.dispatch(a)}))}}function Zj(e){return function(){const t=e.getMonitor(),n=e.getRegistry();!function(e){ij(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);const r=t.getSourceId();if(null!=r){n.getSource(r,!0).endDrag(t,r),n.unpinSource()}return{type:Wj}}}function Jj(e,t){return null===t?null===e:Array.isArray(e)?e.some((e=>e===t)):e===t}function eL(e){return function(t){let{clientOffset:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e){ij(Array.isArray(e),"Expected targetIds to be an array.")}(t);const r=t.slice(0),i=e.getMonitor(),o=e.getRegistry();return function(e,t,n){for(let r=e.length-1;r>=0;r--){const i=e[r];Jj(t.getTargetType(i),n)||e.splice(r,1)}}(r,o,i.getItemType()),function(e,t,n){ij(t.isDragging(),"Cannot call hover while not dragging."),ij(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const t=e[r];ij(e.lastIndexOf(t)===r,"Expected targetIds to be unique in the passed array.");ij(n.getTarget(t),"Expected targetIds to be registered.")}}(r,i,o),function(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}(r,i,o),{type:Hj,payload:{targetIds:r,clientOffset:n||null}}}}function tL(e){return function(){if(e.getMonitor().isDragging())return{type:$j}}}class nL{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;const n=function(e){return{beginDrag:Qj(e),publishDragSource:tL(e),hover:eL(e),drop:Xj(e),endDrag:Zj(e)}}(this);return Object.keys(n).reduce(((r,i)=>{const o=n[i];var s;return r[i]=(s=o,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const o=s.apply(e,r);"undefined"!==typeof o&&t(o)}),r}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function rL(e,t){return{x:e.x-t.x,y:e.y-t.y}}const iL=[],oL=[];iL.__IS_NONE__=!0,oL.__IS_ALL__=!0;class sL{subscribeToStateChange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{handlerIds:n}=t;ij("function"===typeof e,"listener must be a function."),ij("undefined"===typeof n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId;return this.store.subscribe((()=>{const t=this.store.getState(),i=t.stateId;try{const o=i===r||i===r+1&&!function(e,t){if(e===iL)return!1;if(e===oL||"undefined"===typeof t)return!0;const n=(r=e,t.filter((e=>r.indexOf(e)>-1)));var r;return n.length>0}(t.dirtyHandlerIds,n);o||e()}finally{r=i}}))}subscribeToOffsetChange(e){ij("function"===typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe((()=>{const n=this.store.getState().dragOffset;n!==t&&(t=n,e())}))}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return ij(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(ij(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;return Jj(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(ij(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;return this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const r=this.registry.getTargetType(e),i=this.getItemType();if(i&&!Jj(r,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const s=o.indexOf(e);return n?s===o.length-1:s>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return t&&n&&r?rL(function(e,t){return{x:e.x+t.x,y:e.y+t.y}}(t,r),n):null}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){const{clientOffset:t,initialClientOffset:n}=e;return t&&n?rL(t,n):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const aL="undefined"!==typeof global?global:self,lL=aL.MutationObserver||aL.WebKitMutationObserver;function cL(e){return function(){const t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}const uL="function"===typeof lL?function(e){let t=1;const n=new lL(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}:cL;class dL{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const hL=new class{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,n=e.length-this.index;t<n;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=uL(this.flush),this.requestErrorThrow=cL((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},fL=new class{create(e){const t=this.freeTasks,n=t.length?t.pop():new dL(this.onError,(e=>t[t.length]=e));return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}(hL.registerPendingError);const pL="dnd-core/ADD_SOURCE",gL="dnd-core/ADD_TARGET",mL="dnd-core/REMOVE_SOURCE",vL="dnd-core/REMOVE_TARGET";function yL(e,t){t&&Array.isArray(e)?e.forEach((e=>yL(e,!1))):ij("string"===typeof e||"symbol"===typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var bL;!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(bL||(bL={}));let wL=0;function SL(e){const t=(wL++).toString();switch(e){case bL.SOURCE:return`S${t}`;case bL.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function EL(e){switch(e[0]){case"S":return bL.SOURCE;case"T":return bL.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function CL(e,t){const n=e.entries();let r=!1;do{const{done:e,value:[,i]}=n.next();if(i===t)return!0;r=!!e}while(!r);return!1}class xL{addSource(e,t){yL(e),function(e){ij("function"===typeof e.canDrag,"Expected canDrag to be a function."),ij("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),ij("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(t);const n=this.addHandler(bL.SOURCE,e,t);return this.store.dispatch(function(e){return{type:pL,payload:{sourceId:e}}}(n)),n}addTarget(e,t){yL(e,!0),function(e){ij("function"===typeof e.canDrop,"Expected canDrop to be a function."),ij("function"===typeof e.hover,"Expected hover to be a function."),ij("function"===typeof e.drop,"Expected beginDrag to be a function.")}(t);const n=this.addHandler(bL.TARGET,e,t);return this.store.dispatch(function(e){return{type:gL,payload:{targetId:e}}}(n)),n}containsHandler(e){return CL(this.dragSources,e)||CL(this.dropTargets,e)}getSource(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ij(this.isSourceId(e),"Expected a valid source ID.");return t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return ij(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return ij(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return ij(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return EL(e)===bL.SOURCE}isTargetId(e){return EL(e)===bL.TARGET}removeSource(e){var t;ij(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:mL,payload:{sourceId:e}}}(e)),t=()=>{this.dragSources.delete(e),this.types.delete(e)},hL.enqueueTask(fL.create(t))}removeTarget(e){ij(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:vL,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);ij(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){ij(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const r=SL(e);return this.types.set(r,t),e===bL.SOURCE?this.dragSources.set(r,n):e===bL.TARGET&&this.dropTargets.set(r,n),r}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const _L=(e,t)=>e===t;function DL(){let e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Hj:break;case pL:case gL:case vL:case mL:return iL;default:return oL}const{targetIds:t=[],prevTargetIds:n=[]}=e.payload,r=function(e,t){const n=new Map,r=e=>{n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);const i=[];return n.forEach(((e,t)=>{1===e&&i.push(t)})),i}(t,n),i=r.length>0||!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_L;if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(t,n);if(!i)return iL;const o=n[n.length-1],s=t[t.length-1];return o!==s&&(o&&r.push(o),s&&r.push(s)),r}function TL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const kL={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function RL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kL,t=arguments.length>1?arguments[1]:void 0;const{payload:n}=t;switch(t.type){case Fj:case Uj:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case Hj:return r=e.clientOffset,i=n.clientOffset,!r&&!i||r&&i&&r.x===i.x&&r.y===i.y?e:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){TL(e,t,n[t])}))}return e}({},e,{clientOffset:n.clientOffset});case Wj:case Vj:return kL;default:return e}var r,i}function AL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){AL(e,t,n[t])}))}return e}const NL={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function PL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NL,t=arguments.length>1?arguments[1]:void 0;const{payload:n}=t;switch(t.type){case Uj:return IL({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case $j:return IL({},e,{isSourcePublic:!0});case Hj:return IL({},e,{targetIds:n.targetIds});case vL:return-1===e.targetIds.indexOf(n.targetId)?e:IL({},e,{targetIds:(r=e.targetIds,i=n.targetId,r.filter((e=>e!==i)))});case Vj:return IL({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Wj:return IL({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var r,i}function ML(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case pL:case gL:return e+1;case mL:case vL:return e-1;default:return e}}function OL(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1}function jL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){jL(e,t,n[t])}))}return e}function zL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:DL(e.dirtyHandlerIds,{type:t.type,payload:LL({},t.payload,{prevTargetIds:(n=e,r="dragOperation.targetIds",i=[],r.split(".").reduce(((e,t)=>e&&e[t]?e[t]:i||null),n))})}),dragOffset:RL(e.dragOffset,t),refCount:ML(e.refCount,t),dragOperation:PL(e.dragOperation,t),stateId:OL(e.stateId)};var n,r,i}function BL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=function(e){const t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return zj(zL,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(arguments.length>3&&void 0!==arguments[3]&&arguments[3]),i=new sL(r,new xL(r)),o=new nL(r,i),s=e(o,t,n);return o.receiveBackend(s),o}function FL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let UL=0;const $L=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var HL,VL=(0,i.memo)((function(e){var{children:t}=e,n=FL(e,["children"]);const[r,o]=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WL(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=t;i[$L]||(i[$L]={dragDropManager:BL(e,t,n,r)});return i[$L]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(n);return(0,i.useEffect)((()=>{if(o){const e=WL();return++UL,()=>{0===--UL&&(e[$L]=null)}}}),[]),(0,We.jsx)(yj.Provider,{value:r,children:t})}));function WL(){return"undefined"!==typeof global?global:window}!function(e){e.mouse="mouse",e.touch="touch",e.keyboard="keyboard"}(HL||(HL={}));class qL{get delay(){var e;return null!==(e=this.args.delay)&&void 0!==e?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return null!==(e=this.args.ignoreContextMenu)&&void 0!==e&&e}get enableHoverOutsideTarget(){var e;return null!==(e=this.args.enableHoverOutsideTarget)&&void 0!==e&&e}get enableKeyboardEvents(){var e;return null!==(e=this.args.enableKeyboardEvents)&&void 0!==e&&e}get enableMouseEvents(){var e;return null!==(e=this.args.enableMouseEvents)&&void 0!==e&&e}get enableTouchEvents(){var e;return null===(e=this.args.enableTouchEvents)||void 0===e||e}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,t,n,r;return null!==(r=null!==(n=null===(e=this.args)||void 0===e?void 0:e.delayTouchStart)&&void 0!==n?n:null===(t=this.args)||void 0===t?void 0:t.delay)&&void 0!==r?r:0}get delayMouseStart(){var e,t,n,r;return null!==(r=null!==(n=null===(e=this.args)||void 0===e?void 0:e.delayMouseStart)&&void 0!==n?n:null===(t=this.args)||void 0===t?void 0:t.delay)&&void 0!==r?r:0}get window(){return this.context&&this.context.window?this.context.window:"undefined"!==typeof window?window:void 0}get document(){var e;return(null===(e=this.context)||void 0===e?void 0:e.document)?this.context.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.args)||void 0===e?void 0:e.rootElement)||this.document}constructor(e,t){this.args=e,this.context=t}}const GL=1,QL=0;function YL(e){return void 0===e.button||e.button===QL}function KL(e){return!!e.targetTouches}function XL(e,t){return KL(e)?function(e,t){return 1===e.targetTouches.length?XL(e.targetTouches[0]):t&&1===e.touches.length&&e.touches[0].target===t.target?XL(e.touches[0]):void 0}(e,t):{x:e.clientX,y:e.clientY}}const ZL=(()=>{let e=!1;try{addEventListener("test",(()=>{}),Object.defineProperty({},"passive",{get:()=>(e=!0,!0)}))}catch(op){}return e})(),JL={[HL.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[HL.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[HL.keyboard]:{keydown:"keydown"}};class ez{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:(null===(e=this.dragOverTargetIds)||void 0===e?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(ij(!ez.isSetUp,"Cannot have two Touch backends at the same time."),ez.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(ez.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=ZL?{capture:r,passive:!1}:r;this.listenerTypes.forEach((function(r){const o=JL[r][t];o&&e.addEventListener(o,n,i)}))}removeEventListener(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=ZL?{capture:r,passive:!1}:r;this.listenerTypes.forEach((function(r){const o=JL[r][t];o&&e.removeEventListener(o,n,i)}))}connectDragSource(e,t){const n=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,t),this.addEventListener(t,"start",n),()=>{this.sourceNodes.delete(e),this.removeEventListener(t,"start",n)}}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,t){const n=this.options.rootElement;if(!this.document||!n)return()=>{};const r=r=>{if(!this.document||!n||!this.monitor.isDragging())return;let i;switch(r.type){case JL.mouse.move:i={x:r.clientX,y:r.clientY};break;case JL.touch.move:var o,s;i={x:(null===(o=r.touches[0])||void 0===o?void 0:o.clientX)||0,y:(null===(s=r.touches[0])||void 0===s?void 0:s.clientY)||0}}const a=null!=i?this.document.elementFromPoint(i.x,i.y):void 0,l=a&&t.contains(a);return a===t||l?this.handleMove(r,e):void 0};return this.addEventListener(this.document.body,"move",r),this.targetNodes.set(e,t),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",r))}}getTopMoveStartHandler(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver((()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())})),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,t,n){this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&function(e){const t=1===e.nodeType?e:e.parentElement;if(!t)return;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}(t)},this.handleTopMoveStartCapture=e=>{YL(e)&&(this.moveStartSourceIds=[])},this.handleMoveStart=e=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(e)},this.handleTopMoveStart=e=>{if(!YL(e))return;const t=XL(e);t&&(KL(e)&&(this.lastTargetTouchFallback=e.targetTouches[0]),this._mouseClientOffset=t),this.waitingForDelay=!1},this.handleTopMoveStartDelay=e=>{if(!YL(e))return;const t=e.type===JL.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,e),t),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(e,t)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(t)},this.handleTopMove=e=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:t,dragOverTargetIds:n}=this,r=this.options.enableHoverOutsideTarget,i=XL(e,this.lastTargetTouchFallback);if(!i)return;if(this._isScrolling||!this.monitor.isDragging()&&function(e,t,n,r,i){if(!i)return!1;const o=180*Math.atan2(r-t,n-e)/Math.PI+180;for(let s=0;s<i.length;++s){const e=i[s];if(e&&(null==e.start||o>=e.start)&&(null==e.end||o<=e.end))return!0}return!1}(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,i.x,i.y,this.options.scrollAngleRanges))return void(this._isScrolling=!0);var o,s,a,l;if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&t&&(o=this._mouseClientOffset.x||0,s=this._mouseClientOffset.y||0,a=i.x,l=i.y,Math.sqrt(Math.pow(Math.abs(a-o),2)+Math.pow(Math.abs(l-s),2))>(this.options.touchSlop?this.options.touchSlop:0))&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(t,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const c=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(c),this.actions.publishDragSource(),e.cancelable&&e.preventDefault();const u=(n||[]).map((e=>this.targetNodes.get(e))).filter((e=>!!e)),d=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(i.x,i.y,u):this.document.elementsFromPoint(i.x,i.y),h=[];for(const p in d){if(!d.hasOwnProperty(p))continue;let e=d[p];for(null!=e&&h.push(e);e;)e=e.parentElement,e&&-1===h.indexOf(e)&&h.push(e)}const f=h.filter((e=>u.indexOf(e)>-1)).map((e=>this._getDropTargetId(e))).filter((e=>!!e)).filter(((e,t,n)=>n.indexOf(e)===t));if(r)for(const p in this.targetNodes){const e=this.targetNodes.get(p);if(c&&e&&e.contains(c)&&-1===f.indexOf(p)){f.unshift(p);break}}f.reverse(),this.actions.hover(f,{clientOffset:i})},this._getDropTargetId=e=>{const t=this.targetNodes.keys();let n=t.next();for(;!1===n.done;){const r=n.value;if(e===this.targetNodes.get(r))return r;n=t.next()}},this.handleTopMoveEndCapture=e=>{this._isScrolling=!1,this.lastTargetTouchFallback=void 0,function(e){return void 0===e.buttons||0===(e.buttons&GL)}(e)&&(this.monitor.isDragging()&&!this.monitor.didDrop()?(e.cancelable&&e.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()):this.moveStartSourceIds=void 0)},this.handleCancelOnEscape=e=>{"Escape"===e.key&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new qL(n,t),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(HL.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(HL.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(HL.keyboard)}}const tz=function(e){return new ez(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})};!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var nz=e=>"number"==typeof e&&!isNaN(e),rz=e=>"string"==typeof e,iz=e=>"function"==typeof e,oz=e=>rz(e)||iz(e)?e:null,sz=(e,t)=>!1===e||nz(e)&&e>0?e:t,az=e=>(0,i.isValidElement)(e)||rz(e)||iz(e)||nz(e);function lz(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:o=!0,collapseDuration:s=300}=e;return function(e){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:f}=e,p=r?`${t}--${l}`:t,g=r?`${n}--${l}`:n,m=(0,i.useRef)(0);return(0,i.useLayoutEffect)((()=>{let e=d.current,t=p.split(" "),n=r=>{r.target===d.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,i.useEffect)((()=>{let e=d.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,u,s):u()};h||(c?t():(m.current=1,e.className+=` ${g}`,e.addEventListener("animationend",t)))}),[h]),i.createElement(i.Fragment,null,a)}}function cz(e,t){return{content:uz(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function uz(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,i.isValidElement)(e)&&!rz(e.type)?(0,i.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):iz(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function dz(e){let{delay:t,isRunning:n,closeToast:r,type:o="default",hide:s,className:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=e,f=s||l&&0===c,p={animationDuration:`${t}ms`,animationPlayState:n?"running":"paused"};l&&(p.transform=`scaleX(${c})`);let g=E_("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":u}),m=iz(a)?a({rtl:u,type:o,defaultClassName:g}):E_(g,a),v={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}};return i.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},i.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${o}`}),i.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:m,style:p,...v}))}var hz=1,fz=()=>""+hz++;function pz(e,t,n){let r=1,i=0,o=[],s=[],a=t,l=new Map,c=new Set,u=()=>{s=Array.from(l.values()),c.forEach((e=>e()))},d=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},h=e=>{if(null==e)l.forEach(d);else{let t=l.get(e);t&&d(t)}u()},f=e=>{var t,r;let{toastId:i,updateId:o}=e.props,s=null==o;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(i,e),u(),n(cz(e,s?"added":"updated")),s&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:a,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{l.forEach((n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))}))},removeToast:h,toasts:l,clearQueue:()=>{i-=o.length,o=[]},buildToast:(t,s)=>{if((t=>{let{containerId:n,toastId:r,updateId:i}=t,o=n?n!==e:1!==e,s=l.has(r)&&null==i;return o||s})(s))return;let{toastId:c,updateId:d,data:p,staleId:g,delay:m}=s,v=null==d;v&&i++;let y={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(s).filter((e=>{let[t,n]=e;return null!=n}))),toastId:c,updateId:d,data:p,isIn:!1,className:oz(s.className||a.toastClassName),progressClassName:oz(s.progressClassName||a.progressClassName),autoClose:!s.isLoading&&sz(s.autoClose,a.autoClose),closeToast(e){l.get(c).removalReason=e,h(c)},deleteToast(){let e=l.get(c);if(null!=e){if(n(cz(e,"removed")),l.delete(c),i--,i<0&&(i=0),o.length>0)return void f(o.shift());u()}}};y.closeButton=a.closeButton,!1===s.closeButton||az(s.closeButton)?y.closeButton=s.closeButton:!0===s.closeButton&&(y.closeButton=!az(a.closeButton)||a.closeButton);let b={content:t,props:y,staleId:g};a.limit&&a.limit>0&&i>a.limit&&v?o.push(b):nz(m)?setTimeout((()=>{f(b)}),m):f(b)},setProps(e){a=e},setToggle:(e,t)=>{let n=l.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>s}}var gz=new Map,mz=[],vz=new Set,yz=e=>vz.forEach((t=>t(e))),bz=()=>gz.size>0;function wz(e,t){var n;if(t)return!(null==(n=gz.get(t))||!n.isToastActive(e));let r=!1;return gz.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function Sz(e){if(bz()){if(null==e||(e=>rz(e)||nz(e))(e))gz.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){let t=gz.get(e.containerId);t?t.removeToast(e.id):gz.forEach((t=>{t.removeToast(e.id)}))}}else mz=mz.filter((t=>null!=e&&t.options.toastId!==e))}function Ez(e,t){az(e)&&(bz()||mz.push({content:e,options:t}),gz.forEach((n=>{n.buildToast(e,t)})))}function Cz(e,t){gz.forEach((n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)}))}function xz(e){let t=e.containerId||1;return{subscribe(n){let r=pz(t,e,yz);gz.set(t,r);let i=r.observe(n);return mz.forEach((e=>Ez(e.content,e.options))),mz=[],()=>{i(),gz.delete(t)}},setProps(e){var n;null==(n=gz.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=gz.get(t))?void 0:e.getSnapshot()}}}function _z(e){return e&&(rz(e.toastId)||nz(e.toastId))?e.toastId:fz()}function Dz(e,t){return Ez(e,t),t.toastId}function Tz(e,t){return{...t,type:t&&t.type||e,toastId:_z(t)}}function kz(e){return(t,n)=>Dz(t,Tz(e,n))}function Rz(e,t){return Dz(e,Tz("default",t))}function Az(e){let[t,n]=(0,i.useState)(!1),[r,o]=(0,i.useState)(!1),s=(0,i.useRef)(null),a=(0,i.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function f(){n(!0)}function p(){n(!1)}function g(n){let r=s.current;if(a.canDrag&&r){a.didMove=!0,t&&p(),"x"===e.draggableDirection?a.delta=n.clientX-a.start:a.delta=n.clientY-a.start,a.start!==n.clientX&&(a.canCloseOnClick=!1);let i="x"===e.draggableDirection?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;r.style.transform=`translate3d(${i},0)`,r.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance))}}function m(){document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",m);let t=s.current;if(a.canDrag&&a.didMove&&t){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return o(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=gz.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:n}),(0,i.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||p(),window.addEventListener("focus",f),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",p)}}),[e.pauseOnFocusLoss]);let v={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){a.didMove=!1,document.addEventListener("pointermove",g),document.addEventListener("pointerup",m);let n=s.current;a.canCloseOnClick=!0,a.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(a.start=t.clientX,a.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(a.start=t.clientY,a.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:i,right:o}=s.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=i&&t.clientX<=o&&t.clientY>=n&&t.clientY<=r?p():f()}};return l&&c&&(v.onMouseEnter=p,e.stacked||(v.onMouseLeave=f)),h&&(v.onClick=e=>{d&&d(e),a.canCloseOnClick&&u(!0)}),{playToast:f,pauseToast:p,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:v}}Rz.loading=(e,t)=>Dz(e,Tz("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Rz.promise=function(e,t,n){let r,{pending:i,error:o,success:s}=t;i&&(r=rz(i)?Rz.loading(i,n):Rz.loading(i.render,{...n,...i}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void Rz.dismiss(r);let o={type:e,...a,...n,data:i},s=rz(t)?{render:t}:t;return r?Rz.update(r,{...o,...s}):Rz(s.render,{...o,...s}),i},c=iz(e)?e():e;return c.then((e=>l("success",s,e))).catch((e=>l("error",o,e))),c},Rz.success=kz("success"),Rz.info=kz("info"),Rz.error=kz("error"),Rz.warning=kz("warning"),Rz.warn=Rz.warning,Rz.dark=(e,t)=>Dz(e,Tz("default",{theme:"dark",...t})),Rz.dismiss=function(e){Sz(e)},Rz.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};gz.forEach((t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()}))},Rz.isActive=wz,Rz.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=gz.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:fz()};o.toastId!==e&&(o.staleId=e);let s=o.render||i;delete o.render,Dz(s,o)}},Rz.done=e=>{Rz.update(e,{progress:1})},Rz.onChange=function(e){return vz.add(e),()=>{vz.delete(e)}},Rz.play=e=>Cz(!0,e),Rz.pause=e=>Cz(!1,e);var Iz="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,Nz=e=>{let{theme:t,type:n,isLoading:r,...o}=e;return i.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...o})};var Pz={info:function(e){return i.createElement(Nz,{...e},i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return i.createElement(Nz,{...e},i.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return i.createElement(Nz,{...e},i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return i.createElement(Nz,{...e},i.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return i.createElement("div",{className:"Toastify__spinner"})}};function Mz(e){let{theme:t,type:n,isLoading:r,icon:o}=e,s=null,a={theme:t,type:n};return!1===o||(iz(o)?s=o({...a,isLoading:r}):(0,i.isValidElement)(o)?s=(0,i.cloneElement)(o,a):r?s=Pz.spinner():(e=>e in Pz)(n)&&(s=Pz[n](a))),s}var Oz=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:o,playToast:s}=Az(e),{closeButton:a,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:h,closeToast:f,transition:p,position:g,className:m,style:v,progressClassName:y,updateId:b,role:w,progress:S,rtl:E,toastId:C,deleteToast:x,isIn:_,isLoading:D,closeOnClick:T,theme:k,ariaLabel:R}=e,A=E_("Toastify__toast",`Toastify__toast-theme--${k}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":T}),I=iz(m)?m({rtl:E,position:g,type:d,defaultClassName:A}):E_(A,m),N=Mz(e),P=!!S||!c,M={closeToast:f,type:d,theme:k},O=null;return!1===a||(O=iz(a)?a(M):(0,i.isValidElement)(a)?(0,i.cloneElement)(a,M):function(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return i.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(!0)},"aria-label":r},i.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},i.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(M)),i.createElement(p,{isIn:_,done:x,position:g,preventExitTransition:n,nodeRef:r,playToast:s},i.createElement("div",{id:C,tabIndex:0,onClick:u,"data-in":_,className:I,...o,style:v,ref:r,..._&&{role:w,"aria-label":R}},null!=N&&i.createElement("div",{className:E_("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},N),uz(l,e,!t),O,!e.customProgressBar&&i.createElement(dz,{...b&&!P?{key:`p-${b}`}:{},rtl:E,theme:k,delay:c,isRunning:t,isIn:_,closeToast:f,hide:h,type:d,className:y,controlledProgress:P,progress:S||0})))},jz=function(e){return{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},Lz=lz(jz("bounce",!0)),zz=(lz(jz("slide",!0)),lz(jz("zoom")),lz(jz("flip")),{position:"top-right",transition:Lz,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function Bz(e){let t={...zz,...e},n=e.stacked,[r,o]=(0,i.useState)(!0),s=(0,i.useRef)(null),{getToastToRender:a,isToastActive:l,count:c}=function(e){var t;let{subscribe:n,getSnapshot:r,setProps:o}=(0,i.useRef)(xz(e)).current;o(e);let s=null==(t=(0,i.useSyncExternalStore)(n,r,r))?void 0:t.slice();return{getToastToRender:function(t){if(!s)return[];let n=new Map;return e.newestOnTop&&s.reverse(),s.forEach((e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},isToastActive:wz,count:null==s?void 0:s.length}}(t),{className:u,style:d,rtl:h,containerId:f,hotKeys:p}=t;function g(e){let t=E_("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":h});return iz(u)?u({position:e,rtl:h,defaultClassName:t}):E_(t,oz(u))}function m(){n&&(o(!0),Rz.play())}return Iz((()=>{var e;if(n){let n=s.current.querySelectorAll('[data-in="true"]'),i=12,o=null==(e=t.position)?void 0:e.includes("top"),a=0,l=0;Array.from(n).reverse().forEach(((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed=`${r}`),n.dataset.pos||(n.dataset.pos=o?"top":"bot");let s=a*(r?.2:1)+(r?0:i*t);n.style.setProperty("--y",`${o?s:-1*s}px`),n.style.setProperty("--g",`${i}`),n.style.setProperty("--s",""+(1-(r?l:0))),a+=n.offsetHeight,l+=.025}))}}),[r,c,n]),(0,i.useEffect)((()=>{function e(e){var t;let n=s.current;p(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),o(!1),Rz.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(o(!0),Rz.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[p]),i.createElement("section",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{n&&(o(!1),Rz.pause())},onMouseLeave:m,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},a(((e,t)=>{let r=t.length?{...d}:{...d,pointerEvents:"none"};return i.createElement("div",{tabIndex:-1,className:g(e),"data-stacked":n,style:r,key:`c-${e}`},t.map((e=>{let{content:t,props:r}=e;return i.createElement(Oz,{...r,stacked:n,collapseAll:m,isIn:l(r.toastId,r.containerId),key:`t-${r.key}`},t)})))})))}const Fz=["A","B","C","D"],Uz="parasol",$z=e=>{if(!e)return"N/A";const t=e instanceof Date?e:e.toDate();try{const e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0");return`${e}/${n}/${t.getFullYear()}`}catch(op){return console.error("Erreur formatage date:",op,e),"Data invalida"}},Hz=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),d=(0,i.useCallback)((async()=>{r(!0),s(null);try{const e=(await Qh(Vd(lf,"reservations"))).docs.map((e=>{const t=e.data();let n=null;t.startDate&&(t.startDate instanceof Yr?n=t.startDate.toDate():"string"===typeof t.startDate?n=new Date(t.startDate+"T00:00:00Z"):t.startDate instanceof Date&&(n=t.startDate));let r=null;return t.endDate&&(t.endDate instanceof Yr?r=t.endDate.toDate():"string"===typeof t.endDate?r=new Date(t.endDate+"T00:00:00Z"):t.endDate instanceof Date&&(r=t.endDate)),n&&isNaN(n.getTime())&&(console.warn(`Date de d\xe9but invalide pour la r\xe9servation ${e.id}:`,t.startDate),n=null),r&&isNaN(r.getTime())&&(console.warn(`Date de fin invalide pour la r\xe9servation ${e.id}:`,t.endDate),r=null),{id:e.id,...t,startDate:n,endDate:r}}));t(e)}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des r\xe9servations:",e),s("Impossibile caricare le prenotazioni.")}finally{r(!1)}}),[]);(0,i.useEffect)((()=>{d()}),[d]);const h=async(e,n)=>{console.log(`Tentative de d\xe9placement de la r\xe9servation ${e} vers ${n}`);const r=Wd(lf,"reservations",e);try{await Kh(r,{cellCode:n}),console.log(`R\xe9servation ${e} d\xe9plac\xe9e vers ${n} avec succ\xe8s.`),Rz.success(`Ombrellone spostato con successo a ${n} !`),t((t=>t.map((t=>t.id===e?{...t,cellCode:n}:t))))}catch(i){console.error("Erreur lors de la mise \xe0 jour de la r\xe9servation:",i),alert("Errore durante spostamento dell'ombrellone")}},f="jour entier",p="matin",g="apr\xe8s-midi",m=(t,n,r)=>{if(!t||!t.startDate||!t.endDate||isNaN(t.startDate.getTime())||isNaN(t.endDate.getTime()))return console.warn("V\xe9rification de conflit annul\xe9e: reservationToCheck invalide ou dates invalides"),!1;const i=new Date(Date.UTC(t.startDate.getUTCFullYear(),t.startDate.getUTCMonth(),t.startDate.getUTCDate())),o=new Date(Date.UTC(t.endDate.getUTCFullYear(),t.endDate.getUTCMonth(),t.endDate.getUTCDate()));for(const s of e){if(s.id===r||s.cellCode!==n||!s.startDate||!s.endDate||isNaN(s.startDate.getTime())||isNaN(s.endDate.getTime()))continue;const e=new Date(Date.UTC(s.startDate.getUTCFullYear(),s.startDate.getUTCMonth(),s.startDate.getUTCDate()));if(i<=new Date(Date.UTC(s.endDate.getUTCFullYear(),s.endDate.getUTCMonth(),s.endDate.getUTCDate()))&&o>=e){console.warn(`Chevauchement de dates d\xe9tect\xe9 pour ${t.id} sur ${n} avec ${s.id} (${$z(s.startDate)}-${$z(s.endDate)})`);const e=t.condition,r=s.condition;if(e===f||r===f||e===p&&r===p||e===g&&r===g)return alert(`Conflitto su ${n} con la prenotazione di ${s.nom||"Client"} (${e} vs ${r}) per il periodo (${$z(s.startDate)} - ${$z(s.endDate)})`),!0}}return!1},v=async(n,r,i,o)=>{const s=e.find((e=>e.id===n)),a=e.find((e=>e.id===r));if(!s||!a)return void alert("Dati di prenotazioni mancanti per lo scambio");console.log(`Tentative d'\xe9change entre r\xe9servation ${n} (sur ${i}) et ${r} (sur ${o})`);const l=m(s,o,r),c=m(a,i,n);if(l||c)return void alert("Conflitto di date/condizione! Scambio impossibile.");const u=Wd(lf,"reservations",n),d=Wd(lf,"reservations",r),h=function(e){return Kd(e=Od(e,Yd)),new tf(e,(t=>Jh(e,t)))}(lf);h.update(u,{cellCode:o}),h.update(d,{cellCode:i});try{await h.commit(),console.log("\xc9change effectu\xe9 avec succ\xe8s."),Rz.success(`Ombrelloni scambiati con successo fra ${i} e ${o}!`),t((e=>e.map((e=>e.id===n?{...e,cellCode:o}:e.id===r?{...e,cellCode:i}:e))))}catch(f){console.error("Erreur lors de l'\xe9change des r\xe9servations:",f),alert("Errore durante lo scambio di ombrelli")}},y=t=>{let n=new Date;n.setHours(0,0,0,0);let r=new Date(n);if(a&&c)try{const e=new Date(a+"T00:00:00Z"),t=new Date(c+"T00:00:00Z");!isNaN(e)&&!isNaN(t)&&e<=t?(n=e,r=t):console.warn("Dates de filtre invalides, utilisation de la date du jour.")}catch(op){console.error("Erreur parsing dates filtre:",op)}const i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())),o=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate()));return e.find((e=>{if(e.cellCode!==t||!e.startDate||!e.endDate||isNaN(e.startDate.getTime())||isNaN(e.endDate.getTime()))return!1;const n=new Date(Date.UTC(e.startDate.getUTCFullYear(),e.startDate.getUTCMonth(),e.startDate.getUTCDate())),r=new Date(Date.UTC(e.endDate.getUTCFullYear(),e.endDate.getUTCMonth(),e.endDate.getUTCDate()));return e.cellCode===t&&n<=o&&r>=i}))},b=e=>{let{cellCode:t}=e;const n=y(t),[{isDragging:r},o]=_j((()=>({type:Uz,item:{reservationId:null===n||void 0===n?void 0:n.id,originalCellCode:t,reservationData:n},canDrag:!!n,collect:e=>({isDragging:!!e.isDragging()})})),[n,t]),[{isOver:s,canDrop:a},l]=Nj((()=>({accept:Uz,canDrop:e=>e.originalCellCode!==t,drop:e=>{if(e.reservationId&&e.originalCellCode!==t){const n=y(t);n?v(e.reservationId,n.id,e.originalCellCode,t):h(e.reservationId,t)}},collect:e=>({isOver:!!e.isOver(),canDrop:!!e.canDrop()})})),[t,h,v,y]),c=i.useRef(null);o(l(c));const u=n;return(0,We.jsxs)("div",{ref:c,className:`${rj.cell} ${u?rj.reservedCell:rj.freeCell} ${r?rj.draggingCell:""} ${s&&a?rj.dropTargetCell:""}`,title:u?`Occupato da ${u.nom} ${u.prenom} (${u.condition})`:`Libero ${t}`,style:{opacity:r?.5:1},children:[(0,We.jsxs)("div",{className:rj.cellTop,children:[(0,We.jsxs)("div",{className:rj.cellTopHeader,children:[u&&(0,We.jsxs)("span",{className:rj.serialNumber,children:["N\xb0",u.serialNumber||"???"]}),(0,We.jsx)("span",{className:rj.cellCodeDisplay,children:t})]}),u&&(0,We.jsxs)(We.Fragment,{children:[(0,We.jsx)("span",{className:rj.clientName,children:u.nom}),(0,We.jsx)("span",{className:rj.clientName,children:u.prenom})]})]}),(0,We.jsx)("div",{className:rj.cellBottom,children:u?(0,We.jsxs)("span",{className:rj.period,children:[$z(u.startDate)," -"," ",$z(u.endDate),(0,We.jsx)("br",{}),"(",u.condition||"N/A",")"]}):(0,We.jsx)("span",{children:"Libero"})})]})};return(0,We.jsxs)("div",{className:rj.changeExchangeContainer,children:[(0,We.jsxs)("div",{className:rj.titre,children:[(0,We.jsx)("h1",{children:"Gestione Cambi / Scambi Posto"})," "]}),(0,We.jsxs)("div",{className:rj.filterContainer,children:[(0,We.jsxs)("div",{className:rj.formGroup,children:[(0,We.jsx)("label",{htmlFor:"filterStartDate",children:"Data Inizio:"})," ",(0,We.jsx)("input",{type:"date",id:"filterStartDate",value:a,onChange:e=>l(e.target.value)})]}),(0,We.jsxs)("div",{className:rj.formGroup,children:[(0,We.jsx)("label",{htmlFor:"filterEndDate",children:"Data Fine:"})," ",(0,We.jsx)("input",{type:"date",id:"filterEndDate",value:c,min:a,onChange:e=>u(e.target.value)})]}),(0,We.jsx)("div",{className:rj.searchAction,children:(0,We.jsx)("button",{onClick:()=>{console.log("Recherche lanc\xe9e avec dates:",a,c)},className:rj.searchButton,children:"Cerca "})})]}),n&&(0,We.jsx)("div",{className:rj.loadingIndicator,children:"Caricamento..."}),o&&(0,We.jsx)("div",{className:rj.error,children:o}),!n&&!o&&(0,We.jsx)("div",{className:rj.gridContainer,children:Fz.map((e=>(0,We.jsx)("div",{className:rj.gridRow,children:Array.from({length:36}).map(((t,n)=>{const r=String(n+1).padStart(2,"0"),i=`${e}${r}`;return(0,We.jsx)(b,{cellCode:i},i)}))},e)))})]})},Vz=()=>(0,We.jsxs)(VL,{backend:tz,options:{enableMouseEvents:!0},children:[" ",(0,We.jsx)(Hz,{}),(0,We.jsx)(Bz,{position:"bottom-right",autoClose:3e3})]}),Wz={TestQueryNamePage:"TestQueryName_TestQueryNamePage__Vvjx2",Titre:"TestQueryName_Titre__gk8Ny",searchControls:"TestQueryName_searchControls__Y5ELX",serialInput:"TestQueryName_serialInput__bUVNG",searchInput:"TestQueryName_searchInput__steMI",searchButton:"TestQueryName_searchButton__GRker",resultsSection:"TestQueryName_resultsSection__-UkbR",resultsTable:"TestQueryName_resultsTable__+JQJW",resultsTableContainer:"TestQueryName_resultsTableContainer__M0d6d"},qz=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(""),[a,l]=(0,i.useState)([]),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),f=e=>{if(!e)return"N/A";try{const[t,n,r]=e.split("-");return`${r}/${n}/${t}`}catch(op){return e}},p=e=>{switch(e){case"jour entier":return"Giorno intero";case"matin":return"Mattina";case"apres-midi":return"Pomeriggio";default:return e||"N/D"}},g=e=>{switch(e){case"jour entier":return{color:"red",fontWeight:"bold"};case"matin":return{color:"blue",fontWeight:"bold"};case"apres-midi":return{color:"orange",fontWeight:"bold"};default:return{}}},m=(0,i.useCallback)((async()=>{console.log("handleSearch d\xe9marr\xe9e !"),u(!0),h(!0);try{const t=Vd(lf,"reservations");console.log("R\xe9cup\xe9ration des r\xe9servations depuis Firestore...");const r=(await Qh(t)).docs.map((e=>({id:e.id,...e.data()})));console.log(`Filtrage de ${r.length} r\xe9servations...`);const i=r.filter((t=>{const r=!e||t.nom&&t.nom.toLowerCase().includes(e.toLowerCase()),i=!n||t.prenom&&t.prenom.toLowerCase().includes(n.toLowerCase()),s=!o||t.serialNumber&&t.serialNumber.toString().includes(o);return r&&i&&s}));i.sort(((e,t)=>{if(e.startDate<t.startDate)return-1;if(e.startDate>t.startDate)return 1;const n=e.nom||"",r=t.nom||"";return n<r?-1:n>r?1:0})),console.log(`Recherche termin\xe9e. ${i.length} r\xe9sultats trouv\xe9s.`),i.length>0&&l((e=>[...e,i]))}catch(t){console.error("Erreur lors de la recherche:",t),alert("Une erreur est survenue pendant la recherche.")}finally{console.log("Bloc finally atteint, isLoading mis \xe0 false."),u(!1)}}),[e,n,o]);return(0,We.jsx)("div",{children:(0,We.jsxs)("div",{className:Wz.TestQueryNamePage,children:[(0,We.jsx)("div",{className:Wz.Titre,children:(0,We.jsx)("h1",{children:"Test Query Name"})}),(0,We.jsxs)("div",{className:Wz.searchControls,children:[(0,We.jsx)("input",{type:"text",placeholder:"Cognome...",value:e,onChange:e=>t(e.target.value),className:Wz.searchInput}),(0,We.jsx)("input",{type:"text",placeholder:"Nome...",value:n,onChange:e=>r(e.target.value),className:Wz.searchInput}),(0,We.jsx)("input",{type:"text",placeholder:"N\xb0 Prenot. (7 cifre)",value:o,onChange:e=>s(e.target.value),maxLength:7,className:`${Wz.searchInput} ${Wz.serialInput}`}),(0,We.jsx)("button",{onClick:m,disabled:c,className:Wz.searchButton,children:c?"Ricerca...":"Cerca"})]}),(0,We.jsx)("div",{className:Wz.resultsSection,children:c?(0,We.jsx)("p",{children:"Ricerca in corso..."}):d?(v=a,v.length>0?a.map(((e,t)=>(0,We.jsxs)("div",{className:Wz.resultsTableContainer,children:[t>0&&(0,We.jsx)("hr",{className:Wz.resultSeparator}),(0,We.jsxs)("table",{className:Wz.resultsTable,children:[(0,We.jsx)("thead",{children:(0,We.jsxs)("tr",{children:[(0,We.jsx)("th",{children:"Ombrellone"}),(0,We.jsx)("th",{children:"Cognome"}),(0,We.jsx)("th",{children:"Nome"}),(0,We.jsx)("th",{children:"Data Inizio"}),(0,We.jsx)("th",{children:"Data Fine"}),(0,We.jsx)("th",{children:"Condizione"})]})}),(0,We.jsx)("tbody",{children:e.map((e=>(0,We.jsxs)("tr",{children:[(0,We.jsx)("td",{children:e.cellCode||"N/A"}),(0,We.jsx)("td",{children:e.nom||""}),(0,We.jsx)("td",{children:e.prenom||""}),(0,We.jsx)("td",{children:f(e.startDate)}),(0,We.jsx)("td",{children:f(e.endDate||e.startDate)}),(0,We.jsx)("td",{style:g(e.condition),children:p(e.condition)})]},e.id)))})]})]},t))):(0,We.jsx)("p",{children:"Nessuna prenotazione trovata con questi criteri."})):(0,We.jsx)("p",{children:"Inserisci i criteri e clicca 'Cerca'."})})]})});var v},Gz={TestQueryPlanPage:"TestQueryPlan_TestQueryPlanPage__6a3ZL",Titre:"TestQueryPlan_Titre__BLz7P",controlsHeader:"TestQueryPlan_controlsHeader__C+74B",dateSelector:"TestQueryPlan_dateSelector__QawYT",conditionSelector:"TestQueryPlan_conditionSelector__1m9Zk",loadingIndicator:"TestQueryPlan_loadingIndicator__0FHME",errorLoading:"TestQueryPlan_errorLoading__nZt0B",noResults:"TestQueryPlan_noResults__QOgqb",beach_plan:"TestQueryPlan_beach_plan__-xZJV",row:"TestQueryPlan_row__+lSAj",cell:"TestQueryPlan_cell__pIyxK",cellHalf:"TestQueryPlan_cellHalf__XSH8c",filteredOut:"TestQueryPlan_filteredOut__RqSJZ",colorEmpty:"TestQueryPlan_colorEmpty__saBO9",colorJourEntier:"TestQueryPlan_colorJourEntier__UfSGT",colorMatin:"TestQueryPlan_colorMatin__GdG37",colorApresMidi:"TestQueryPlan_colorApresMidi__A9RYG"},Qz=async()=>{const e=Wd(Vd(lf,"counters"),"reservationCounter");try{const t=await sf(lf,(async t=>{const n=await t.get(e);let r;if(n.exists()){r=(n.data().lastNumber||0)+1,t.update(e,{lastNumber:r})}else r=1,t.set(e,{lastNumber:r});return r}));return`${(new Date).getFullYear().toString().slice(-2)}${String(t).padStart(5,"0")}`}catch(t){throw console.error("Erreur lors de la g\xe9n\xe9ration du num\xe9ro de s\xe9rie via transaction:",t),new Error("Impossible de g\xe9n\xe9rer le num\xe9ro de s\xe9rie pour la r\xe9servation.")}},Yz=()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},Kz=(e,t)=>{if(!e)return null;try{const n=new Date(e);n.setDate(n.getDate()+t);const r=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0");return`${r}-${i}-${String(n.getDate()).padStart(2,"0")}`}catch(op){return console.error("Erreur dans addDays avec dateStr:",e,op),null}},Xz=["A","B","C","D"],Zz=Array.from({length:36},((e,t)=>(t+1).toString().padStart(2,"0"))),Jz=Xz.flatMap((e=>Zz.map((t=>`${e}${t}`)))),eB=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(Yz()),[o,s]=(0,i.useState)(Yz()),[a,l]=(0,i.useState)("booked_full"),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)(!0),[f,p]=(0,i.useState)(!1),[g,m]=(0,i.useState)(!1),[v,y]=(0,i.useState)(null),[b,w]=(0,i.useState)(!1),[S,E]=(0,i.useState)(null),[C,x]=(0,i.useState)(""),[_,D]=(0,i.useState)(""),[T,k]=(0,i.useState)(null),R=(0,i.useCallback)((async()=>{h(!0);try{const e=Ih(Vd(lf,"reservations")),n=(await Qh(e)).docs.map((e=>({id:e.id,...e.data(),startDate:e.data().startDate||"",endDate:e.data().endDate||"",condition:e.data().condition||"jour entier",cellCode:e.data().cellCode||"",serialNumber:e.data().serialNumber||null,cabina:void 0!==e.data().cabina?e.data().cabina:null})));t(n)}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des r\xe9servations:",e),alert("Erreur lors du chargement des r\xe9servations."),t([])}finally{h(!1)}}),[]);(0,i.useEffect)((()=>{R()}),[R]);const A=(0,i.useMemo)((()=>{console.log("Recalculating reservationsMap...");const t=new Map;return e.forEach((e=>{if(!e.cellCode||!e.startDate||!e.endDate)return;let n=new Date(e.startDate);const r=new Date(e.endDate);for(;n<=r;){const r=n.toISOString().split("T")[0],i=`${e.cellCode}_${r}`;t.has(i)||t.set(i,[]),t.get(i).push({condition:e.condition,bookingId:e.serialNumber||e.id}),n.setDate(n.getDate()+1)}})),t}),[e]),I=(0,i.useCallback)((()=>{if(!n||!o||n>o)return alert("Seleziona un periodo valido prima di cercare."),u([]),void m(!0);p(!0),m(!0);const e=[];Jz.forEach((t=>{let r=!0,i=new Date(n);const s=new Date(o);for(;i<=s;){const e=`${t}_${i.toISOString().split("T")[0]}`,n=A.get(e)||[],o=n.some((e=>"jour entier"===e.condition)),s=n.some((e=>"matin"===e.condition)),l=n.some((e=>"apres-midi"===e.condition));let c=!1;switch(a){case"booked_full":c=o||s&&l;break;case"booked_morning":c=s&&!o&&!l;break;case"booked_afternoon":c=l&&!o&&!s;break;case"free_full":c=!o&&!s&&!l;break;case"free_only_morning":c=!o&&!s&&l;break;case"free_only_afternoon":c=!o&&!l&&s;break;default:c=!1}if(!c){r=!1;break}i.setDate(i.getDate()+1)}r&&e.push(t)})),console.log(`Ricerca completata, ${e.length} ombrelloni corrispondono.`),u(e),y(a),p(!1)}),[A,n,o,a]),N=()=>{w(!1),E(null),x(""),D(""),k(null)};return(0,We.jsx)("div",{children:(0,We.jsxs)("div",{className:Gz.TestQueryPlanPage,children:[(0,We.jsx)("div",{className:Gz.Titre,children:(0,We.jsx)("h1",{children:"Test Query Plan"})}),(0,We.jsxs)("div",{className:Gz.controlsHeader,children:[(0,We.jsxs)("div",{className:Gz.dateSelector,children:[(0,We.jsx)("label",{htmlFor:"startDate",children:"Dal:"}),(0,We.jsx)("input",{type:"date",id:"startDate",value:n,onChange:e=>r(e.target.value)}),(0,We.jsx)("label",{htmlFor:"endDate",children:"Al:"}),(0,We.jsx)("input",{type:"date",id:"endDate",value:o,min:n,onChange:e=>s(e.target.value)})]}),(0,We.jsxs)("div",{className:Gz.conditionSelector,children:[(0,We.jsx)("label",{htmlFor:"condition",children:"Mostra Ombrelloni:"}),(0,We.jsxs)("select",{id:"condition",value:a,onChange:e=>l(e.target.value),children:[(0,We.jsxs)("optgroup",{label:"Prenotati",children:[(0,We.jsx)("option",{value:"booked_full",children:"Prenotati Giorni Interi"}),(0,We.jsx)("option",{value:"booked_morning",children:"Prenotati Solo Mattina"}),(0,We.jsx)("option",{value:"booked_afternoon",children:"Prenotati Solo Pomeriggio"})]}),(0,We.jsxs)("optgroup",{label:"Liberi",children:[(0,We.jsx)("option",{value:"free_full",children:"Liberi Giorni Interi"}),(0,We.jsx)("option",{value:"free_only_morning",children:"Liberi Solo Mattina (Pomeriggio occupato)"}),(0,We.jsx)("option",{value:"free_only_afternoon",children:"Liberi Solo Pomeriggio (Mattina occupato)"})]})]})]}),(0,We.jsx)("button",{onClick:I,disabled:f||d,className:Gz.searchButton,children:f?"Ricerca...":"Cerca"})]}),d&&!g?(0,We.jsx)("div",{className:Gz.loadingIndicator,children:"Caricamento dati..."}):f?(0,We.jsx)("div",{className:Gz.loadingIndicator,children:"Ricerca in corso..."}):g&&0===c.length?(0,We.jsx)("div",{className:Gz.noResults,children:"Nessun ombrellone corrisponde ai criteri per l'intero periodo."}):g?(0,We.jsx)("div",{className:Gz.beach_plan,children:Xz.map((t=>(0,We.jsx)(i.Fragment,{children:Zz.map((r=>{const i=`${t}${r}`,s=c.includes(i);let a=Gz.colorEmpty,l=Gz.colorEmpty;if(s){const e=((e,t,n,r)=>{let i=new Date(t);const o=new Date(n);if(i>o)return!1;for(;i<=o;){const t=`${e}_${i.toISOString().split("T")[0]}`,n=r.get(t)||[],o=n.find((e=>"matin"===e.condition)),s=n.find((e=>"apres-midi"===e.condition)),a=n.find((e=>"jour entier"===e.condition));if(!o||!s||a||o.bookingId===s.bookingId)return!1;i.setDate(i.getDate()+1)}return!0})(i,n,o,A);if(e)a=Gz.colorMatin,l=Gz.colorApresMidi;else switch(v){case"booked_full":a=l=Gz.colorJourEntier;break;case"booked_morning":case"free_only_afternoon":a=Gz.colorMatin,l=Gz.colorEmpty;break;case"booked_afternoon":case"free_only_morning":a=Gz.colorEmpty,l=Gz.colorApresMidi;break;default:a=l=Gz.colorEmpty}}const u=s;return(0,We.jsxs)("div",{className:`${Gz.cell} ${s?"":Gz.filteredOut} ${u?Gz.clickable:""}`,title:s?`Ombrellone ${i} - Corrisponde (Clicca per dettagli/modifica)`:`Ombrellone ${i} - Non corrisponde`,onClick:()=>(t=>{if(c.includes(t))if("free_full"===v||"free_only_morning"===v||"free_only_afternoon"===v)E(t),k(null),x(n),D(o),w(!0),console.log(`Ouverture modal pour NOUVELLE r\xe9servation sur ${t}`);else{const r=`${t}_${n}`,i=A.get(r)||[];if(i.length>0){const r=i[0],s=e.find((e=>(e.serialNumber||e.id)===r.bookingId));s?(E(t),k(s),x(n),D(o),w(!0),console.log(`Ouverture modal pour VOIR/MODIFIER r\xe9servation sur ${t} (ID: ${s.id})`)):console.warn(`R\xe9servation avec ID ${r.bookingId} non trouv\xe9e dans allReservations.`)}else console.log(`Aucune r\xe9servation trouv\xe9e pour ${t} le ${n} malgr\xe9 le filtre.`)}else console.log(`Clic sur ${t} ignor\xe9 (non filtr\xe9)`)})(i),children:[(0,We.jsx)("div",{className:`${Gz.cellHalf} ${a}`,children:i}),(0,We.jsx)("div",{className:`${Gz.cellHalf} ${l}`})]},i)}))},t)))}):(0,We.jsx)("div",{className:Gz.noResults,children:"Seleziona i criteri e clicca 'Cerca'."}),b&&S&&(0,We.jsx)(Ke,{isOpen:b,onClose:N,onSave:async n=>{const r=S||n.cellCode;if(!r)return;h(!0);const{modifySingleDay:i,targetDate:o,targetDateCondition:s,id:a,serialNumber:l,...c}=n;try{if(i&&o&&s&&a){console.log(`Tentativo di split per ${r} il ${o}`);let n=null,i=null;n=await Qz();const l=e.find((e=>e.id===a));l&&l.endDate>o&&(i=await Qz());const u=[],d={deleted:!1,endDate:null};await sf(lf,(async e=>{const t=Wd(lf,"reservations",a),l=await e.get(t);if(!l.exists())throw new Error("Prenotazione originale non trovata per lo split.");const h=l.data(),f={...h,...c,startDate:o,endDate:o,condition:s,serialNumber:n,cellCode:r,createdAt:h.createdAt||af(),modifiedAt:af()};delete f.id;const p=Wd(Vd(lf,"reservations"));if(e.set(p,f),u.push({id:p.id,...f}),console.log("Split: Creata prenotazione giorno target",f.serialNumber),h.startDate<o){const n=Kz(o,-1);if(!n)throw new Error("Errore calcolo data fine periodo 'avant'.");e.update(t,{endDate:n,modifiedAt:af()}),d.endDate=n,console.log("Split: Aggiornata prenotazione originale (prima)",h.serialNumber,"nuova fine:",n)}else console.log("Split: Giorno target \xe8 startDate originale.");if(h.endDate>o){if(!i)throw new Error("Numero di serie mancante per il periodo 'dopo'.");const n=Kz(o,1);if(!n)throw new Error("Errore calcolo data inizio periodo 'apr\xe8s'.");const s={...h,startDate:n,endDate:h.endDate,serialNumber:i,cellCode:r,createdAt:h.createdAt||af(),modifiedAt:af()};delete s.id;const a=Wd(Vd(lf,"reservations"));e.set(a,s),u.push({id:a.id,...s}),console.log("Split: Creata prenotazione periodo dopo",s.serialNumber,"inizio:",n),h.startDate>=o&&(e.delete(t),d.deleted=!0,console.log("Split: Prenotazione originale eliminata (remplac\xe9e par 'apr\xe8s').",h.serialNumber))}else console.log("Split: Giorno target \xe8 endDate originale.");h.startDate===o&&h.endDate===o?(e.delete(t),d.deleted=!0,console.log("Split: Prenotazione originale eliminata (jour unique remplac\xe9).",h.serialNumber)):(h.startDate>o||h.endDate<o)&&(d.deleted||(e.delete(t),d.deleted=!0,console.log("Split: Prenotazione originale eliminata (devenue invalide).",h.serialNumber)))})),t((e=>{let t=[...e];return d.deleted?t=t.filter((e=>e.id!==a)):d.endDate&&(t=t.map((e=>e.id===a?{...e,endDate:d.endDate,modifiedAt:new Date}:e))),t=[...t,...u.map((e=>({...e,createdAt:new Date,modifiedAt:new Date})))],t})),console.log("Split completato con successo.")}else{console.log(`Tentativo di salvataggio normale per ${r}`);let n=!1,i="";if(c.startDate&&c.endDate&&c.startDate<=c.endDate){const t=c.startDate,o=c.endDate,s=c.condition,l=c.cabina,u=e.filter((e=>e.id!==a&&e.startDate&&e.endDate&&t<=e.endDate&&o>=e.startDate&&(e.cellCode===r||l&&e.cabina&&l===e.cabina)));for(const e of u){if(console.log(`V\xe9rification conflit: Courant (${s}) vs Existant (${e.condition}) pour ${r}`),e.cellCode===r){const t=e.condition;if("jour entier"===s||"jour entier"===t||"matin"===s&&"matin"===t||"apres-midi"===s&&"apres-midi"===t){console.log("--\x3e Conflit Ombrellone DETECTE!"),n=!0,i=`Conflitto Ombrellone ${r} rilevato (${e.condition}) con N\xb0 ${e.serialNumber||e.id} (${e.startDate} - ${e.endDate}).`;break}}if(l&&e.cabina&&l===e.cabina){console.log("--\x3e Conflit Cabine DETECTE!"),n=!0,i=`Conflitto Cabina ${l} rilevato con N\xb0 ${e.serialNumber||e.id} (${e.startDate} - ${e.endDate}).`;break}}}else c.startDate>c.endDate&&(n=!0,i="La data di fine non pu\xf2 essere anteriore alla data di inizio.");if(n)return console.log("Conflit trouv\xe9, affichage alerte:",i),alert(i),void h(!1);let o={...c,cellCode:r,modifiedAt:af()};if(a){const e=Wd(lf,"reservations",a);o.serialNumber=l,o.createdAt||(o.createdAt=af()),await Yh(e,o,{merge:!0}),console.log("Prenotazione aggiornata:",a),t((e=>e.map((e=>e.id===a?{...e,...o,modifiedAt:new Date}:e))))}else{const e=await Qz();o={...o,serialNumber:e,createdAt:af(),status:"active"};const n=await Zh(Vd(lf,"reservations"),o);console.log("Nuova prenotazione creata:",n.id,"SN:",e),t((e=>[...e,{id:n.id,...o,createdAt:new Date,modifiedAt:new Date}]))}}alert("Prenotazione salvata con successo!"),N(),await R(),I()}catch(u){console.error("Erreur lors de la sauvegarde de la r\xe9servation:",u),alert(`Errore durante il salvataggio: ${u.message}`)}finally{h(!1)}},cellCode:S,defaultStartDate:C,defaultEndDate:_,allReservations:e,selectedDate:n,reservationToEdit:T})]})})},tB="Navbar_navbar__n7ygh",nB="Navbar_navbarLinks__YkU3n",rB=()=>(0,We.jsx)("nav",{className:tB,children:(0,We.jsxs)("ul",{className:nB,children:[(0,We.jsx)("li",{children:(0,We.jsx)(ke,{to:"/Beachplan",children:"Beach Plan Day"})}),(0,We.jsx)("li",{children:(0,We.jsx)(ke,{to:"/query",children:"Query"})}),(0,We.jsx)("li",{children:(0,We.jsx)(ke,{to:"/beachplanperiod",children:"Beach Plan Period"})}),(0,We.jsx)("li",{children:(0,We.jsx)(ke,{to:"/changeexchange",children:"Change / Exchange"})}),(0,We.jsx)("li",{children:(0,We.jsx)(ke,{to:"/testqueryname",children:"TestQuery Name"})}),(0,We.jsx)("li",{children:(0,We.jsx)(ke,{to:"/testqueryplan",children:"TestQuery Plan"})}),(0,We.jsx)("li",{children:(0,We.jsx)(ke,{to:"/qrcodereader",children:"QR CODE Reader"})})]})}),iB=()=>(0,We.jsx)(_e,{basename:"/ombrelli",children:(0,We.jsxs)("div",{children:[(0,We.jsx)(rB,{}),(0,We.jsxs)(be,{children:[(0,We.jsx)(ve,{path:"/ombrelli",element:(0,We.jsx)(pf,{})}),(0,We.jsx)(ve,{path:"/",element:(0,We.jsx)(pf,{})}),(0,We.jsx)(ve,{path:"/beachplan",element:(0,We.jsx)(pf,{})}),(0,We.jsx)(ve,{path:"/reservationList",element:(0,We.jsx)(at,{})}),(0,We.jsx)(ve,{path:"/changeexchange",element:(0,We.jsx)(Vz,{})}),(0,We.jsx)(ve,{path:"/qrcodereader",element:(0,We.jsx)(Yf,{})}),(0,We.jsx)(ve,{path:"/beachplanperiod",element:(0,We.jsx)(nj,{})}),(0,We.jsx)(ve,{path:"/query",element:(0,We.jsx)(Hf,{})}),(0,We.jsx)(ve,{path:"/testqueryplan",element:(0,We.jsx)(eB,{})}),(0,We.jsx)(ve,{path:"/testqueryname",element:(0,We.jsx)(qz,{})}),(0,We.jsx)(ve,{path:"/qr-scan-resultat",element:(0,We.jsx)(Kf,{})})]})]})});s.createRoot(document.getElementById("root")).render((0,We.jsx)(i.StrictMode,{children:(0,We.jsx)(iB,{})}))})();
//# sourceMappingURL=main.2539753d.js.map